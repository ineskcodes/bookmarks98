!function(){function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequireb18d,n=t.register;n("gK1GM",function(n,i){e(n.exports,"default",function(){return s});var o=t("cbNRq"),s=class{constructor(){this.windows=Array.from(document.querySelectorAll(".window")),this.settingsWindow=document.querySelector(".window.popup"),this.maximizeButtons=document.querySelectorAll(".maximize-btn"),this.mainWindowHook=document.querySelector("#main-hook"),this.settingsWindowHook=document.querySelector("#settings-hook"),this.init()}init(){this.maximizeButtons.forEach(e=>{(0,o.getStateBoolean)(e,"data-listener")||(e.addEventListener("click",this.handleMaximizeButtonClick.bind(this)),e.dataset.listener="true")}),this.windows.forEach(e=>e.addEventListener("toggleminimize",e=>this.toggleIconsVisibility(e.currentTarget,!0))),document.documentElement.addEventListener("settingstoggled",this.updateSettingsFullscreenState.bind(this))}handleMaximizeButtonClick(e){let t=e.currentTarget,n=t.closest(".window"),i=!(0,o.getStateBoolean)(t,"aria-pressed");t.setAttribute("aria-pressed",i),n.classList.toggle("fullscreen"),n.dispatchEvent(new Event("activewindow")),this.toggleIconsVisibility(n)}toggleIconsVisibility(e,t=!1){let n=(0,o.getStateBoolean)(e,"data-minimized"),i=e.classList.contains("fullscreen"),s=e===this.settingsWindow?this.settingsWindowHook:this.mainWindowHook;t&&(n=!n),i&&!n?s.classList.add("hide-icons"):s.classList.remove("hide-icons")}updateSettingsFullscreenState(e){let{isOpen:t}=e.detail,n=this.settingsWindow.classList.contains("fullscreen");!t&&n&&this.settingsWindowHook.classList.remove("hide-icons")}}}),n("cbNRq",function(t,n){e(t.exports,"getDraggableType",function(){return i}),e(t.exports,"getDraggableItemName",function(){return o}),e(t.exports,"checkIfOverlap",function(){return s}),e(t.exports,"populateStorage",function(){return r}),e(t.exports,"getLastPositionFromLocalStorage",function(){return a}),e(t.exports,"getMaxZIndex",function(){return l}),e(t.exports,"getStateBoolean",function(){return d}),e(t.exports,"getCorrespondingTaskButton",function(){return u}),e(t.exports,"getCorrespondingWindow",function(){return c}),e(t.exports,"removeOutlineFromElement",function(){return g}),e(t.exports,"updatePageHookWindow",function(){return m});let i=e=>e.target.dataset.draggable,o=e=>e.target.dataset.item,s=(e,t)=>"icon"!==i(e)?null:(t=t.filter(e=>"true"!==e.dataset.minimized)).some(t=>e.hitTest(t,"25%")),r=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},a=e=>JSON.parse(localStorage.getItem(`${e.target.dataset.item}-position`)),l=([e,t])=>{let n=[getComputedStyle(e).zIndex,getComputedStyle(t).zIndex];return(n=n.map(e=>"auto"===e?0:parseInt(e))).reduce((e,t)=>Math.max(e,t))},d=(e,t)=>"true"===e.getAttribute(t),u=e=>document.querySelector(`#${e.dataset.task}`),c=e=>document.querySelector(`.window[data-task="${e.id}"]`),g=(e,t)=>{t&&(e.classList.add("remove-outline"),e.addEventListener("blur",()=>e.classList.remove("remove-outline"),{once:!0}))},m=(e,t)=>{let n=document.querySelector("#page-hook");n.removeAttribute("data-window-open"),n.removeAttribute("data-popup-open"),t||n.setAttribute(`data-${e.dataset.item}-open`,"")}})}();
//# sourceMappingURL=maximizeWindows.bf3a2db2.js.map
