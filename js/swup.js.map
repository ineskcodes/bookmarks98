{"mappings":"A,C,K,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,E,E,O,C,W,I,E,A,G,E,G,E,E,O,C,U,I,E,A,G,E,GCEA,IAgBA,EACA,EAjBI,EAAU,IAAI,IAgBlB,EAfA,SAAkB,CAAO,CAAE,CAAQ,EACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,GAAK,EAC5C,EAAQ,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,CACvB,QAAS,EACT,KAAM,CAAQ,CAAC,EAAI,EAAE,AACvB,EAEJ,EASA,EARA,SAAiB,CAAE,EACjB,IAAI,EAAW,EAAQ,GAAG,CAAC,GAC3B,GAAI,AAAY,MAAZ,EACF,MAAM,AAAI,MAAM,oCAAsC,GAExD,OAAO,IAAI,IAAI,EAAS,IAAI,CAAE,EAAS,OAAO,EAAE,QAAQ,EAC1D,C,G,E,Q,S,C,C,C,E,E,E,O,C,e,I,E,A,G,E,GCfA,IAkCA,EAlCI,EAAY,CAAC,EAkCjB,EAjCA,SAA4B,CAAE,EAC5B,IAAI,EAAQ,CAAS,CAAC,EAAG,CAKzB,OAJK,IACH,EAAQ,AAKZ,WACE,GAAI,CACF,MAAM,AAAI,OACZ,CAAE,MAAO,EAAK,CACZ,IAAI,EAAW,AAAA,CAAA,GAAK,EAAI,KAAI,AAAJ,EAAO,KAAK,CAAC,oEACrC,GAAI,EAGF,MAMI,AAAA,CAAA,GANc,CAAO,CAAC,EAAE,AAMnB,EAAK,OAAO,CAAC,0EAA2E,MAAQ,GAJ7G,CACA,MAAO,GACT,IAhBI,CAAS,CAAC,EAAG,CAAG,GAEX,CACT,C,G,E,Q,S,C,C,C,ECVA,EAAA,OAAA,CAAkB,AAAA,EAAA,SAAuC,AAAA,EAAA,SAAA,OAAA,CAA6C,UAAW,I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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-0f682e8dcc93a1d4.js","node_modules/@parcel/runtime-js/lib/helpers/browser/js-loader.js","node_modules/@parcel/runtime-js/lib/helpers/cacheLoader.js","node_modules/@parcel/runtime-js/lib/runtime-3d5d1766a2624945.js","node_modules/@parcel/runtime-js/lib/runtime-05062d06678dfa18.js","node_modules/@parcel/runtime-js/lib/runtime-92840b027eef3ff7.js","node_modules/@parcel/runtime-js/lib/runtime-582659d63511502f.js","src/assets/js/swup.js","node_modules/swup/dist/Swup.module.js","node_modules/swup/src/helpers/classify.ts","node_modules/swup/src/helpers/getCurrentUrl.ts","node_modules/swup/src/helpers/history.ts","node_modules/swup/src/helpers/delegateEvent.ts","node_modules/swup/src/helpers/Location.ts","node_modules/swup/src/helpers/matchPath.ts","node_modules/swup/src/modules/fetchPage.ts","node_modules/swup/src/modules/Cache.ts","node_modules/swup/src/utils/index.ts","node_modules/swup/src/modules/Classes.ts","node_modules/swup/src/modules/Visit.ts","node_modules/swup/src/modules/Hooks.ts","node_modules/swup/src/modules/getAnchorElement.ts","node_modules/swup/src/modules/awaitAnimations.ts","node_modules/swup/src/modules/navigate.ts","node_modules/swup/src/modules/animatePageOut.ts","node_modules/swup/src/modules/replaceContent.ts","node_modules/swup/src/modules/scrollToContent.ts","node_modules/swup/src/modules/animatePageIn.ts","node_modules/swup/src/modules/renderPage.ts","node_modules/swup/src/modules/plugins.ts","node_modules/swup/src/modules/resolveUrl.ts","node_modules/swup/src/Swup.ts","node_modules/delegate-it/index.js","node_modules/delegate-it/delegate.js","node_modules/delegate-it/one-event.js","node_modules/path-to-regexp/dist.es2015/index.js","node_modules/path-to-regexp/src/index.ts","node_modules/@swup/head-plugin/dist/index.module.js","node_modules/@swup/head-plugin/src/mergeHeadContents.ts","node_modules/@swup/head-plugin/src/waitForAssets.ts","node_modules/@swup/head-plugin/src/index.ts","node_modules/@swup/head-plugin/src/updateLangAttribute.ts","node_modules/@swup/head-plugin/src/waitForStylesheet.ts","node_modules/@swup/plugin/dist/index.module.js","node_modules/@swup/plugin/src/versionSatisfies.ts","node_modules/@swup/plugin/src/index.ts","node_modules/@swup/plugin/src/pluginRequirements.ts","node_modules/@swup/scripts-plugin/dist/index.module.js","node_modules/@swup/scripts-plugin/src/index.ts","node_modules/@swup/a11y-plugin/dist/index.module.js","node_modules/@swup/a11y-plugin/src/util.ts","node_modules/@swup/a11y-plugin/src/announcements.ts","node_modules/@swup/a11y-plugin/src/focus.ts","node_modules/@swup/a11y-plugin/src/index.ts","node_modules/focus-options-polyfill/index.js"],"sourcesContent":["(() => {\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequireb18d\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequireb18d\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"kI8SP\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $f13ecebb1f16f955$export$6503ec6e8aabbaf, (v) => $f13ecebb1f16f955$export$6503ec6e8aabbaf = v);\n$parcel$export(module.exports, \"resolve\", () => $f13ecebb1f16f955$export$f7ad0328861e2f03, (v) => $f13ecebb1f16f955$export$f7ad0328861e2f03 = v);\nvar $f13ecebb1f16f955$export$6503ec6e8aabbaf;\nvar $f13ecebb1f16f955$export$f7ad0328861e2f03;\n\"use strict\";\nvar $f13ecebb1f16f955$var$mapping = new Map();\nfunction $f13ecebb1f16f955$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$f13ecebb1f16f955$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $f13ecebb1f16f955$var$resolve(id) {\n    var resolved = $f13ecebb1f16f955$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$f13ecebb1f16f955$export$6503ec6e8aabbaf = $f13ecebb1f16f955$var$register;\n$f13ecebb1f16f955$export$f7ad0328861e2f03 = $f13ecebb1f16f955$var$resolve;\n\n});\n\nparcelRegister(\"hIarR\", function(module, exports) {\n\n$parcel$export(module.exports, \"getBundleURL\", () => $ce4ea6902f7a0721$export$bdfd709ae4826697, (v) => $ce4ea6902f7a0721$export$bdfd709ae4826697 = v);\nvar $ce4ea6902f7a0721$export$bdfd709ae4826697;\nvar $ce4ea6902f7a0721$export$c9e73fbda7da57b6;\nvar $ce4ea6902f7a0721$export$5a759dc7a1cfb72a;\n\"use strict\";\nvar $ce4ea6902f7a0721$var$bundleURL = {};\nfunction $ce4ea6902f7a0721$var$getBundleURLCached(id) {\n    var value = $ce4ea6902f7a0721$var$bundleURL[id];\n    if (!value) {\n        value = $ce4ea6902f7a0721$var$getBundleURL();\n        $ce4ea6902f7a0721$var$bundleURL[id] = value;\n    }\n    return value;\n}\nfunction $ce4ea6902f7a0721$var$getBundleURL() {\n    try {\n        throw new Error();\n    } catch (err) {\n        var matches = (\"\" + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n        if (matches) // The first two stack frames will be this function and getBundleURLCached.\n        // Use the 3rd one, which will be a runtime in the original bundle.\n        return $ce4ea6902f7a0721$var$getBaseURL(matches[2]);\n    }\n    return \"/\";\n}\nfunction $ce4ea6902f7a0721$var$getBaseURL(url) {\n    return (\"\" + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, \"$1\") + \"/\";\n}\n// TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\nfunction $ce4ea6902f7a0721$var$getOrigin(url) {\n    var matches = (\"\" + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n    if (!matches) throw new Error(\"Origin not found\");\n    return matches[0];\n}\n$ce4ea6902f7a0721$export$bdfd709ae4826697 = $ce4ea6902f7a0721$var$getBundleURLCached;\n$ce4ea6902f7a0721$export$c9e73fbda7da57b6 = $ce4ea6902f7a0721$var$getBaseURL;\n$ce4ea6902f7a0721$export$5a759dc7a1cfb72a = $ce4ea6902f7a0721$var$getOrigin;\n\n});\n\nparcelRegister(\"dNovs\", function(module, exports) {\n\n\nmodule.exports = (parcelRequire(\"dNLwc\"))((parcelRequire(\"kI8SP\")).resolve(\"4Lo6k\")).then(()=>parcelRequire(\"6N4re\"));\n\n});\nparcelRegister(\"dNLwc\", function(module, exports) {\n\"use strict\";\n\nvar $7lV8K = parcelRequire(\"7lV8K\");\nmodule.exports = $7lV8K(function(bundle) {\n    return new Promise(function(resolve, reject) {\n        // Don't insert the same script twice (e.g. if it was already in the HTML)\n        var existingScripts = document.getElementsByTagName(\"script\");\n        if ([].concat(existingScripts).some(function isCurrentBundle(script) {\n            return script.src === bundle;\n        })) {\n            resolve();\n            return;\n        }\n        var preloadLink = document.createElement(\"link\");\n        preloadLink.href = bundle;\n        preloadLink.rel = \"preload\";\n        preloadLink.as = \"script\";\n        document.head.appendChild(preloadLink);\n        var script = document.createElement(\"script\");\n        script.async = true;\n        script.type = \"text/javascript\";\n        script.src = bundle;\n        script.onerror = function(e) {\n            var error = new TypeError(\"Failed to fetch dynamically imported module: \".concat(bundle, \". Error: \").concat(e.message));\n            script.onerror = script.onload = null;\n            script.remove();\n            reject(error);\n        };\n        script.onload = function() {\n            script.onerror = script.onload = null;\n            resolve();\n        };\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\n    });\n});\n\n});\nparcelRegister(\"7lV8K\", function(module, exports) {\n\"use strict\";\nvar $55a6d16921f8ab25$var$cachedBundles = {};\nvar $55a6d16921f8ab25$var$cachedPreloads = {};\nvar $55a6d16921f8ab25$var$cachedPrefetches = {};\nfunction $55a6d16921f8ab25$var$getCache(type) {\n    switch(type){\n        case \"preload\":\n            return $55a6d16921f8ab25$var$cachedPreloads;\n        case \"prefetch\":\n            return $55a6d16921f8ab25$var$cachedPrefetches;\n        default:\n            return $55a6d16921f8ab25$var$cachedBundles;\n    }\n}\nmodule.exports = function(loader, type) {\n    return function(bundle) {\n        var cache = $55a6d16921f8ab25$var$getCache(type);\n        if (cache[bundle]) return cache[bundle];\n        return cache[bundle] = loader.apply(null, arguments).catch(function(e) {\n            delete cache[bundle];\n            throw e;\n        });\n    };\n};\n\n});\n\n\n\nparcelRegister(\"5IXZj\", function(module, exports) {\n\n\nmodule.exports = (parcelRequire(\"dNLwc\"))((parcelRequire(\"kI8SP\")).resolve(\"ayWPq\")).then(()=>parcelRequire(\"Nxxra\"));\n\n});\n\nparcelRegister(\"2GheJ\", function(module, exports) {\n\n\nmodule.exports = (parcelRequire(\"dNLwc\"))((parcelRequire(\"kI8SP\")).resolve(\"6ExKj\")).then(()=>parcelRequire(\"bBmiD\"));\n\n});\n\nparcelRegister(\"dTwV1\", function(module, exports) {\n\n\nmodule.exports = (parcelRequire(\"dNLwc\"))((parcelRequire(\"kI8SP\")).resolve(\"eM6PU\")).then(()=>parcelRequire(\"6vhjD\"));\n\n});\n\nvar $fea2b2f2cda16fd3$exports = {};\n\n\n(parcelRequire(\"kI8SP\")).register((parcelRequire(\"hIarR\")).getBundleURL(\"61e5g\"), JSON.parse('[\"61e5g\",\"swup.js\",\"eM6PU\",\"../dragAndDrop.createDraggables.09da2ddc.js\",\"4Lo6k\",\"../menu.06ac61a7.js\",\"ayWPq\",\"../bookmarks.15b678c9.js\",\"6ExKj\",\"../windowManager.b81d9194.js\"]'));\n\n/** Keeps track of raw listeners added to the base elements to avoid duplication */ const $f227c2d5fc31e4aa$var$ledger = new WeakMap();\nfunction $f227c2d5fc31e4aa$var$editLedger(wanted, baseElement, callback, setup) {\n    if (!wanted && !$f227c2d5fc31e4aa$var$ledger.has(baseElement)) return false;\n    const elementMap = $f227c2d5fc31e4aa$var$ledger.get(baseElement) ?? new WeakMap();\n    $f227c2d5fc31e4aa$var$ledger.set(baseElement, elementMap);\n    const setups = elementMap.get(callback) ?? new Set();\n    elementMap.set(callback, setups);\n    const existed = setups.has(setup);\n    if (wanted) setups.add(setup);\n    else setups.delete(setup);\n    return existed && wanted;\n}\nfunction $f227c2d5fc31e4aa$var$safeClosest(event, selector) {\n    let target = event.target;\n    if (target instanceof Text) target = target.parentElement;\n    if (target instanceof Element && event.currentTarget instanceof Element) {\n        // `.closest()` may match ancestors of `currentTarget` but we only need its children\n        const closest = target.closest(selector);\n        if (closest && event.currentTarget.contains(closest)) return closest;\n    }\n}\n// This type isn't exported as a declaration, so it needs to be duplicated above\nfunction $f227c2d5fc31e4aa$var$delegate(selector, type, callback, options = {}) {\n    const { signal: signal, base: base = document } = options;\n    if (signal?.aborted) return;\n    // Don't pass `once` to `addEventListener` because it needs to be handled in `delegate-it`\n    const { once: once, ...nativeListenerOptions } = options;\n    // `document` should never be the base, it's just an easy way to define \"global event listeners\"\n    const baseElement = base instanceof Document ? base.documentElement : base;\n    // Handle the regular Element usage\n    const capture = Boolean(typeof options === \"object\" ? options.capture : options);\n    const listenerFunction = (event)=>{\n        const delegateTarget = $f227c2d5fc31e4aa$var$safeClosest(event, selector);\n        if (delegateTarget) {\n            const delegateEvent = Object.assign(event, {\n                delegateTarget: delegateTarget\n            });\n            callback.call(baseElement, delegateEvent);\n            if (once) {\n                baseElement.removeEventListener(type, listenerFunction, nativeListenerOptions);\n                $f227c2d5fc31e4aa$var$editLedger(false, baseElement, callback, setup);\n            }\n        }\n    };\n    const setup = JSON.stringify({\n        selector: selector,\n        type: type,\n        capture: capture\n    });\n    const isAlreadyListening = $f227c2d5fc31e4aa$var$editLedger(true, baseElement, callback, setup);\n    if (!isAlreadyListening) baseElement.addEventListener(type, listenerFunction, nativeListenerOptions);\n    signal?.addEventListener(\"abort\", ()=>{\n        $f227c2d5fc31e4aa$var$editLedger(false, baseElement, callback, setup);\n    });\n}\nvar $f227c2d5fc31e4aa$export$2e2bcd8739ae039 = $f227c2d5fc31e4aa$var$delegate;\n\n\n\n// This type isn't exported as a declaration, so it needs to be duplicated above\nasync function $83a8712c85d7585e$var$oneEvent(selector, type, options = {}) {\n    return new Promise((resolve)=>{\n        options.once = true;\n        if (options.signal?.aborted) resolve(undefined);\n        options.signal?.addEventListener(\"abort\", ()=>{\n            resolve(undefined);\n        });\n        (0, $f227c2d5fc31e4aa$export$2e2bcd8739ae039)(selector, type, resolve, options);\n    });\n}\nvar $83a8712c85d7585e$export$2e2bcd8739ae039 = $83a8712c85d7585e$var$oneEvent;\n\n\n\n\n/**\n * Tokenize input string.\n */ function $59e6007b7a009800$var$lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while(i < str.length){\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({\n                type: \"MODIFIER\",\n                index: i,\n                value: str[i++]\n            });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({\n                type: \"ESCAPED_CHAR\",\n                index: i++,\n                value: str[i++]\n            });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({\n                type: \"OPEN\",\n                index: i,\n                value: str[i++]\n            });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({\n                type: \"CLOSE\",\n                index: i,\n                value: str[i++]\n            });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while(j < str.length){\n                var code = str.charCodeAt(j);\n                if (// `0-9`\n                code >= 48 && code <= 57 || // `A-Z`\n                code >= 65 && code <= 90 || // `a-z`\n                code >= 97 && code <= 122 || // `_`\n                code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name) throw new TypeError(\"Missing parameter name at \".concat(i));\n            tokens.push({\n                type: \"NAME\",\n                index: i,\n                value: name\n            });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") throw new TypeError('Pattern cannot start with \"?\" at '.concat(j));\n            while(j < str.length){\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                } else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") throw new TypeError(\"Capturing groups are not allowed at \".concat(j));\n                }\n                pattern += str[j++];\n            }\n            if (count) throw new TypeError(\"Unbalanced pattern at \".concat(i));\n            if (!pattern) throw new TypeError(\"Missing pattern at \".concat(i));\n            tokens.push({\n                type: \"PATTERN\",\n                index: i,\n                value: pattern\n            });\n            i = j;\n            continue;\n        }\n        tokens.push({\n            type: \"CHAR\",\n            index: i,\n            value: str[i++]\n        });\n    }\n    tokens.push({\n        type: \"END\",\n        index: i,\n        value: \"\"\n    });\n    return tokens;\n}\nfunction $59e6007b7a009800$export$98e6a39c04603d36(str, options) {\n    if (options === void 0) options = {};\n    var tokens = $59e6007b7a009800$var$lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\".concat($59e6007b7a009800$var$escapeString(options.delimiter || \"/#?\"), \"]+?\");\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function(type) {\n        if (i < tokens.length && tokens[i].type === type) return tokens[i++].value;\n    };\n    var mustConsume = function(type) {\n        var value = tryConsume(type);\n        if (value !== undefined) return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \".concat(nextType, \" at \").concat(index, \", expected \").concat(type));\n    };\n    var consumeText = function() {\n        var result = \"\";\n        var value;\n        while(value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))result += value;\n        return result;\n    };\n    while(i < tokens.length){\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\nfunction $59e6007b7a009800$export$ef7acd7185315e22(str, options) {\n    return $59e6007b7a009800$export$5b9bad9e403cf3d9($59e6007b7a009800$export$98e6a39c04603d36(str, options), options);\n}\nfunction $59e6007b7a009800$export$5b9bad9e403cf3d9(tokens, options) {\n    if (options === void 0) options = {};\n    var reFlags = $59e6007b7a009800$var$flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function(x) {\n        return x;\n    } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function(token) {\n        if (typeof token === \"object\") return new RegExp(\"^(?:\".concat(token.pattern, \")$\"), reFlags);\n    });\n    return function(data) {\n        var path = \"\";\n        for(var i = 0; i < tokens.length; i++){\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) throw new TypeError('Expected \"'.concat(token.name, '\" to not repeat, but got an array'));\n                if (value.length === 0) {\n                    if (optional) continue;\n                    throw new TypeError('Expected \"'.concat(token.name, '\" to not be empty'));\n                }\n                for(var j = 0; j < value.length; j++){\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) throw new TypeError('Expected all \"'.concat(token.name, '\" to match \"').concat(token.pattern, '\", but got \"').concat(segment, '\"'));\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) throw new TypeError('Expected \"'.concat(token.name, '\" to match \"').concat(token.pattern, '\", but got \"').concat(segment, '\"'));\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional) continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError('Expected \"'.concat(token.name, '\" to be ').concat(typeOfMessage));\n        }\n        return path;\n    };\n}\nfunction $59e6007b7a009800$export$4659b591c19bdf3d(str, options) {\n    var keys = [];\n    var re = $59e6007b7a009800$export$71304158c7e35877(str, keys, options);\n    return $59e6007b7a009800$export$968e97c88708237a(re, keys, options);\n}\nfunction $59e6007b7a009800$export$968e97c88708237a(re, keys, options) {\n    if (options === void 0) options = {};\n    var _a = options.decode, decode = _a === void 0 ? function(x) {\n        return x;\n    } : _a;\n    return function(pathname) {\n        var m = re.exec(pathname);\n        if (!m) return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function(i) {\n            if (m[i] === undefined) return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") params[key.name] = m[i].split(key.prefix + key.suffix).map(function(value) {\n                return decode(value, key);\n            });\n            else params[key.name] = decode(m[i], key);\n        };\n        for(var i = 1; i < m.length; i++)_loop_1(i);\n        return {\n            path: path,\n            index: index,\n            params: params\n        };\n    };\n}\n/**\n * Escape a regular expression string.\n */ function $59e6007b7a009800$var$escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */ function $59e6007b7a009800$var$flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */ function $59e6007b7a009800$var$regexpToRegexp(path, keys) {\n    if (!keys) return path;\n    var groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n    var index = 0;\n    var execResult = groupsRegex.exec(path.source);\n    while(execResult){\n        keys.push({\n            // Use parenthesized substring match if available, index otherwise\n            name: execResult[1] || index++,\n            prefix: \"\",\n            suffix: \"\",\n            modifier: \"\",\n            pattern: \"\"\n        });\n        execResult = groupsRegex.exec(path.source);\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */ function $59e6007b7a009800$var$arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function(path) {\n        return $59e6007b7a009800$export$71304158c7e35877(path, keys, options).source;\n    });\n    return new RegExp(\"(?:\".concat(parts.join(\"|\"), \")\"), $59e6007b7a009800$var$flags(options));\n}\n/**\n * Create a path regexp from string input.\n */ function $59e6007b7a009800$var$stringToRegexp(path, keys, options) {\n    return $59e6007b7a009800$export$9a9303716def6456($59e6007b7a009800$export$98e6a39c04603d36(path, options), keys, options);\n}\nfunction $59e6007b7a009800$export$9a9303716def6456(tokens, keys, options) {\n    if (options === void 0) options = {};\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function(x) {\n        return x;\n    } : _d, _e = options.delimiter, delimiter = _e === void 0 ? \"/#?\" : _e, _f = options.endsWith, endsWith = _f === void 0 ? \"\" : _f;\n    var endsWithRe = \"[\".concat($59e6007b7a009800$var$escapeString(endsWith), \"]|$\");\n    var delimiterRe = \"[\".concat($59e6007b7a009800$var$escapeString(delimiter), \"]\");\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for(var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++){\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") route += $59e6007b7a009800$var$escapeString(encode(token));\n        else {\n            var prefix = $59e6007b7a009800$var$escapeString(encode(token.prefix));\n            var suffix = $59e6007b7a009800$var$escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys) keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\".concat(prefix, \"((?:\").concat(token.pattern, \")(?:\").concat(suffix).concat(prefix, \"(?:\").concat(token.pattern, \"))*)\").concat(suffix, \")\").concat(mod);\n                    } else route += \"(?:\".concat(prefix, \"(\").concat(token.pattern, \")\").concat(suffix, \")\").concat(token.modifier);\n                } else if (token.modifier === \"+\" || token.modifier === \"*\") route += \"((?:\".concat(token.pattern, \")\").concat(token.modifier, \")\");\n                else route += \"(\".concat(token.pattern, \")\").concat(token.modifier);\n            } else route += \"(?:\".concat(prefix).concat(suffix, \")\").concat(token.modifier);\n        }\n    }\n    if (end) {\n        if (!strict) route += \"\".concat(delimiterRe, \"?\");\n        route += !options.endsWith ? \"$\" : \"(?=\".concat(endsWithRe, \")\");\n    } else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\" ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1 : endToken === undefined;\n        if (!strict) route += \"(?:\".concat(delimiterRe, \"(?=\").concat(endsWithRe, \"))?\");\n        if (!isEndDelimited) route += \"(?=\".concat(delimiterRe, \"|\").concat(endsWithRe, \")\");\n    }\n    return new RegExp(route, $59e6007b7a009800$var$flags(options));\n}\nfunction $59e6007b7a009800$export$71304158c7e35877(path, keys, options) {\n    if (path instanceof RegExp) return $59e6007b7a009800$var$regexpToRegexp(path, keys);\n    if (Array.isArray(path)) return $59e6007b7a009800$var$arrayToRegexp(path, keys, options);\n    return $59e6007b7a009800$var$stringToRegexp(path, keys, options);\n}\n\n\nconst $cda9d781c194f45f$export$b04d9b8d414ba5e8 = (t, e)=>String(t).toLowerCase().replace(/[\\s/_.]+/g, \"-\").replace(/[^\\w-]+/g, \"\").replace(/--+/g, \"-\").replace(/^-+|-+$/g, \"\") || e || \"\", $cda9d781c194f45f$export$dc90482e4ef07afd = ({ hash: t } = {})=>window.location.pathname + window.location.search + (t ? window.location.hash : \"\"), $cda9d781c194f45f$export$c38a4311235454af = (t, e = {})=>{\n    const n = {\n        url: t = t || $cda9d781c194f45f$export$dc90482e4ef07afd({\n            hash: !0\n        }),\n        random: Math.random(),\n        source: \"swup\",\n        ...e\n    };\n    window.history.pushState(n, \"\", t);\n}, $cda9d781c194f45f$export$9dd2847e0d2d8b0 = (t = null, e = {})=>{\n    t = t || $cda9d781c194f45f$export$dc90482e4ef07afd({\n        hash: !0\n    });\n    const n = {\n        ...window.history.state || {},\n        url: t,\n        random: Math.random(),\n        source: \"swup\",\n        ...e\n    };\n    window.history.replaceState(n, \"\", t);\n}, $cda9d781c194f45f$export$b93d41a1bb659592 = (e, n, o, r)=>{\n    const i = new AbortController;\n    return r = {\n        ...r,\n        signal: i.signal\n    }, (0, $f227c2d5fc31e4aa$export$2e2bcd8739ae039)(e, n, o, r), {\n        destroy: ()=>i.abort()\n    };\n};\nclass $cda9d781c194f45f$export$18a2be9195644f38 extends URL {\n    constructor(t, e = document.baseURI){\n        super(t.toString(), e), Object.setPrototypeOf(this, $cda9d781c194f45f$export$18a2be9195644f38.prototype);\n    }\n    get url() {\n        return this.pathname + this.search;\n    }\n    static fromElement(t) {\n        const e = t.getAttribute(\"href\") || t.getAttribute(\"xlink:href\") || \"\";\n        return new $cda9d781c194f45f$export$18a2be9195644f38(e);\n    }\n    static fromUrl(t) {\n        return new $cda9d781c194f45f$export$18a2be9195644f38(t);\n    }\n}\nconst $cda9d781c194f45f$export$81336c211d5ff295 = (t, n)=>{\n    try {\n        return (0, $59e6007b7a009800$export$4659b591c19bdf3d)(t, n);\n    } catch (e) {\n        throw new Error(`[swup] Error parsing path \"${String(t)}\":\\n${String(e)}`);\n    }\n}, $cda9d781c194f45f$var$l = function(t, e = {}) {\n    try {\n        const o = this;\n        function n(n) {\n            const { status: i, url: s } = u;\n            return Promise.resolve(u.text()).then(function(n) {\n                if (500 === i) throw o.hooks.call(\"fetch:error\", r, {\n                    status: i,\n                    response: u,\n                    url: s\n                }), new $cda9d781c194f45f$var$h(`Server error: ${s}`, {\n                    status: i,\n                    url: s\n                });\n                if (!n) throw new $cda9d781c194f45f$var$h(`Empty response: ${s}`, {\n                    status: i,\n                    url: s\n                });\n                const { url: c } = $cda9d781c194f45f$export$18a2be9195644f38.fromUrl(s), l = {\n                    url: c,\n                    html: n\n                };\n                return !r.cache.write || e.method && \"GET\" !== e.method || t !== c || o.cache.set(l.url, l), l;\n            });\n        }\n        t = $cda9d781c194f45f$export$18a2be9195644f38.fromUrl(t).url;\n        const { visit: r = o.visit } = e, i = {\n            ...o.options.requestHeaders,\n            ...e.headers\n        }, s = e.timeout ?? o.options.timeout, c = new AbortController, { signal: l } = c;\n        e = {\n            ...e,\n            headers: i,\n            signal: l\n        };\n        let u, d = !1, m = null;\n        s && s > 0 && (m = setTimeout(()=>{\n            d = !0, c.abort(\"timeout\");\n        }, s));\n        const f = function(n, i) {\n            try {\n                var s = Promise.resolve(o.hooks.call(\"fetch:request\", r, {\n                    url: t,\n                    options: e\n                }, (t, { url: e, options: n })=>fetch(e, n))).then(function(t) {\n                    u = t, m && clearTimeout(m);\n                });\n            } catch (t) {\n                return i(t);\n            }\n            return s && s.then ? s.then(void 0, i) : s;\n        }(0, function(e) {\n            if (d) throw o.hooks.call(\"fetch:timeout\", r, {\n                url: t\n            }), new $cda9d781c194f45f$var$h(`Request timed out: ${t}`, {\n                url: t,\n                timedOut: d\n            });\n            if (\"AbortError\" === e?.name || l.aborted) throw new $cda9d781c194f45f$var$h(`Request aborted: ${t}`, {\n                url: t,\n                aborted: !0\n            });\n            throw e;\n        });\n        return Promise.resolve(f && f.then ? f.then(n) : n());\n    } catch (p) {\n        return Promise.reject(p);\n    }\n};\nclass $cda9d781c194f45f$var$h extends Error {\n    constructor(t, e){\n        super(t), this.url = void 0, this.status = void 0, this.aborted = void 0, this.timedOut = void 0, this.name = \"FetchError\", this.url = e.url, this.status = e.status, this.aborted = e.aborted || !1, this.timedOut = e.timedOut || !1;\n    }\n}\nclass $cda9d781c194f45f$var$u {\n    constructor(t){\n        this.swup = void 0, this.pages = new Map, this.swup = t;\n    }\n    get size() {\n        return this.pages.size;\n    }\n    get all() {\n        const t = new Map;\n        return this.pages.forEach((e, n)=>{\n            t.set(n, {\n                ...e\n            });\n        }), t;\n    }\n    has(t) {\n        return this.pages.has(this.resolve(t));\n    }\n    get(t) {\n        const e = this.pages.get(this.resolve(t));\n        return e ? {\n            ...e\n        } : e;\n    }\n    set(t, e) {\n        t = this.resolve(t), e = {\n            ...e,\n            url: t\n        }, this.pages.set(t, e), this.swup.hooks.callSync(\"cache:set\", void 0, {\n            page: e\n        });\n    }\n    update(t, e) {\n        t = this.resolve(t);\n        const n = {\n            ...this.get(t),\n            ...e,\n            url: t\n        };\n        this.pages.set(t, n);\n    }\n    delete(t) {\n        this.pages.delete(this.resolve(t));\n    }\n    clear() {\n        this.pages.clear(), this.swup.hooks.callSync(\"cache:clear\", void 0, void 0);\n    }\n    prune(t) {\n        this.pages.forEach((e, n)=>{\n            t(n, e) && this.delete(n);\n        });\n    }\n    resolve(t) {\n        const { url: e } = $cda9d781c194f45f$export$18a2be9195644f38.fromUrl(t);\n        return this.swup.resolveUrl(e);\n    }\n}\nconst $cda9d781c194f45f$export$2fa187e846a241c4 = (t, e = document)=>e.querySelector(t), $cda9d781c194f45f$export$dcd0d083aa86c355 = (t, e = document)=>Array.from(e.querySelectorAll(t)), $cda9d781c194f45f$export$bdd553fddd433dcb = ()=>new Promise((t)=>{\n        requestAnimationFrame(()=>{\n            requestAnimationFrame(()=>{\n                t();\n            });\n        });\n    });\nfunction $cda9d781c194f45f$export$4369c812aac99591(t) {\n    return !!t && (\"object\" == typeof t || \"function\" == typeof t) && \"function\" == typeof t.then;\n}\nfunction $cda9d781c194f45f$export$8586fbe018c72b76(t, e = []) {\n    return new Promise((n, o)=>{\n        const r = t(...e);\n        $cda9d781c194f45f$export$4369c812aac99591(r) ? r.then(n, o) : n(r);\n    });\n}\nfunction $cda9d781c194f45f$export$7d26bbb1236dafd6(t) {\n    t = t || document.body, t?.getBoundingClientRect();\n}\nclass $cda9d781c194f45f$var$w {\n    constructor(t){\n        this.swup = void 0, this.swupClasses = [\n            \"to-\",\n            \"is-changing\",\n            \"is-rendering\",\n            \"is-popstate\",\n            \"is-animating\",\n            \"is-leaving\"\n        ], this.swup = t;\n    }\n    get selectors() {\n        const { scope: t } = this.swup.visit.animation;\n        return \"containers\" === t ? this.swup.visit.containers : \"html\" === t ? [\n            \"html\"\n        ] : Array.isArray(t) ? t : [];\n    }\n    get selector() {\n        return this.selectors.join(\",\");\n    }\n    get targets() {\n        return this.selector.trim() ? $cda9d781c194f45f$export$dcd0d083aa86c355(this.selector) : [];\n    }\n    add() {\n        this.targets.forEach((t)=>t.classList.add(...[].slice.call(arguments)));\n    }\n    remove() {\n        this.targets.forEach((t)=>t.classList.remove(...[].slice.call(arguments)));\n    }\n    clear() {\n        this.targets.forEach((t)=>{\n            const e = t.className.split(\" \").filter((t)=>this.isSwupClass(t));\n            t.classList.remove(...e);\n        });\n    }\n    isSwupClass(t) {\n        return this.swupClasses.some((e)=>t.startsWith(e));\n    }\n}\nclass $cda9d781c194f45f$var$y {\n    constructor(t, e){\n        this.id = void 0, this.state = void 0, this.from = void 0, this.to = void 0, this.containers = void 0, this.animation = void 0, this.trigger = void 0, this.cache = void 0, this.history = void 0, this.scroll = void 0;\n        const { to: n, from: o = t.currentPageUrl, hash: r, el: i, event: s } = e;\n        this.id = Math.random(), this.state = 1, this.from = {\n            url: o\n        }, this.to = {\n            url: n,\n            hash: r\n        }, this.containers = t.options.containers, this.animation = {\n            animate: !0,\n            wait: !1,\n            name: void 0,\n            native: t.options.native,\n            scope: t.options.animationScope,\n            selector: t.options.animationSelector\n        }, this.trigger = {\n            el: i,\n            event: s\n        }, this.cache = {\n            read: t.options.cache,\n            write: t.options.cache\n        }, this.history = {\n            action: \"push\",\n            popstate: !1,\n            direction: void 0\n        }, this.scroll = {\n            reset: !0,\n            target: void 0\n        };\n    }\n    advance(t) {\n        this.state < t && (this.state = t);\n    }\n    abort() {\n        this.state = 8;\n    }\n    get done() {\n        return this.state >= 7;\n    }\n}\nfunction $cda9d781c194f45f$var$P(t) {\n    return new $cda9d781c194f45f$var$y(this, t);\n}\nconst $cda9d781c194f45f$var$k = \"undefined\" != typeof Symbol ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\";\nfunction $cda9d781c194f45f$var$b(t, e, n) {\n    if (!t.s) {\n        if (n instanceof $cda9d781c194f45f$var$S) {\n            if (!n.s) return void (n.o = $cda9d781c194f45f$var$b.bind(null, t, e));\n            1 & e && (e = n.s), n = n.v;\n        }\n        if (n && n.then) return void n.then($cda9d781c194f45f$var$b.bind(null, t, e), $cda9d781c194f45f$var$b.bind(null, t, 2));\n        t.s = e, t.v = n;\n        const o = t.o;\n        o && o(t);\n    }\n}\nconst $cda9d781c194f45f$var$S = /*#__PURE__*/ function() {\n    function t() {}\n    return t.prototype.then = function(e, n) {\n        const o = new t, r = this.s;\n        if (r) {\n            const t = 1 & r ? e : n;\n            if (t) {\n                try {\n                    $cda9d781c194f45f$var$b(o, 1, t(this.v));\n                } catch (t) {\n                    $cda9d781c194f45f$var$b(o, 2, t);\n                }\n                return o;\n            }\n            return this;\n        }\n        return this.o = function(t) {\n            try {\n                const r = t.v;\n                1 & t.s ? $cda9d781c194f45f$var$b(o, 1, e ? e(r) : r) : n ? $cda9d781c194f45f$var$b(o, 1, n(r)) : $cda9d781c194f45f$var$b(o, 2, r);\n            } catch (t) {\n                $cda9d781c194f45f$var$b(o, 2, t);\n            }\n        }, o;\n    }, t;\n}();\nfunction $cda9d781c194f45f$var$E(t) {\n    return t instanceof $cda9d781c194f45f$var$S && 1 & t.s;\n}\nclass $cda9d781c194f45f$var$U {\n    constructor(t){\n        this.swup = void 0, this.registry = new Map, this.hooks = [\n            \"animation:out:start\",\n            \"animation:out:await\",\n            \"animation:out:end\",\n            \"animation:in:start\",\n            \"animation:in:await\",\n            \"animation:in:end\",\n            \"animation:skip\",\n            \"cache:clear\",\n            \"cache:set\",\n            \"content:replace\",\n            \"content:scroll\",\n            \"enable\",\n            \"disable\",\n            \"fetch:request\",\n            \"fetch:error\",\n            \"fetch:timeout\",\n            \"history:popstate\",\n            \"link:click\",\n            \"link:self\",\n            \"link:anchor\",\n            \"link:newtab\",\n            \"page:load\",\n            \"page:view\",\n            \"scroll:top\",\n            \"scroll:anchor\",\n            \"visit:start\",\n            \"visit:transition\",\n            \"visit:abort\",\n            \"visit:end\"\n        ], this.swup = t, this.init();\n    }\n    init() {\n        this.hooks.forEach((t)=>this.create(t));\n    }\n    create(t) {\n        this.registry.has(t) || this.registry.set(t, new Map);\n    }\n    exists(t) {\n        return this.registry.has(t);\n    }\n    get(t) {\n        const e = this.registry.get(t);\n        if (e) return e;\n        console.error(`Unknown hook '${t}'`);\n    }\n    clear() {\n        this.registry.forEach((t)=>t.clear());\n    }\n    on(t, e, n = {}) {\n        const o = this.get(t);\n        if (!o) return console.warn(`Hook '${t}' not found.`), ()=>{};\n        const r = {\n            ...n,\n            id: o.size + 1,\n            hook: t,\n            handler: e\n        };\n        return o.set(e, r), ()=>this.off(t, e);\n    }\n    before(t, e, n = {}) {\n        return this.on(t, e, {\n            ...n,\n            before: !0\n        });\n    }\n    replace(t, e, n = {}) {\n        return this.on(t, e, {\n            ...n,\n            replace: !0\n        });\n    }\n    once(t, e, n = {}) {\n        return this.on(t, e, {\n            ...n,\n            once: !0\n        });\n    }\n    off(t, e) {\n        const n = this.get(t);\n        n && e ? n.delete(e) || console.warn(`Handler for hook '${t}' not found.`) : n && n.clear();\n    }\n    call(t, e, n, o) {\n        try {\n            const r = this, [i, s, a] = r.parseCallArgs(t, e, n, o), { before: c, handler: l, after: h } = r.getHandlers(t, a);\n            return Promise.resolve(r.run(c, i, s)).then(function() {\n                return Promise.resolve(r.run(l, i, s, !0)).then(function([e]) {\n                    return Promise.resolve(r.run(h, i, s)).then(function() {\n                        return r.dispatchDomEvent(t, i, s), e;\n                    });\n                });\n            });\n        } catch (t) {\n            return Promise.reject(t);\n        }\n    }\n    callSync(t, e, n, o) {\n        const [r, i, s] = this.parseCallArgs(t, e, n, o), { before: a, handler: c, after: l } = this.getHandlers(t, s);\n        this.runSync(a, r, i);\n        const [h] = this.runSync(c, r, i, !0);\n        return this.runSync(l, r, i), this.dispatchDomEvent(t, r, i), h;\n    }\n    parseCallArgs(t, e, n, o) {\n        return e instanceof $cda9d781c194f45f$var$y || \"object\" != typeof e && \"function\" != typeof n ? [\n            e,\n            n,\n            o\n        ] : [\n            void 0,\n            e,\n            n\n        ];\n    }\n    run(t, e, n, o = !1) {\n        try {\n            let r;\n            const i = this;\n            void 0 === e && (e = i.swup.visit);\n            const s = [], a = function(t, e, n) {\n                if (\"function\" == typeof t[$cda9d781c194f45f$var$k]) {\n                    var o, r, i, s = t[$cda9d781c194f45f$var$k]();\n                    if (function t(a) {\n                        try {\n                            for(; !((o = s.next()).done || n && n());)if ((a = e(o.value)) && a.then) {\n                                if (!$cda9d781c194f45f$var$E(a)) return void a.then(t, i || (i = $cda9d781c194f45f$var$b.bind(null, r = new $cda9d781c194f45f$var$S, 2)));\n                                a = a.v;\n                            }\n                            r ? $cda9d781c194f45f$var$b(r, 1, a) : r = a;\n                        } catch (t) {\n                            $cda9d781c194f45f$var$b(r || (r = new $cda9d781c194f45f$var$S), 2, t);\n                        }\n                    }(), s.return) {\n                        var a = function(t) {\n                            try {\n                                o.done || s.return();\n                            } catch (t) {}\n                            return t;\n                        };\n                        if (r && r.then) return r.then(a, function(t) {\n                            throw a(t);\n                        });\n                        a();\n                    }\n                    return r;\n                }\n                if (!(\"length\" in t)) throw new TypeError(\"Object is not iterable\");\n                for(var c = [], l = 0; l < t.length; l++)c.push(t[l]);\n                return function(t, e, n) {\n                    var o, r, i = -1;\n                    return function s(a) {\n                        try {\n                            for(; ++i < t.length && (!n || !n());)if ((a = e(i)) && a.then) {\n                                if (!$cda9d781c194f45f$var$E(a)) return void a.then(s, r || (r = $cda9d781c194f45f$var$b.bind(null, o = new $cda9d781c194f45f$var$S, 2)));\n                                a = a.v;\n                            }\n                            o ? $cda9d781c194f45f$var$b(o, 1, a) : o = a;\n                        } catch (t) {\n                            $cda9d781c194f45f$var$b(o || (o = new $cda9d781c194f45f$var$S), 2, t);\n                        }\n                    }(), o;\n                }(c, function(t) {\n                    return e(c[t]);\n                }, n);\n            }(t, function({ hook: t, handler: r, defaultHandler: a, once: c }) {\n                if (!e?.done) return c && i.off(t, r), function(t, o) {\n                    try {\n                        var i = Promise.resolve($cda9d781c194f45f$export$8586fbe018c72b76(r, [\n                            e,\n                            n,\n                            a\n                        ])).then(function(t) {\n                            s.push(t);\n                        });\n                    } catch (t) {\n                        return o(t);\n                    }\n                    return i && i.then ? i.then(void 0, o) : i;\n                }(0, function(e) {\n                    if (o) throw e;\n                    console.error(`Error in hook '${t}':`, e);\n                });\n            }, function() {\n                return r;\n            });\n            return Promise.resolve(a && a.then ? a.then(function(t) {\n                return r ? t : s;\n            }) : r ? a : s);\n        } catch (t) {\n            return Promise.reject(t);\n        }\n    }\n    runSync(t, e = this.swup.visit, n, o = !1) {\n        const r = [];\n        for (const { hook: i, handler: s, defaultHandler: a, once: c } of t)if (!e?.done) {\n            c && this.off(i, s);\n            try {\n                const t = s(e, n, a);\n                r.push(t), $cda9d781c194f45f$export$4369c812aac99591(t) && console.warn(`Swup will not await Promises in handler for synchronous hook '${i}'.`);\n            } catch (t) {\n                if (o) throw t;\n                console.error(`Error in hook '${i}':`, t);\n            }\n        }\n        return r;\n    }\n    getHandlers(t, e) {\n        const n = this.get(t);\n        if (!n) return {\n            found: !1,\n            before: [],\n            handler: [],\n            after: [],\n            replaced: !1\n        };\n        const o = Array.from(n.values()), r = this.sortRegistrations, i = o.filter(({ before: t, replace: e })=>t && !e).sort(r), s = o.filter(({ replace: t })=>t).filter((t)=>!0).sort(r), a = o.filter(({ before: t, replace: e })=>!t && !e).sort(r), c = s.length > 0;\n        let l = [];\n        if (e && (l = [\n            {\n                id: 0,\n                hook: t,\n                handler: e\n            }\n        ], c)) {\n            const n = s.length - 1, o = (t)=>{\n                const n = s[t - 1];\n                return n ? (e, r)=>n.handler(e, r, o(t - 1)) : e;\n            };\n            l = [\n                {\n                    id: 0,\n                    hook: t,\n                    handler: s[n].handler,\n                    defaultHandler: o(n)\n                }\n            ];\n        }\n        return {\n            found: !0,\n            before: i,\n            handler: l,\n            after: a,\n            replaced: c\n        };\n    }\n    sortRegistrations(t, e) {\n        return (t.priority ?? 0) - (e.priority ?? 0) || t.id - e.id || 0;\n    }\n    dispatchDomEvent(t, e, n) {\n        if (e?.done) return;\n        const o = {\n            hook: t,\n            args: n,\n            visit: e || this.swup.visit\n        };\n        document.dispatchEvent(new CustomEvent(\"swup:any\", {\n            detail: o,\n            bubbles: !0\n        })), document.dispatchEvent(new CustomEvent(`swup:${t}`, {\n            detail: o,\n            bubbles: !0\n        }));\n    }\n}\nconst $cda9d781c194f45f$var$C = (t)=>{\n    if (t && \"#\" === t.charAt(0) && (t = t.substring(1)), !t) return null;\n    const e = decodeURIComponent(t);\n    let n = document.getElementById(t) || document.getElementById(e) || $cda9d781c194f45f$export$2fa187e846a241c4(`a[name='${CSS.escape(t)}']`) || $cda9d781c194f45f$export$2fa187e846a241c4(`a[name='${CSS.escape(e)}']`);\n    return n || \"top\" !== t || (n = document.body), n;\n}, $cda9d781c194f45f$var$$ = function({ elements: t, selector: e }) {\n    try {\n        if (!1 === e && !t) return Promise.resolve();\n        let n = [];\n        if (t) n = Array.from(t);\n        else if (e && (n = $cda9d781c194f45f$export$dcd0d083aa86c355(e, document.body), !n.length)) return console.warn(`[swup] No elements found matching animationSelector \\`${e}\\``), Promise.resolve();\n        const o = n.map((t)=>(function(t) {\n                const { type: e, timeout: n, propCount: o } = function(t) {\n                    const e = window.getComputedStyle(t), n = $cda9d781c194f45f$var$H(e, `${$cda9d781c194f45f$var$x}Delay`), o = $cda9d781c194f45f$var$H(e, `${$cda9d781c194f45f$var$x}Duration`), r = $cda9d781c194f45f$var$j(n, o), i = $cda9d781c194f45f$var$H(e, `${$cda9d781c194f45f$var$A}Delay`), s = $cda9d781c194f45f$var$H(e, `${$cda9d781c194f45f$var$A}Duration`), a = $cda9d781c194f45f$var$j(i, s), c = Math.max(r, a), l = c > 0 ? r > a ? $cda9d781c194f45f$var$x : $cda9d781c194f45f$var$A : null;\n                    return {\n                        type: l,\n                        timeout: c,\n                        propCount: l ? l === $cda9d781c194f45f$var$x ? o.length : s.length : 0\n                    };\n                }(t);\n                return !(!e || !n) && new Promise((r)=>{\n                    const i = `${e}end`, s = performance.now();\n                    let a = 0;\n                    const c = ()=>{\n                        t.removeEventListener(i, l), r();\n                    }, l = (e)=>{\n                        if (e.target === t) {\n                            if (!function(t) {\n                                return [\n                                    `${$cda9d781c194f45f$var$x}end`,\n                                    `${$cda9d781c194f45f$var$A}end`\n                                ].includes(t.type);\n                            }(e)) throw new Error(\"Not a transition or animation event.\");\n                            (performance.now() - s) / 1e3 < e.elapsedTime || ++a >= o && c();\n                        }\n                    };\n                    setTimeout(()=>{\n                        a < o && c();\n                    }, n + 1), t.addEventListener(i, l);\n                });\n            })(t));\n        return o.filter(Boolean).length > 0 ? Promise.resolve(Promise.all(o)).then(function() {}) : (e && console.warn(`[swup] No CSS animation duration defined on elements matching \\`${e}\\``), Promise.resolve());\n    } catch (t) {\n        return Promise.reject(t);\n    }\n}, $cda9d781c194f45f$var$x = \"transition\", $cda9d781c194f45f$var$A = \"animation\";\nfunction $cda9d781c194f45f$var$H(t, e) {\n    return (t[e] || \"\").split(\", \");\n}\nfunction $cda9d781c194f45f$var$j(t, e) {\n    for(; t.length < e.length;)t = t.concat(t);\n    return Math.max(...e.map((e, n)=>$cda9d781c194f45f$var$V(e) + $cda9d781c194f45f$var$V(t[n])));\n}\nfunction $cda9d781c194f45f$var$V(t) {\n    return 1e3 * parseFloat(t);\n}\nconst $cda9d781c194f45f$var$I = function(t, e = {}) {\n    try {\n        let a;\n        const c = this;\n        function s(s) {\n            if (a) return s;\n            c.navigating = !0, c.visit = t;\n            const { el: l } = t.trigger;\n            e.referrer = e.referrer || c.currentPageUrl, !1 === e.animate && (t.animation.animate = !1), t.animation.animate || c.classes.clear();\n            const h = e.history || l?.getAttribute(\"data-swup-history\") || void 0;\n            h && [\n                \"push\",\n                \"replace\"\n            ].includes(h) && (t.history.action = h);\n            const u = e.animation || l?.getAttribute(\"data-swup-animation\") || void 0;\n            return u && (t.animation.name = u), \"object\" == typeof e.cache ? (t.cache.read = e.cache.read ?? t.cache.read, t.cache.write = e.cache.write ?? t.cache.write) : void 0 !== e.cache && (t.cache = {\n                read: !!e.cache,\n                write: !!e.cache\n            }), delete e.cache, function(s, a) {\n                try {\n                    var l = function(s, a) {\n                        try {\n                            var l = Promise.resolve(c.hooks.call(\"visit:start\", t, void 0)).then(function() {\n                                function s() {\n                                    if (!t.done) return Promise.resolve(c.hooks.call(\"visit:transition\", t, void 0, function() {\n                                        try {\n                                            let n;\n                                            function e(e) {\n                                                return n ? e : (t.advance(4), Promise.resolve(c.animatePageOut(t)).then(function() {\n                                                    function e() {\n                                                        return Promise.resolve(c.animatePageIn(t)).then(function() {});\n                                                    }\n                                                    const n = function() {\n                                                        if (t.animation.native && document.startViewTransition) return Promise.resolve(document.startViewTransition(function() {\n                                                            try {\n                                                                const e = c.renderPage;\n                                                                return Promise.resolve(a).then(function(n) {\n                                                                    return Promise.resolve(e.call(c, t, n));\n                                                                });\n                                                            } catch (t) {\n                                                                return Promise.reject(t);\n                                                            }\n                                                        }).finished).then(function() {});\n                                                        {\n                                                            const e = c.renderPage;\n                                                            return Promise.resolve(a).then(function(n) {\n                                                                return Promise.resolve(e.call(c, t, n)).then(function() {});\n                                                            });\n                                                        }\n                                                    }();\n                                                    return n && n.then ? n.then(e) : e();\n                                                }));\n                                            }\n                                            const o = function() {\n                                                if (!t.animation.animate) return Promise.resolve(c.hooks.call(\"animation:skip\", void 0)).then(function() {\n                                                    const e = c.renderPage;\n                                                    return Promise.resolve(a).then(function(o) {\n                                                        return Promise.resolve(e.call(c, t, o)).then(function() {\n                                                            n = 1;\n                                                        });\n                                                    });\n                                                });\n                                            }();\n                                            return Promise.resolve(o && o.then ? o.then(e) : e(o));\n                                        } catch (r) {\n                                            return Promise.reject(r);\n                                        }\n                                    })).then(function() {\n                                        if (!t.done) return Promise.resolve(c.hooks.call(\"visit:end\", t, void 0, ()=>c.classes.clear())).then(function() {\n                                            t.state = 7, c.navigating = !1, c.onVisitEnd && (c.onVisitEnd(), c.onVisitEnd = void 0);\n                                        });\n                                    });\n                                }\n                                t.state = 3;\n                                const a = c.hooks.call(\"page:load\", t, {\n                                    options: e\n                                }, function(t, e) {\n                                    try {\n                                        function n(t) {\n                                            return e.page = t, e.cache = !!o, e.page;\n                                        }\n                                        let o;\n                                        return t.cache.read && (o = c.cache.get(t.to.url)), Promise.resolve(o ? n(o) : Promise.resolve(c.fetchPage(t.to.url, e.options)).then(n));\n                                    } catch (r) {\n                                        return Promise.reject(r);\n                                    }\n                                });\n                                if (a.then(({ html: e })=>{\n                                    t.advance(5), t.to.html = e, t.to.document = (new DOMParser).parseFromString(e, \"text/html\");\n                                }), !t.history.popstate) {\n                                    const e = t.to.url + t.to.hash;\n                                    \"replace\" === t.history.action || t.to.url === c.currentPageUrl ? $cda9d781c194f45f$export$9dd2847e0d2d8b0(e) : (c.currentHistoryIndex++, $cda9d781c194f45f$export$c38a4311235454af(e, {\n                                        index: c.currentHistoryIndex\n                                    }));\n                                }\n                                c.currentPageUrl = $cda9d781c194f45f$export$dc90482e4ef07afd(), t.history.popstate && c.classes.add(\"is-popstate\"), t.animation.name && c.classes.add(`to-${$cda9d781c194f45f$export$b04d9b8d414ba5e8(t.animation.name)}`);\n                                const l = function() {\n                                    if (t.animation.wait) return Promise.resolve(a).then(function() {});\n                                }();\n                                return l && l.then ? l.then(s) : s();\n                            });\n                        } catch (t) {\n                            return a(t);\n                        }\n                        return l && l.then ? l.then(void 0, a) : l;\n                    }(0, function(e) {\n                        e && !e?.aborted ? (t.state = 9, console.error(e), c.options.skipPopStateHandling = ()=>(window.location.assign(t.to.url + t.to.hash), !0), window.history.back()) : t.state = 8;\n                    });\n                } catch (t) {\n                    return a(!0, t);\n                }\n                return l && l.then ? l.then(a.bind(null, !1), a.bind(null, !0)) : a(!1, l);\n            }(0, function(e, n) {\n                if (delete t.to.document, e) throw n;\n                return n;\n            });\n        }\n        const l = function() {\n            if (c.navigating) return function() {\n                if (!(c.visit.state >= 6)) return Promise.resolve(c.hooks.call(\"visit:abort\", c.visit, void 0)).then(function() {\n                    delete c.visit.to.document, c.visit.state = 8;\n                });\n                t.state = 2, c.onVisitEnd = ()=>c.performNavigation(t, e), a = 1;\n            }();\n        }();\n        return Promise.resolve(l && l.then ? l.then(s) : s(l));\n    } catch (h) {\n        return Promise.reject(h);\n    }\n};\nfunction $cda9d781c194f45f$var$L(t, e = {}, n = {}) {\n    if (\"string\" != typeof t) throw new Error(\"swup.navigate() requires a URL parameter\");\n    if (this.shouldIgnoreVisit(t, {\n        el: n.el,\n        event: n.event\n    })) return void window.location.assign(t);\n    const { url: o, hash: r } = $cda9d781c194f45f$export$18a2be9195644f38.fromUrl(t), i = this.createVisit({\n        ...n,\n        to: o,\n        hash: r\n    });\n    this.performNavigation(i, e);\n}\nconst $cda9d781c194f45f$var$T = function(t) {\n    try {\n        const e = this;\n        return Promise.resolve(e.hooks.call(\"animation:out:start\", t, void 0, ()=>{\n            e.classes.add(\"is-changing\", \"is-animating\", \"is-leaving\");\n        })).then(function() {\n            return Promise.resolve(e.hooks.call(\"animation:out:await\", t, {\n                skip: !1\n            }, (t, { skip: n })=>{\n                if (!n) return e.awaitAnimations({\n                    selector: t.animation.selector\n                });\n            })).then(function() {\n                return Promise.resolve(e.hooks.call(\"animation:out:end\", t, void 0)).then(function() {});\n            });\n        });\n    } catch (t) {\n        return Promise.reject(t);\n    }\n}, $cda9d781c194f45f$var$q = function(t) {\n    const e = t.to.document;\n    if (!e) return !1;\n    const n = e.querySelector(\"title\")?.innerText || \"\";\n    document.title = n;\n    const o = $cda9d781c194f45f$export$dcd0d083aa86c355('[data-swup-persist]:not([data-swup-persist=\"\"])'), r = t.containers.map((t)=>{\n        const n = document.querySelector(t), o = e.querySelector(t);\n        return n && o ? (n.replaceWith(o.cloneNode(!0)), !0) : (n || console.warn(`[swup] Container missing in current document: ${t}`), o || console.warn(`[swup] Container missing in incoming document: ${t}`), !1);\n    }).filter(Boolean);\n    return o.forEach((t)=>{\n        const e = t.getAttribute(\"data-swup-persist\"), n = $cda9d781c194f45f$export$2fa187e846a241c4(`[data-swup-persist=\"${e}\"]`);\n        n && n !== t && n.replaceWith(t);\n    }), r.length === t.containers.length;\n}, $cda9d781c194f45f$var$R = function(t) {\n    const e = {\n        behavior: \"auto\"\n    }, { target: n, reset: o } = t.scroll, r = n ?? t.to.hash;\n    let i = !1;\n    return r && (i = this.hooks.callSync(\"scroll:anchor\", t, {\n        hash: r,\n        options: e\n    }, (t, { hash: e, options: n })=>{\n        const o = this.getAnchorElement(e);\n        return o && o.scrollIntoView(n), !!o;\n    })), o && !i && (i = this.hooks.callSync(\"scroll:top\", t, {\n        options: e\n    }, (t, { options: e })=>(window.scrollTo({\n            top: 0,\n            left: 0,\n            ...e\n        }), !0))), i;\n}, $cda9d781c194f45f$var$N = function(t) {\n    try {\n        const e = this;\n        if (t.done) return Promise.resolve();\n        const n = e.hooks.call(\"animation:in:await\", t, {\n            skip: !1\n        }, (t, { skip: n })=>{\n            if (!n) return e.awaitAnimations({\n                selector: t.animation.selector\n            });\n        });\n        return Promise.resolve($cda9d781c194f45f$export$bdd553fddd433dcb()).then(function() {\n            return Promise.resolve(e.hooks.call(\"animation:in:start\", t, void 0, ()=>{\n                e.classes.remove(\"is-animating\");\n            })).then(function() {\n                return Promise.resolve(n).then(function() {\n                    return Promise.resolve(e.hooks.call(\"animation:in:end\", t, void 0)).then(function() {});\n                });\n            });\n        });\n    } catch (t) {\n        return Promise.reject(t);\n    }\n}, $cda9d781c194f45f$var$D = function(t, e) {\n    try {\n        const r = this;\n        if (t.done) return Promise.resolve();\n        t.advance(6);\n        const { url: s } = e;\n        return r.isSameResolvedUrl($cda9d781c194f45f$export$dc90482e4ef07afd(), s) || ($cda9d781c194f45f$export$9dd2847e0d2d8b0(s), r.currentPageUrl = $cda9d781c194f45f$export$dc90482e4ef07afd(), t.to.url = r.currentPageUrl), Promise.resolve(r.hooks.call(\"content:replace\", t, {\n            page: e\n        }, (t, {})=>{\n            if (r.classes.remove(\"is-leaving\"), t.animation.animate && r.classes.add(\"is-rendering\"), !r.replaceContent(t)) throw new Error(\"[swup] Container mismatch, aborting\");\n            t.animation.animate && (r.classes.add(\"is-changing\", \"is-animating\", \"is-rendering\"), t.animation.name && r.classes.add(`to-${$cda9d781c194f45f$export$b04d9b8d414ba5e8(t.animation.name)}`));\n        })).then(function() {\n            return Promise.resolve(r.hooks.call(\"content:scroll\", t, void 0, ()=>r.scrollToContent(t))).then(function() {\n                return Promise.resolve(r.hooks.call(\"page:view\", t, {\n                    url: r.currentPageUrl,\n                    title: document.title\n                })).then(function() {});\n            });\n        });\n    } catch (t) {\n        return Promise.reject(t);\n    }\n}, $cda9d781c194f45f$var$M = function(t) {\n    var e;\n    if (e = t, Boolean(e?.isSwupPlugin)) {\n        if (t.swup = this, !t._checkRequirements || t._checkRequirements()) return t._beforeMount && t._beforeMount(), t.mount(), this.plugins.push(t), this.plugins;\n    } else console.error(\"Not a swup plugin instance\", t);\n};\nfunction $cda9d781c194f45f$var$O(t) {\n    const e = this.findPlugin(t);\n    if (e) return e.unmount(), e._afterUnmount && e._afterUnmount(), this.plugins = this.plugins.filter((t)=>t !== e), this.plugins;\n    console.error(\"No such plugin\", e);\n}\nfunction $cda9d781c194f45f$var$W(t) {\n    return this.plugins.find((e)=>e === t || e.name === t || e.name === `Swup${String(t)}`);\n}\nfunction $cda9d781c194f45f$var$B(t) {\n    if (\"function\" != typeof this.options.resolveUrl) return console.warn(\"[swup] options.resolveUrl expects a callback function.\"), t;\n    const e = this.options.resolveUrl(t);\n    return e && \"string\" == typeof e ? e.startsWith(\"//\") || e.startsWith(\"http\") ? (console.warn(\"[swup] options.resolveUrl needs to return a relative url\"), t) : e : (console.warn(\"[swup] options.resolveUrl needs to return a url\"), t);\n}\nfunction $cda9d781c194f45f$var$_(t, e) {\n    return this.resolveUrl(t) === this.resolveUrl(e);\n}\nconst $cda9d781c194f45f$var$F = {\n    animateHistoryBrowsing: !1,\n    animationSelector: '[class*=\"transition-\"]',\n    animationScope: \"html\",\n    cache: !0,\n    containers: [\n        \"#swup\"\n    ],\n    ignoreVisit: (t, { el: e } = {})=>!!e?.closest(\"[data-no-swup]\"),\n    linkSelector: \"a[href]\",\n    linkToSelf: \"scroll\",\n    native: !1,\n    plugins: [],\n    resolveUrl: (t)=>t,\n    requestHeaders: {\n        \"X-Requested-With\": \"swup\",\n        Accept: \"text/html, application/xhtml+xml\"\n    },\n    skipPopStateHandling: (t)=>\"swup\" !== t.state?.source,\n    timeout: 0\n};\nclass $cda9d781c194f45f$export$2e2bcd8739ae039 {\n    constructor(t = {}){\n        this.version = \"4.6.1\", this.options = void 0, this.defaults = $cda9d781c194f45f$var$F, this.plugins = [], this.visit = void 0, this.cache = void 0, this.hooks = void 0, this.classes = void 0, this.currentPageUrl = $cda9d781c194f45f$export$dc90482e4ef07afd(), this.currentHistoryIndex = void 0, this.clickDelegate = void 0, this.navigating = !1, this.onVisitEnd = void 0, this.use = $cda9d781c194f45f$var$M, this.unuse = $cda9d781c194f45f$var$O, this.findPlugin = $cda9d781c194f45f$var$W, this.log = ()=>{}, this.navigate = $cda9d781c194f45f$var$L, this.performNavigation = $cda9d781c194f45f$var$I, this.createVisit = $cda9d781c194f45f$var$P, this.delegateEvent = $cda9d781c194f45f$export$b93d41a1bb659592, this.fetchPage = $cda9d781c194f45f$var$l, this.awaitAnimations = $cda9d781c194f45f$var$$, this.renderPage = $cda9d781c194f45f$var$D, this.replaceContent = $cda9d781c194f45f$var$q, this.animatePageIn = $cda9d781c194f45f$var$N, this.animatePageOut = $cda9d781c194f45f$var$T, this.scrollToContent = $cda9d781c194f45f$var$R, this.getAnchorElement = $cda9d781c194f45f$var$C, this.getCurrentUrl = $cda9d781c194f45f$export$dc90482e4ef07afd, this.resolveUrl = $cda9d781c194f45f$var$B, this.isSameResolvedUrl = $cda9d781c194f45f$var$_, this.options = {\n            ...this.defaults,\n            ...t\n        }, this.handleLinkClick = this.handleLinkClick.bind(this), this.handlePopState = this.handlePopState.bind(this), this.cache = new $cda9d781c194f45f$var$u(this), this.classes = new $cda9d781c194f45f$var$w(this), this.hooks = new $cda9d781c194f45f$var$U(this), this.visit = this.createVisit({\n            to: \"\"\n        }), this.currentHistoryIndex = window.history.state?.index ?? 1, this.enable();\n    }\n    enable() {\n        try {\n            const t = this, { linkSelector: e } = t.options;\n            return t.clickDelegate = t.delegateEvent(e, \"click\", t.handleLinkClick), window.addEventListener(\"popstate\", t.handlePopState), t.options.animateHistoryBrowsing && (window.history.scrollRestoration = \"manual\"), t.options.native = t.options.native && !!document.startViewTransition, t.options.plugins.forEach((e)=>t.use(e)), \"swup\" !== window.history.state?.source && $cda9d781c194f45f$export$9dd2847e0d2d8b0(null, {\n                index: t.currentHistoryIndex\n            }), Promise.resolve($cda9d781c194f45f$export$bdd553fddd433dcb()).then(function() {\n                return Promise.resolve(t.hooks.call(\"enable\", void 0, void 0, ()=>{\n                    const e = document.documentElement;\n                    e.classList.add(\"swup-enabled\"), e.classList.toggle(\"swup-native\", t.options.native);\n                })).then(function() {});\n            });\n        } catch (t) {\n            return Promise.reject(t);\n        }\n    }\n    destroy() {\n        try {\n            const t = this;\n            return t.clickDelegate.destroy(), window.removeEventListener(\"popstate\", t.handlePopState), t.cache.clear(), t.options.plugins.forEach((e)=>t.unuse(e)), Promise.resolve(t.hooks.call(\"disable\", void 0, void 0, ()=>{\n                const t = document.documentElement;\n                t.classList.remove(\"swup-enabled\"), t.classList.remove(\"swup-native\");\n            })).then(function() {\n                t.hooks.clear();\n            });\n        } catch (t) {\n            return Promise.reject(t);\n        }\n    }\n    shouldIgnoreVisit(t, { el: e, event: n } = {}) {\n        const { origin: o, url: r, hash: i } = $cda9d781c194f45f$export$18a2be9195644f38.fromUrl(t);\n        return o !== window.location.origin || !(!e || !this.triggerWillOpenNewWindow(e)) || !!this.options.ignoreVisit(r + i, {\n            el: e,\n            event: n\n        });\n    }\n    handleLinkClick(t) {\n        const e = t.delegateTarget, { href: n, url: o, hash: r } = $cda9d781c194f45f$export$18a2be9195644f38.fromElement(e);\n        if (this.shouldIgnoreVisit(n, {\n            el: e,\n            event: t\n        })) return;\n        if (this.navigating && o === this.visit.to.url) return void t.preventDefault();\n        const s = this.createVisit({\n            to: o,\n            hash: r,\n            el: e,\n            event: t\n        });\n        t.metaKey || t.ctrlKey || t.shiftKey || t.altKey ? this.hooks.callSync(\"link:newtab\", s, {\n            href: n\n        }) : 0 === t.button && this.hooks.callSync(\"link:click\", s, {\n            el: e,\n            event: t\n        }, ()=>{\n            const e = s.from.url ?? \"\";\n            t.preventDefault(), o && o !== e ? this.isSameResolvedUrl(o, e) || this.performNavigation(s) : r ? this.hooks.callSync(\"link:anchor\", s, {\n                hash: r\n            }, ()=>{\n                $cda9d781c194f45f$export$9dd2847e0d2d8b0(o + r), this.scrollToContent(s);\n            }) : this.hooks.callSync(\"link:self\", s, void 0, ()=>{\n                \"navigate\" === this.options.linkToSelf ? this.performNavigation(s) : ($cda9d781c194f45f$export$9dd2847e0d2d8b0(o), this.scrollToContent(s));\n            });\n        });\n    }\n    handlePopState(t) {\n        const e = t.state?.url ?? window.location.href;\n        if (this.options.skipPopStateHandling(t)) return;\n        if (this.isSameResolvedUrl($cda9d781c194f45f$export$dc90482e4ef07afd(), this.currentPageUrl)) return;\n        const { url: n, hash: r } = $cda9d781c194f45f$export$18a2be9195644f38.fromUrl(e), i = this.createVisit({\n            to: n,\n            hash: r,\n            event: t\n        });\n        i.history.popstate = !0;\n        const s = t.state?.index ?? 0;\n        s && s !== this.currentHistoryIndex && (i.history.direction = s - this.currentHistoryIndex > 0 ? \"forwards\" : \"backwards\", this.currentHistoryIndex = s), i.animation.animate = !1, i.scroll.reset = !1, i.scroll.target = !1, this.options.animateHistoryBrowsing && (i.animation.animate = !0, i.scroll.reset = !0), this.hooks.callSync(\"history:popstate\", i, {\n            event: t\n        }, ()=>{\n            this.performNavigation(i);\n        });\n    }\n    triggerWillOpenNewWindow(t) {\n        return !!t.matches('[download], [target=\"_blank\"]');\n    }\n}\n\n\nconst $c86030b686424f63$var$r = (r)=>String(r).split(\".\").map((r)=>String(parseInt(r || \"0\", 10))).concat([\n        \"0\",\n        \"0\"\n    ]).slice(0, 3).join(\".\");\nclass $c86030b686424f63$export$2e2bcd8739ae039 {\n    constructor(){\n        this.isSwupPlugin = !0, this.swup = void 0, this.version = void 0, this.requires = {}, this.handlersToUnregister = [];\n    }\n    mount() {}\n    unmount() {\n        this.handlersToUnregister.forEach((r)=>r()), this.handlersToUnregister = [];\n    }\n    _beforeMount() {\n        if (!this.name) throw new Error(\"You must define a name of plugin when creating a class.\");\n    }\n    _afterUnmount() {}\n    _checkRequirements() {\n        return \"object\" != typeof this.requires || Object.entries(this.requires).forEach((e)=>{\n            let [t, n] = e;\n            if (n = Array.isArray(n) ? n : [\n                n\n            ], !function(e, t, n) {\n                const s = function(r, e) {\n                    if (\"swup\" === r) return e.version ?? \"\";\n                    {\n                        const t = e.findPlugin(r);\n                        return t?.version ?? \"\";\n                    }\n                }(e, n);\n                return !!s && ((e, t)=>t.every((t)=>{\n                        const [, n, s] = t.match(/^([\\D]+)?(.*)$/) || [];\n                        var o, i;\n                        return ((r, e)=>{\n                            const t = {\n                                \"\": (r)=>0 === r,\n                                \">\": (r)=>r > 0,\n                                \">=\": (r)=>r >= 0,\n                                \"<\": (r)=>r < 0,\n                                \"<=\": (r)=>r <= 0\n                            };\n                            return (t[e] || t[\"\"])(r);\n                        })((i = s, o = $c86030b686424f63$var$r(o = e), i = $c86030b686424f63$var$r(i), o.localeCompare(i, void 0, {\n                            numeric: !0\n                        })), n || \">=\");\n                    }))(s, t);\n            }(t, n, this.swup)) {\n                const r = `${t} ${n.join(\", \")}`;\n                throw new Error(`Plugin version mismatch: ${this.name} requires ${r}`);\n            }\n        }), !0;\n    }\n    on(r, e, t) {\n        var n;\n        void 0 === t && (t = {}), e = !(n = e).name.startsWith(\"bound \") || n.hasOwnProperty(\"prototype\") ? e.bind(this) : e;\n        const s = this.swup.hooks.on(r, e, t);\n        return this.handlersToUnregister.push(s), s;\n    }\n    once(r, e, t) {\n        return void 0 === t && (t = {}), this.on(r, e, {\n            ...t,\n            once: !0\n        });\n    }\n    before(r, e, t) {\n        return void 0 === t && (t = {}), this.on(r, e, {\n            ...t,\n            before: !0\n        });\n    }\n    replace(r, e, t) {\n        return void 0 === t && (t = {}), this.on(r, e, {\n            ...t,\n            replace: !0\n        });\n    }\n    off(r, e) {\n        return this.swup.hooks.off(r, e);\n    }\n}\n\n\nfunction $4339f26e29d20307$var$t(e) {\n    return \"title\" !== e.localName && !e.matches(\"[data-swup-theme]\");\n}\nfunction $4339f26e29d20307$var$s(e, t) {\n    return e.outerHTML === t.outerHTML;\n}\nfunction $4339f26e29d20307$var$n(e) {\n    return e.matches(\"link[rel=stylesheet][href]\");\n}\nclass $4339f26e29d20307$export$2e2bcd8739ae039 extends (0, $c86030b686424f63$export$2e2bcd8739ae039) {\n    constructor(e = {}){\n        super();\n        const o = this;\n        this.name = \"SwupHeadPlugin\", this.requires = {\n            swup: \">=4.6\"\n        }, this.defaults = {\n            persistTags: !1,\n            persistAssets: !1,\n            awaitAssets: !1,\n            timeout: 3e3\n        }, this.options = void 0, this.updateHead = function(e, {}) {\n            try {\n                const u = e.to.document, { removed: l, added: a } = function(e, n, { shouldPersist: o = ()=>!1 } = {}) {\n                    const r = Array.from(e.children), i = Array.from(n.children), u = (l = r, i.reduce((e, t, n)=>(l.some((e)=>$4339f26e29d20307$var$s(t, e)) || e.push({\n                            el: t,\n                            index: n\n                        }), e), []));\n                    var l;\n                    const a = function(e, t) {\n                        return e.reduce((e, n)=>(t.some((e)=>$4339f26e29d20307$var$s(n, e)) || e.push({\n                                el: n\n                            }), e), []);\n                    }(r, i);\n                    return a.reverse().filter(({ el: e })=>$4339f26e29d20307$var$t(e)).filter(({ el: e })=>!o(e)).forEach(({ el: t })=>e.removeChild(t)), u.filter(({ el: e })=>$4339f26e29d20307$var$t(e)).forEach(({ el: t, index: s = 0 })=>{\n                        e.insertBefore(t.cloneNode(!0), e.children[s + 1] || null);\n                    }), {\n                        removed: a.map(({ el: e })=>e),\n                        added: u.map(({ el: e })=>e)\n                    };\n                }(document.head, u.head, {\n                    shouldPersist: (e)=>o.isPersistentTag(e)\n                });\n                o.swup.log(`Removed ${l.length} / added ${a.length} tags in head`);\n                const c = (r = document.documentElement).lang !== (i = u.documentElement).lang ? (r.lang = i.lang, r.lang) : null;\n                c && o.swup.log(`Updated lang attribute: ${c}`);\n                const d = function() {\n                    if (o.options.awaitAssets) {\n                        const e = function(e, t = 0) {\n                            return e.filter($4339f26e29d20307$var$n).map((e)=>(function(e, t = 0) {\n                                    const s = (t)=>{\n                                        (({ href: e })=>Array.from(document.styleSheets).map(({ href: e })=>e).includes(e))(e) ? t() : setTimeout(()=>s(t), 10);\n                                    };\n                                    return new Promise((e)=>{\n                                        s(e), t > 0 && setTimeout(e, t);\n                                    });\n                                })(e, t));\n                        }(a, o.options.timeout), t = function() {\n                            if (e.length) return o.swup.log(`Waiting for ${e.length} assets to load`), Promise.resolve(Promise.all(e)).then(function() {});\n                        }();\n                        if (t && t.then) return t.then(function() {});\n                    }\n                }();\n                return Promise.resolve(d && d.then ? d.then(function() {}) : void 0);\n            } catch (e) {\n                return Promise.reject(e);\n            }\n            var r, i;\n        }, this.options = {\n            ...this.defaults,\n            ...e\n        }, this.options.persistAssets && !this.options.persistTags && (this.options.persistTags = \"link[rel=stylesheet], script[src], style\");\n    }\n    mount() {\n        this.before(\"content:replace\", this.updateHead);\n    }\n    isPersistentTag(e) {\n        const { persistTags: t } = this.options;\n        return \"function\" == typeof t ? t(e) : \"string\" == typeof t ? e.matches(t) : Boolean(t);\n    }\n}\n\n\n\nclass $1de8d816a5e36143$export$2e2bcd8739ae039 extends (0, $c86030b686424f63$export$2e2bcd8739ae039) {\n    constructor(t){\n        void 0 === t && (t = {}), super(), this.name = \"SwupScriptsPlugin\", this.requires = {\n            swup: \">=4\"\n        }, this.defaults = {\n            head: !0,\n            body: !0,\n            optin: !1\n        }, this.options = void 0, this.options = {\n            ...this.defaults,\n            ...t\n        };\n    }\n    mount() {\n        this.on(\"content:replace\", this.runScripts);\n    }\n    runScripts() {\n        const { head: t, body: e, optin: s } = this.options, o = this.getScope({\n            head: t,\n            body: e\n        });\n        if (!o) return;\n        const r = Array.from(o.querySelectorAll(s ? \"script[data-swup-reload-script]\" : \"script:not([data-swup-ignore-script])\"));\n        r.forEach((t)=>this.runScript(t)), this.swup.log(`Executed ${r.length} scripts.`);\n    }\n    runScript(t) {\n        const e = document.createElement(\"script\");\n        for (const { name: s, value: o } of t.attributes)e.setAttribute(s, o);\n        return e.textContent = t.textContent, t.replaceWith(e), e;\n    }\n    getScope(t) {\n        let { head: e, body: s } = t;\n        return e && s ? document : e ? document.head : s ? document.body : null;\n    }\n}\n\n\n\n// focus - focusOptions - preventScroll polyfill\n(function() {\n    if (typeof window === \"undefined\" || typeof document === \"undefined\" || typeof HTMLElement === \"undefined\") return;\n    var supportsPreventScrollOption = false;\n    try {\n        var focusElem = document.createElement(\"div\");\n        focusElem.addEventListener(\"focus\", function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n        }, true);\n        focusElem.focus(Object.defineProperty({}, \"preventScroll\", {\n            get: function() {\n                // Edge v18 gives a false positive for supporting inputs\n                if (navigator && typeof navigator.userAgent !== \"undefined\" && navigator.userAgent && navigator.userAgent.match(/Edge\\/1[7-8]/)) return supportsPreventScrollOption = false;\n                supportsPreventScrollOption = true;\n            }\n        }));\n    } catch (e) {}\n    if (HTMLElement.prototype.nativeFocus === undefined && !supportsPreventScrollOption) {\n        HTMLElement.prototype.nativeFocus = HTMLElement.prototype.focus;\n        var calcScrollableElements = function(element) {\n            var parent = element.parentNode;\n            var scrollableElements = [];\n            var rootScrollingElement = document.scrollingElement || document.documentElement;\n            while(parent && parent !== rootScrollingElement){\n                if (parent.offsetHeight < parent.scrollHeight || parent.offsetWidth < parent.scrollWidth) scrollableElements.push([\n                    parent,\n                    parent.scrollTop,\n                    parent.scrollLeft\n                ]);\n                parent = parent.parentNode;\n            }\n            parent = rootScrollingElement;\n            scrollableElements.push([\n                parent,\n                parent.scrollTop,\n                parent.scrollLeft\n            ]);\n            return scrollableElements;\n        };\n        var restoreScrollPosition = function(scrollableElements) {\n            for(var i = 0; i < scrollableElements.length; i++){\n                scrollableElements[i][0].scrollTop = scrollableElements[i][1];\n                scrollableElements[i][0].scrollLeft = scrollableElements[i][2];\n            }\n            scrollableElements = [];\n        };\n        var patchedFocus = function(args) {\n            if (args && args.preventScroll) {\n                var evScrollableElements = calcScrollableElements(this);\n                if (typeof setTimeout === \"function\") {\n                    var thisElem = this;\n                    setTimeout(function() {\n                        thisElem.nativeFocus();\n                        restoreScrollPosition(evScrollableElements);\n                    }, 0);\n                } else {\n                    this.nativeFocus();\n                    restoreScrollPosition(evScrollableElements);\n                }\n            } else this.nativeFocus();\n        };\n        HTMLElement.prototype.focus = patchedFocus;\n    }\n})();\n\n\n\nfunction $09ba77c7686403d5$var$n(t, e) {\n    return Object.keys(e).reduce((t, n)=>t.replace(`{${n}}`, e[n] || \"\"), t || \"\");\n}\nclass $09ba77c7686403d5$var$o {\n    constructor(){\n        this.id = \"swup-announcer\", this.style = \"position:absolute;top:0;left:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;word-wrap:normal;width:1px;height:1px;\", this.region = void 0, this.region = this.getRegion() ?? this.createRegion();\n    }\n    getRegion() {\n        return document.getElementById(this.id);\n    }\n    createRegion() {\n        const t = function(t) {\n            const e = document.createElement(\"template\");\n            return e.innerHTML = t, e.content.children[0];\n        }(`<p aria-live=\"assertive\" aria-atomic=\"true\" id=\"${this.id}\" style=\"${this.style}\"></p>`);\n        return document.body.appendChild(t), t;\n    }\n    announce(t, e = 0) {\n        return new Promise((n)=>{\n            setTimeout(()=>{\n                this.region.textContent === t && (t = `${t}.`), this.region.textContent = \"\", this.region.textContent = t, n();\n            }, e);\n        });\n    }\n}\nfunction $09ba77c7686403d5$var$i(t) {\n    let e;\n    if (e = \"string\" == typeof t ? document.querySelector(t) : t, !(e instanceof HTMLElement)) return;\n    const n = e.getAttribute(\"tabindex\");\n    e.setAttribute(\"tabindex\", \"-1\"), e.focus({\n        preventScroll: !0\n    }), null !== n && e.setAttribute(\"tabindex\", n);\n}\nclass $09ba77c7686403d5$export$2e2bcd8739ae039 extends (0, $c86030b686424f63$export$2e2bcd8739ae039) {\n    constructor(t = {}){\n        super(), this.name = \"SwupA11yPlugin\", this.requires = {\n            swup: \">=4\"\n        }, this.defaults = {\n            headingSelector: \"h1\",\n            respectReducedMotion: !0,\n            autofocus: !1,\n            announcements: {\n                visit: \"Navigated to: {title}\",\n                url: \"New page at {url}\"\n            }\n        }, this.options = void 0, this.announcer = void 0, this.announcementDelay = 100, this.rootSelector = \"body\", this.handleAnchorScroll = (t, { hash: e })=>{\n            const n = this.swup.getAnchorElement(e);\n            n instanceof HTMLElement && $09ba77c7686403d5$var$i(n);\n        }, this.options = {\n            ...this.defaults,\n            ...t\n        }, this.announcer = new $09ba77c7686403d5$var$o;\n    }\n    mount() {\n        this.swup.hooks.create(\"content:announce\"), this.swup.hooks.create(\"content:focus\"), this.before(\"visit:start\", this.prepareVisit), this.on(\"visit:start\", this.markAsBusy), this.on(\"visit:end\", this.unmarkAsBusy), this.on(\"visit:end\", this.focusContent), this.on(\"visit:end\", this.announceContent), this.on(\"scroll:anchor\", this.handleAnchorScroll), this.before(\"visit:start\", this.disableAnimations), this.before(\"link:self\", this.disableAnimations), this.before(\"link:anchor\", this.disableAnimations), this.swup.announce = this.announce.bind(this);\n    }\n    unmount() {\n        this.swup.announce = void 0;\n    }\n    announce(t) {\n        try {\n            return Promise.resolve(this.announcer.announce(t)).then(function() {});\n        } catch (t) {\n            return Promise.reject(t);\n        }\n    }\n    markAsBusy() {\n        document.documentElement.setAttribute(\"aria-busy\", \"true\");\n    }\n    unmarkAsBusy() {\n        document.documentElement.removeAttribute(\"aria-busy\");\n    }\n    prepareVisit(t) {\n        t.a11y = {\n            announce: void 0,\n            focus: this.rootSelector\n        };\n    }\n    announceContent(t) {\n        this.swup.hooks.callSync(\"content:announce\", t, void 0, (t)=>{\n            void 0 === t.a11y.announce && (t.a11y.announce = this.getPageAnnouncement()), t.a11y.announce && this.announcer.announce(t.a11y.announce, this.announcementDelay);\n        });\n    }\n    focusContent(t) {\n        this.swup.hooks.callSync(\"content:focus\", t, void 0, (t)=>{\n            t.a11y.focus && (this.options.autofocus && !0 === function() {\n                const t = function() {\n                    const t = document.querySelector(\"body [autofocus]\");\n                    if (t && !t.closest('[inert], [aria-disabled], [aria-hidden=\"true\"]')) return t;\n                }();\n                return !!t && (t !== document.activeElement && t.focus(), !0);\n            }() || $09ba77c7686403d5$var$i(t.a11y.focus));\n        });\n    }\n    getPageAnnouncement() {\n        const { headingSelector: t, announcements: o } = this.options;\n        return function({ headingSelector: t = \"h1\", announcements: o = {} }) {\n            const i = document.documentElement.lang || \"*\", { href: s, url: r, pathname: u } = (0, $cda9d781c194f45f$export$18a2be9195644f38).fromUrl(window.location.href), c = o[i] ?? o[\"*\"] ?? o;\n            if (\"object\" != typeof c) return;\n            const a = document.querySelector(t);\n            a || console.warn(`SwupA11yPlugin: No main heading (${t}) found on new page`);\n            const h = a?.getAttribute(\"aria-label\") || a?.textContent || document.title || $09ba77c7686403d5$var$n(c.url, {\n                href: s,\n                url: r,\n                path: u\n            });\n            return $09ba77c7686403d5$var$n(c.visit, {\n                title: h,\n                href: s,\n                url: r,\n                path: u\n            });\n        }({\n            headingSelector: t,\n            announcements: o\n        });\n    }\n    disableAnimations(t) {\n        this.options.respectReducedMotion && window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches && (t.animation.animate = !1, t.scroll.animate = !1);\n    }\n}\n\n\nconst $67bb51d0d4bb1052$var$swup = new (0, $cda9d781c194f45f$export$2e2bcd8739ae039)({\n    containers: [\n        \"#content\",\n        \"#page-hook\"\n    ],\n    plugins: [\n        new (0, $4339f26e29d20307$export$2e2bcd8739ae039)(),\n        new (0, $1de8d816a5e36143$export$2e2bcd8739ae039)({\n            body: false\n        }),\n        new (0, $09ba77c7686403d5$export$2e2bcd8739ae039)()\n    ]\n});\n\n\n\n\n$67bb51d0d4bb1052$var$swup.hooks.on(\"page:view\", async ()=>{\n    try {\n        const { default: Menu } = await (parcelRequire(\"dNovs\"));\n        const { default: Bookmarks } = await (parcelRequire(\"5IXZj\"));\n        const { default: WindowManager } = await (parcelRequire(\"2GheJ\"));\n        const { default: createDraggables } = await (parcelRequire(\"dTwV1\"));\n        if (document.querySelector(\".bookmarks\")) new Bookmarks();\n        if (createDraggables) createDraggables();\n        new Menu();\n        new WindowManager();\n        console.log(\"Modules loaded successfully.\");\n    } catch (error) {\n        console.error(\"Error loading modules:\", error);\n    }\n});\n\n})();\n//# sourceMappingURL=swup.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n  return value;\n}\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n  return '/';\n}\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\n// TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n  return matches[0];\n}\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-manifest').resolve(\"4Lo6k\"))).then(() => parcelRequire('6N4re'));","\"use strict\";\n\nvar cacheLoader = require('../cacheLoader');\nmodule.exports = cacheLoader(function (bundle) {\n  return new Promise(function (resolve, reject) {\n    // Don't insert the same script twice (e.g. if it was already in the HTML)\n    var existingScripts = document.getElementsByTagName('script');\n    if ([].concat(existingScripts).some(function isCurrentBundle(script) {\n      return script.src === bundle;\n    })) {\n      resolve();\n      return;\n    }\n    var preloadLink = document.createElement('link');\n    preloadLink.href = bundle;\n    preloadLink.rel = 'preload';\n    preloadLink.as = 'script';\n    document.head.appendChild(preloadLink);\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.src = bundle;\n    script.onerror = function (e) {\n      var error = new TypeError(\"Failed to fetch dynamically imported module: \".concat(bundle, \". Error: \").concat(e.message));\n      script.onerror = script.onload = null;\n      script.remove();\n      reject(error);\n    };\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n});","\"use strict\";\n\nvar cachedBundles = {};\nvar cachedPreloads = {};\nvar cachedPrefetches = {};\nfunction getCache(type) {\n  switch (type) {\n    case 'preload':\n      return cachedPreloads;\n    case 'prefetch':\n      return cachedPrefetches;\n    default:\n      return cachedBundles;\n  }\n}\nmodule.exports = function (loader, type) {\n  return function (bundle) {\n    var cache = getCache(type);\n    if (cache[bundle]) {\n      return cache[bundle];\n    }\n    return cache[bundle] = loader.apply(null, arguments).catch(function (e) {\n      delete cache[bundle];\n      throw e;\n    });\n  };\n};","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-manifest').resolve(\"ayWPq\"))).then(() => parcelRequire('Nxxra'));","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-manifest').resolve(\"6ExKj\"))).then(() => parcelRequire('bBmiD'));","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-manifest').resolve(\"eM6PU\"))).then(() => parcelRequire('6vhjD'));","require('./helpers/bundle-manifest').register(require('./helpers/bundle-url').getBundleURL('61e5g'),JSON.parse(\"[\\\"61e5g\\\",\\\"swup.js\\\",\\\"eM6PU\\\",\\\"../dragAndDrop.createDraggables.09da2ddc.js\\\",\\\"4Lo6k\\\",\\\"../menu.06ac61a7.js\\\",\\\"ayWPq\\\",\\\"../bookmarks.15b678c9.js\\\",\\\"6ExKj\\\",\\\"../windowManager.b81d9194.js\\\"]\"));","import Swup from 'swup';\nimport SwupHeadPlugin from '@swup/head-plugin';\nimport SwupScriptsPlugin from '@swup/scripts-plugin';\nimport SwupA11yPlugin from '@swup/a11y-plugin';\n\nconst swup = new Swup({\n\tcontainers: ['#content', '#page-hook'],\n\tplugins: [\n\t\tnew SwupHeadPlugin(),\n\t\tnew SwupScriptsPlugin({ body: false }),\n\t\tnew SwupA11yPlugin(),\n\t],\n});\n\nswup.hooks.on('page:view', async () => {\n\ttry {\n\t\tconst { default: Menu } = await import('./modules/menu.js');\n\t\tconst { default: Bookmarks } = await import('./modules/bookmarks.js');\n\t\tconst { default: WindowManager } = await import(\n\t\t\t'./modules/windowManager.js'\n\t\t);\n\t\tconst { default: createDraggables } = await import(\n\t\t\t'./modules/dragAndDrop.createDraggables.js'\n\t\t);\n\n\t\tif (document.querySelector('.bookmarks')) {\n\t\t\tnew Bookmarks();\n\t\t}\n\n\t\tif (createDraggables) {\n\t\t\tcreateDraggables();\n\t\t}\n\n\t\tnew Menu();\n\t\tnew WindowManager();\n\n\t\tconsole.log('Modules loaded successfully.');\n\t} catch (error) {\n\t\tconsole.error('Error loading modules:', error);\n\t}\n});\n","import t from\"delegate-it\";import{match as e}from\"path-to-regexp\";const n=(t,e)=>String(t).toLowerCase().replace(/[\\s/_.]+/g,\"-\").replace(/[^\\w-]+/g,\"\").replace(/--+/g,\"-\").replace(/^-+|-+$/g,\"\")||e||\"\",o=({hash:t}={})=>window.location.pathname+window.location.search+(t?window.location.hash:\"\"),r=(t,e={})=>{const n={url:t=t||o({hash:!0}),random:Math.random(),source:\"swup\",...e};window.history.pushState(n,\"\",t)},i=(t=null,e={})=>{t=t||o({hash:!0});const n={...window.history.state||{},url:t,random:Math.random(),source:\"swup\",...e};window.history.replaceState(n,\"\",t)},s=(e,n,o,r)=>{const i=new AbortController;return r={...r,signal:i.signal},t(e,n,o,r),{destroy:()=>i.abort()}};class a extends URL{constructor(t,e=document.baseURI){super(t.toString(),e),Object.setPrototypeOf(this,a.prototype)}get url(){return this.pathname+this.search}static fromElement(t){const e=t.getAttribute(\"href\")||t.getAttribute(\"xlink:href\")||\"\";return new a(e)}static fromUrl(t){return new a(t)}}const c=(t,n)=>{try{return e(t,n)}catch(e){throw new Error(`[swup] Error parsing path \"${String(t)}\":\\n${String(e)}`)}},l=function(t,e={}){try{const o=this;function n(n){const{status:i,url:s}=u;return Promise.resolve(u.text()).then(function(n){if(500===i)throw o.hooks.call(\"fetch:error\",r,{status:i,response:u,url:s}),new h(`Server error: ${s}`,{status:i,url:s});if(!n)throw new h(`Empty response: ${s}`,{status:i,url:s});const{url:c}=a.fromUrl(s),l={url:c,html:n};return!r.cache.write||e.method&&\"GET\"!==e.method||t!==c||o.cache.set(l.url,l),l})}t=a.fromUrl(t).url;const{visit:r=o.visit}=e,i={...o.options.requestHeaders,...e.headers},s=e.timeout??o.options.timeout,c=new AbortController,{signal:l}=c;e={...e,headers:i,signal:l};let u,d=!1,m=null;s&&s>0&&(m=setTimeout(()=>{d=!0,c.abort(\"timeout\")},s));const f=function(n,i){try{var s=Promise.resolve(o.hooks.call(\"fetch:request\",r,{url:t,options:e},(t,{url:e,options:n})=>fetch(e,n))).then(function(t){u=t,m&&clearTimeout(m)})}catch(t){return i(t)}return s&&s.then?s.then(void 0,i):s}(0,function(e){if(d)throw o.hooks.call(\"fetch:timeout\",r,{url:t}),new h(`Request timed out: ${t}`,{url:t,timedOut:d});if(\"AbortError\"===e?.name||l.aborted)throw new h(`Request aborted: ${t}`,{url:t,aborted:!0});throw e});return Promise.resolve(f&&f.then?f.then(n):n())}catch(p){return Promise.reject(p)}};class h extends Error{constructor(t,e){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name=\"FetchError\",this.url=e.url,this.status=e.status,this.aborted=e.aborted||!1,this.timedOut=e.timedOut||!1}}class u{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){const t=new Map;return this.pages.forEach((e,n)=>{t.set(n,{...e})}),t}has(t){return this.pages.has(this.resolve(t))}get(t){const e=this.pages.get(this.resolve(t));return e?{...e}:e}set(t,e){t=this.resolve(t),e={...e,url:t},this.pages.set(t,e),this.swup.hooks.callSync(\"cache:set\",void 0,{page:e})}update(t,e){t=this.resolve(t);const n={...this.get(t),...e,url:t};this.pages.set(t,n)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync(\"cache:clear\",void 0,void 0)}prune(t){this.pages.forEach((e,n)=>{t(n,e)&&this.delete(n)})}resolve(t){const{url:e}=a.fromUrl(t);return this.swup.resolveUrl(e)}}const d=(t,e=document)=>e.querySelector(t),m=(t,e=document)=>Array.from(e.querySelectorAll(t)),f=()=>new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})});function p(t){return!!t&&(\"object\"==typeof t||\"function\"==typeof t)&&\"function\"==typeof t.then}function v(t,e=[]){return new Promise((n,o)=>{const r=t(...e);p(r)?r.then(n,o):n(r)})}function g(t){t=t||document.body,t?.getBoundingClientRect()}class w{constructor(t){this.swup=void 0,this.swupClasses=[\"to-\",\"is-changing\",\"is-rendering\",\"is-popstate\",\"is-animating\",\"is-leaving\"],this.swup=t}get selectors(){const{scope:t}=this.swup.visit.animation;return\"containers\"===t?this.swup.visit.containers:\"html\"===t?[\"html\"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(\",\")}get targets(){return this.selector.trim()?m(this.selector):[]}add(){this.targets.forEach(t=>t.classList.add(...[].slice.call(arguments)))}remove(){this.targets.forEach(t=>t.classList.remove(...[].slice.call(arguments)))}clear(){this.targets.forEach(t=>{const e=t.className.split(\" \").filter(t=>this.isSwupClass(t));t.classList.remove(...e)})}isSwupClass(t){return this.swupClasses.some(e=>t.startsWith(e))}}class y{constructor(t,e){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0;const{to:n,from:o=t.currentPageUrl,hash:r,el:i,event:s}=e;this.id=Math.random(),this.state=1,this.from={url:o},this.to={url:n,hash:r},this.containers=t.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:t.options.native,scope:t.options.animationScope,selector:t.options.animationSelector},this.trigger={el:i,event:s},this.cache={read:t.options.cache,write:t.options.cache},this.history={action:\"push\",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0}}advance(t){this.state<t&&(this.state=t)}abort(){this.state=8}get done(){return this.state>=7}}function P(t){return new y(this,t)}const k=\"undefined\"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol(\"Symbol.iterator\")):\"@@iterator\";function b(t,e,n){if(!t.s){if(n instanceof S){if(!n.s)return void(n.o=b.bind(null,t,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then(b.bind(null,t,e),b.bind(null,t,2));t.s=e,t.v=n;const o=t.o;o&&o(t)}}const S=/*#__PURE__*/function(){function t(){}return t.prototype.then=function(e,n){const o=new t,r=this.s;if(r){const t=1&r?e:n;if(t){try{b(o,1,t(this.v))}catch(t){b(o,2,t)}return o}return this}return this.o=function(t){try{const r=t.v;1&t.s?b(o,1,e?e(r):r):n?b(o,1,n(r)):b(o,2,r)}catch(t){b(o,2,t)}},o},t}();function E(t){return t instanceof S&&1&t.s}class U{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=[\"animation:out:start\",\"animation:out:await\",\"animation:out:end\",\"animation:in:start\",\"animation:in:await\",\"animation:in:end\",\"animation:skip\",\"cache:clear\",\"cache:set\",\"content:replace\",\"content:scroll\",\"enable\",\"disable\",\"fetch:request\",\"fetch:error\",\"fetch:timeout\",\"history:popstate\",\"link:click\",\"link:self\",\"link:anchor\",\"link:newtab\",\"page:load\",\"page:view\",\"scroll:top\",\"scroll:anchor\",\"visit:start\",\"visit:transition\",\"visit:abort\",\"visit:end\"],this.swup=t,this.init()}init(){this.hooks.forEach(t=>this.create(t))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){const e=this.registry.get(t);if(e)return e;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach(t=>t.clear())}on(t,e,n={}){const o=this.get(t);if(!o)return console.warn(`Hook '${t}' not found.`),()=>{};const r={...n,id:o.size+1,hook:t,handler:e};return o.set(e,r),()=>this.off(t,e)}before(t,e,n={}){return this.on(t,e,{...n,before:!0})}replace(t,e,n={}){return this.on(t,e,{...n,replace:!0})}once(t,e,n={}){return this.on(t,e,{...n,once:!0})}off(t,e){const n=this.get(t);n&&e?n.delete(e)||console.warn(`Handler for hook '${t}' not found.`):n&&n.clear()}call(t,e,n,o){try{const r=this,[i,s,a]=r.parseCallArgs(t,e,n,o),{before:c,handler:l,after:h}=r.getHandlers(t,a);return Promise.resolve(r.run(c,i,s)).then(function(){return Promise.resolve(r.run(l,i,s,!0)).then(function([e]){return Promise.resolve(r.run(h,i,s)).then(function(){return r.dispatchDomEvent(t,i,s),e})})})}catch(t){return Promise.reject(t)}}callSync(t,e,n,o){const[r,i,s]=this.parseCallArgs(t,e,n,o),{before:a,handler:c,after:l}=this.getHandlers(t,s);this.runSync(a,r,i);const[h]=this.runSync(c,r,i,!0);return this.runSync(l,r,i),this.dispatchDomEvent(t,r,i),h}parseCallArgs(t,e,n,o){return e instanceof y||\"object\"!=typeof e&&\"function\"!=typeof n?[e,n,o]:[void 0,e,n]}run(t,e,n,o=!1){try{let r;const i=this;void 0===e&&(e=i.swup.visit);const s=[],a=function(t,e,n){if(\"function\"==typeof t[k]){var o,r,i,s=t[k]();if(function t(a){try{for(;!((o=s.next()).done||n&&n());)if((a=e(o.value))&&a.then){if(!E(a))return void a.then(t,i||(i=b.bind(null,r=new S,2)));a=a.v}r?b(r,1,a):r=a}catch(t){b(r||(r=new S),2,t)}}(),s.return){var a=function(t){try{o.done||s.return()}catch(t){}return t};if(r&&r.then)return r.then(a,function(t){throw a(t)});a()}return r}if(!(\"length\"in t))throw new TypeError(\"Object is not iterable\");for(var c=[],l=0;l<t.length;l++)c.push(t[l]);return function(t,e,n){var o,r,i=-1;return function s(a){try{for(;++i<t.length&&(!n||!n());)if((a=e(i))&&a.then){if(!E(a))return void a.then(s,r||(r=b.bind(null,o=new S,2)));a=a.v}o?b(o,1,a):o=a}catch(t){b(o||(o=new S),2,t)}}(),o}(c,function(t){return e(c[t])},n)}(t,function({hook:t,handler:r,defaultHandler:a,once:c}){if(!e?.done)return c&&i.off(t,r),function(t,o){try{var i=Promise.resolve(v(r,[e,n,a])).then(function(t){s.push(t)})}catch(t){return o(t)}return i&&i.then?i.then(void 0,o):i}(0,function(e){if(o)throw e;console.error(`Error in hook '${t}':`,e)})},function(){return r});return Promise.resolve(a&&a.then?a.then(function(t){return r?t:s}):r?a:s)}catch(t){return Promise.reject(t)}}runSync(t,e=this.swup.visit,n,o=!1){const r=[];for(const{hook:i,handler:s,defaultHandler:a,once:c}of t)if(!e?.done){c&&this.off(i,s);try{const t=s(e,n,a);r.push(t),p(t)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${i}'.`)}catch(t){if(o)throw t;console.error(`Error in hook '${i}':`,t)}}return r}getHandlers(t,e){const n=this.get(t);if(!n)return{found:!1,before:[],handler:[],after:[],replaced:!1};const o=Array.from(n.values()),r=this.sortRegistrations,i=o.filter(({before:t,replace:e})=>t&&!e).sort(r),s=o.filter(({replace:t})=>t).filter(t=>!0).sort(r),a=o.filter(({before:t,replace:e})=>!t&&!e).sort(r),c=s.length>0;let l=[];if(e&&(l=[{id:0,hook:t,handler:e}],c)){const n=s.length-1,o=t=>{const n=s[t-1];return n?(e,r)=>n.handler(e,r,o(t-1)):e};l=[{id:0,hook:t,handler:s[n].handler,defaultHandler:o(n)}]}return{found:!0,before:i,handler:l,after:a,replaced:c}}sortRegistrations(t,e){return(t.priority??0)-(e.priority??0)||t.id-e.id||0}dispatchDomEvent(t,e,n){if(e?.done)return;const o={hook:t,args:n,visit:e||this.swup.visit};document.dispatchEvent(new CustomEvent(\"swup:any\",{detail:o,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:o,bubbles:!0}))}}const C=t=>{if(t&&\"#\"===t.charAt(0)&&(t=t.substring(1)),!t)return null;const e=decodeURIComponent(t);let n=document.getElementById(t)||document.getElementById(e)||d(`a[name='${CSS.escape(t)}']`)||d(`a[name='${CSS.escape(e)}']`);return n||\"top\"!==t||(n=document.body),n},$=function({elements:t,selector:e}){try{if(!1===e&&!t)return Promise.resolve();let n=[];if(t)n=Array.from(t);else if(e&&(n=m(e,document.body),!n.length))return console.warn(`[swup] No elements found matching animationSelector \\`${e}\\``),Promise.resolve();const o=n.map(t=>function(t){const{type:e,timeout:n,propCount:o}=function(t){const e=window.getComputedStyle(t),n=H(e,`${x}Delay`),o=H(e,`${x}Duration`),r=j(n,o),i=H(e,`${A}Delay`),s=H(e,`${A}Duration`),a=j(i,s),c=Math.max(r,a),l=c>0?r>a?x:A:null;return{type:l,timeout:c,propCount:l?l===x?o.length:s.length:0}}(t);return!(!e||!n)&&new Promise(r=>{const i=`${e}end`,s=performance.now();let a=0;const c=()=>{t.removeEventListener(i,l),r()},l=e=>{if(e.target===t){if(!function(t){return[`${x}end`,`${A}end`].includes(t.type)}(e))throw new Error(\"Not a transition or animation event.\");(performance.now()-s)/1e3<e.elapsedTime||++a>=o&&c()}};setTimeout(()=>{a<o&&c()},n+1),t.addEventListener(i,l)})}(t));return o.filter(Boolean).length>0?Promise.resolve(Promise.all(o)).then(function(){}):(e&&console.warn(`[swup] No CSS animation duration defined on elements matching \\`${e}\\``),Promise.resolve())}catch(t){return Promise.reject(t)}},x=\"transition\",A=\"animation\";function H(t,e){return(t[e]||\"\").split(\", \")}function j(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((e,n)=>V(e)+V(t[n])))}function V(t){return 1e3*parseFloat(t)}const I=function(t,e={}){try{let a;const c=this;function s(s){if(a)return s;c.navigating=!0,c.visit=t;const{el:l}=t.trigger;e.referrer=e.referrer||c.currentPageUrl,!1===e.animate&&(t.animation.animate=!1),t.animation.animate||c.classes.clear();const h=e.history||l?.getAttribute(\"data-swup-history\")||void 0;h&&[\"push\",\"replace\"].includes(h)&&(t.history.action=h);const u=e.animation||l?.getAttribute(\"data-swup-animation\")||void 0;return u&&(t.animation.name=u),\"object\"==typeof e.cache?(t.cache.read=e.cache.read??t.cache.read,t.cache.write=e.cache.write??t.cache.write):void 0!==e.cache&&(t.cache={read:!!e.cache,write:!!e.cache}),delete e.cache,function(s,a){try{var l=function(s,a){try{var l=Promise.resolve(c.hooks.call(\"visit:start\",t,void 0)).then(function(){function s(){if(!t.done)return Promise.resolve(c.hooks.call(\"visit:transition\",t,void 0,function(){try{let n;function e(e){return n?e:(t.advance(4),Promise.resolve(c.animatePageOut(t)).then(function(){function e(){return Promise.resolve(c.animatePageIn(t)).then(function(){})}const n=function(){if(t.animation.native&&document.startViewTransition)return Promise.resolve(document.startViewTransition(function(){try{const e=c.renderPage;return Promise.resolve(a).then(function(n){return Promise.resolve(e.call(c,t,n))})}catch(t){return Promise.reject(t)}}).finished).then(function(){});{const e=c.renderPage;return Promise.resolve(a).then(function(n){return Promise.resolve(e.call(c,t,n)).then(function(){})})}}();return n&&n.then?n.then(e):e()}))}const o=function(){if(!t.animation.animate)return Promise.resolve(c.hooks.call(\"animation:skip\",void 0)).then(function(){const e=c.renderPage;return Promise.resolve(a).then(function(o){return Promise.resolve(e.call(c,t,o)).then(function(){n=1})})})}();return Promise.resolve(o&&o.then?o.then(e):e(o))}catch(r){return Promise.reject(r)}})).then(function(){if(!t.done)return Promise.resolve(c.hooks.call(\"visit:end\",t,void 0,()=>c.classes.clear())).then(function(){t.state=7,c.navigating=!1,c.onVisitEnd&&(c.onVisitEnd(),c.onVisitEnd=void 0)})})}t.state=3;const a=c.hooks.call(\"page:load\",t,{options:e},function(t,e){try{function n(t){return e.page=t,e.cache=!!o,e.page}let o;return t.cache.read&&(o=c.cache.get(t.to.url)),Promise.resolve(o?n(o):Promise.resolve(c.fetchPage(t.to.url,e.options)).then(n))}catch(r){return Promise.reject(r)}});if(a.then(({html:e})=>{t.advance(5),t.to.html=e,t.to.document=(new DOMParser).parseFromString(e,\"text/html\")}),!t.history.popstate){const e=t.to.url+t.to.hash;\"replace\"===t.history.action||t.to.url===c.currentPageUrl?i(e):(c.currentHistoryIndex++,r(e,{index:c.currentHistoryIndex}))}c.currentPageUrl=o(),t.history.popstate&&c.classes.add(\"is-popstate\"),t.animation.name&&c.classes.add(`to-${n(t.animation.name)}`);const l=function(){if(t.animation.wait)return Promise.resolve(a).then(function(){})}();return l&&l.then?l.then(s):s()})}catch(t){return a(t)}return l&&l.then?l.then(void 0,a):l}(0,function(e){e&&!e?.aborted?(t.state=9,console.error(e),c.options.skipPopStateHandling=()=>(window.location.assign(t.to.url+t.to.hash),!0),window.history.back()):t.state=8})}catch(t){return a(!0,t)}return l&&l.then?l.then(a.bind(null,!1),a.bind(null,!0)):a(!1,l)}(0,function(e,n){if(delete t.to.document,e)throw n;return n})}const l=function(){if(c.navigating)return function(){if(!(c.visit.state>=6))return Promise.resolve(c.hooks.call(\"visit:abort\",c.visit,void 0)).then(function(){delete c.visit.to.document,c.visit.state=8});t.state=2,c.onVisitEnd=()=>c.performNavigation(t,e),a=1}()}();return Promise.resolve(l&&l.then?l.then(s):s(l))}catch(h){return Promise.reject(h)}};function L(t,e={},n={}){if(\"string\"!=typeof t)throw new Error(\"swup.navigate() requires a URL parameter\");if(this.shouldIgnoreVisit(t,{el:n.el,event:n.event}))return void window.location.assign(t);const{url:o,hash:r}=a.fromUrl(t),i=this.createVisit({...n,to:o,hash:r});this.performNavigation(i,e)}const T=function(t){try{const e=this;return Promise.resolve(e.hooks.call(\"animation:out:start\",t,void 0,()=>{e.classes.add(\"is-changing\",\"is-animating\",\"is-leaving\")})).then(function(){return Promise.resolve(e.hooks.call(\"animation:out:await\",t,{skip:!1},(t,{skip:n})=>{if(!n)return e.awaitAnimations({selector:t.animation.selector})})).then(function(){return Promise.resolve(e.hooks.call(\"animation:out:end\",t,void 0)).then(function(){})})})}catch(t){return Promise.reject(t)}},q=function(t){const e=t.to.document;if(!e)return!1;const n=e.querySelector(\"title\")?.innerText||\"\";document.title=n;const o=m('[data-swup-persist]:not([data-swup-persist=\"\"])'),r=t.containers.map(t=>{const n=document.querySelector(t),o=e.querySelector(t);return n&&o?(n.replaceWith(o.cloneNode(!0)),!0):(n||console.warn(`[swup] Container missing in current document: ${t}`),o||console.warn(`[swup] Container missing in incoming document: ${t}`),!1)}).filter(Boolean);return o.forEach(t=>{const e=t.getAttribute(\"data-swup-persist\"),n=d(`[data-swup-persist=\"${e}\"]`);n&&n!==t&&n.replaceWith(t)}),r.length===t.containers.length},R=function(t){const e={behavior:\"auto\"},{target:n,reset:o}=t.scroll,r=n??t.to.hash;let i=!1;return r&&(i=this.hooks.callSync(\"scroll:anchor\",t,{hash:r,options:e},(t,{hash:e,options:n})=>{const o=this.getAnchorElement(e);return o&&o.scrollIntoView(n),!!o})),o&&!i&&(i=this.hooks.callSync(\"scroll:top\",t,{options:e},(t,{options:e})=>(window.scrollTo({top:0,left:0,...e}),!0))),i},N=function(t){try{const e=this;if(t.done)return Promise.resolve();const n=e.hooks.call(\"animation:in:await\",t,{skip:!1},(t,{skip:n})=>{if(!n)return e.awaitAnimations({selector:t.animation.selector})});return Promise.resolve(f()).then(function(){return Promise.resolve(e.hooks.call(\"animation:in:start\",t,void 0,()=>{e.classes.remove(\"is-animating\")})).then(function(){return Promise.resolve(n).then(function(){return Promise.resolve(e.hooks.call(\"animation:in:end\",t,void 0)).then(function(){})})})})}catch(t){return Promise.reject(t)}},D=function(t,e){try{const r=this;if(t.done)return Promise.resolve();t.advance(6);const{url:s}=e;return r.isSameResolvedUrl(o(),s)||(i(s),r.currentPageUrl=o(),t.to.url=r.currentPageUrl),Promise.resolve(r.hooks.call(\"content:replace\",t,{page:e},(t,{})=>{if(r.classes.remove(\"is-leaving\"),t.animation.animate&&r.classes.add(\"is-rendering\"),!r.replaceContent(t))throw new Error(\"[swup] Container mismatch, aborting\");t.animation.animate&&(r.classes.add(\"is-changing\",\"is-animating\",\"is-rendering\"),t.animation.name&&r.classes.add(`to-${n(t.animation.name)}`))})).then(function(){return Promise.resolve(r.hooks.call(\"content:scroll\",t,void 0,()=>r.scrollToContent(t))).then(function(){return Promise.resolve(r.hooks.call(\"page:view\",t,{url:r.currentPageUrl,title:document.title})).then(function(){})})})}catch(t){return Promise.reject(t)}},M=function(t){var e;if(e=t,Boolean(e?.isSwupPlugin)){if(t.swup=this,!t._checkRequirements||t._checkRequirements())return t._beforeMount&&t._beforeMount(),t.mount(),this.plugins.push(t),this.plugins}else console.error(\"Not a swup plugin instance\",t)};function O(t){const e=this.findPlugin(t);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter(t=>t!==e),this.plugins;console.error(\"No such plugin\",e)}function W(t){return this.plugins.find(e=>e===t||e.name===t||e.name===`Swup${String(t)}`)}function B(t){if(\"function\"!=typeof this.options.resolveUrl)return console.warn(\"[swup] options.resolveUrl expects a callback function.\"),t;const e=this.options.resolveUrl(t);return e&&\"string\"==typeof e?e.startsWith(\"//\")||e.startsWith(\"http\")?(console.warn(\"[swup] options.resolveUrl needs to return a relative url\"),t):e:(console.warn(\"[swup] options.resolveUrl needs to return a url\"),t)}function _(t,e){return this.resolveUrl(t)===this.resolveUrl(e)}const F={animateHistoryBrowsing:!1,animationSelector:'[class*=\"transition-\"]',animationScope:\"html\",cache:!0,containers:[\"#swup\"],ignoreVisit:(t,{el:e}={})=>!!e?.closest(\"[data-no-swup]\"),linkSelector:\"a[href]\",linkToSelf:\"scroll\",native:!1,plugins:[],resolveUrl:t=>t,requestHeaders:{\"X-Requested-With\":\"swup\",Accept:\"text/html, application/xhtml+xml\"},skipPopStateHandling:t=>\"swup\"!==t.state?.source,timeout:0};class K{constructor(t={}){this.version=\"4.6.1\",this.options=void 0,this.defaults=F,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.currentPageUrl=o(),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=M,this.unuse=O,this.findPlugin=W,this.log=()=>{},this.navigate=L,this.performNavigation=I,this.createVisit=P,this.delegateEvent=s,this.fetchPage=l,this.awaitAnimations=$,this.renderPage=D,this.replaceContent=q,this.animatePageIn=N,this.animatePageOut=T,this.scrollToContent=R,this.getAnchorElement=C,this.getCurrentUrl=o,this.resolveUrl=B,this.isSameResolvedUrl=_,this.options={...this.defaults,...t},this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new u(this),this.classes=new w(this),this.hooks=new U(this),this.visit=this.createVisit({to:\"\"}),this.currentHistoryIndex=window.history.state?.index??1,this.enable()}enable(){try{const t=this,{linkSelector:e}=t.options;return t.clickDelegate=t.delegateEvent(e,\"click\",t.handleLinkClick),window.addEventListener(\"popstate\",t.handlePopState),t.options.animateHistoryBrowsing&&(window.history.scrollRestoration=\"manual\"),t.options.native=t.options.native&&!!document.startViewTransition,t.options.plugins.forEach(e=>t.use(e)),\"swup\"!==window.history.state?.source&&i(null,{index:t.currentHistoryIndex}),Promise.resolve(f()).then(function(){return Promise.resolve(t.hooks.call(\"enable\",void 0,void 0,()=>{const e=document.documentElement;e.classList.add(\"swup-enabled\"),e.classList.toggle(\"swup-native\",t.options.native)})).then(function(){})})}catch(t){return Promise.reject(t)}}destroy(){try{const t=this;return t.clickDelegate.destroy(),window.removeEventListener(\"popstate\",t.handlePopState),t.cache.clear(),t.options.plugins.forEach(e=>t.unuse(e)),Promise.resolve(t.hooks.call(\"disable\",void 0,void 0,()=>{const t=document.documentElement;t.classList.remove(\"swup-enabled\"),t.classList.remove(\"swup-native\")})).then(function(){t.hooks.clear()})}catch(t){return Promise.reject(t)}}shouldIgnoreVisit(t,{el:e,event:n}={}){const{origin:o,url:r,hash:i}=a.fromUrl(t);return o!==window.location.origin||!(!e||!this.triggerWillOpenNewWindow(e))||!!this.options.ignoreVisit(r+i,{el:e,event:n})}handleLinkClick(t){const e=t.delegateTarget,{href:n,url:o,hash:r}=a.fromElement(e);if(this.shouldIgnoreVisit(n,{el:e,event:t}))return;if(this.navigating&&o===this.visit.to.url)return void t.preventDefault();const s=this.createVisit({to:o,hash:r,el:e,event:t});t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.callSync(\"link:newtab\",s,{href:n}):0===t.button&&this.hooks.callSync(\"link:click\",s,{el:e,event:t},()=>{const e=s.from.url??\"\";t.preventDefault(),o&&o!==e?this.isSameResolvedUrl(o,e)||this.performNavigation(s):r?this.hooks.callSync(\"link:anchor\",s,{hash:r},()=>{i(o+r),this.scrollToContent(s)}):this.hooks.callSync(\"link:self\",s,void 0,()=>{\"navigate\"===this.options.linkToSelf?this.performNavigation(s):(i(o),this.scrollToContent(s))})})}handlePopState(t){const e=t.state?.url??window.location.href;if(this.options.skipPopStateHandling(t))return;if(this.isSameResolvedUrl(o(),this.currentPageUrl))return;const{url:n,hash:r}=a.fromUrl(e),i=this.createVisit({to:n,hash:r,event:t});i.history.popstate=!0;const s=t.state?.index??0;s&&s!==this.currentHistoryIndex&&(i.history.direction=s-this.currentHistoryIndex>0?\"forwards\":\"backwards\",this.currentHistoryIndex=s),i.animation.animate=!1,i.scroll.reset=!1,i.scroll.target=!1,this.options.animateHistoryBrowsing&&(i.animation.animate=!0,i.scroll.reset=!0),this.hooks.callSync(\"history:popstate\",i,{event:t},()=>{this.performNavigation(i)})}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target=\"_blank\"]')}}export{a as Location,n as classify,r as createHistoryRecord,K as default,s as delegateEvent,g as forceReflow,o as getCurrentUrl,p as isPromise,c as matchPath,f as nextTick,d as query,m as queryAll,v as runAsPromise,i as updateHistoryRecord};\n//# sourceMappingURL=Swup.module.js.map\n","/** Turn a string into a slug by lowercasing and replacing whitespace. */\nexport const classify = (text: string, fallback?: string): string => {\n\tconst output = String(text)\n\t\t.toLowerCase()\n\t\t// .normalize('NFD') // split an accented letter in the base letter and the acent\n\t\t// .replace(/[\\u0300-\\u036f]/g, '') // remove all previously split accents\n\t\t.replace(/[\\s/_.]+/g, '-') // replace spaces and _./ with '-'\n\t\t.replace(/[^\\w-]+/g, '') // remove all non-word chars\n\t\t.replace(/--+/g, '-') // replace repeating '-' with single '-'\n\t\t.replace(/^-+|-+$/g, ''); // trim '-' from edges\n\treturn output || fallback || '';\n};\n","/** Get the current page URL: path name + query params. Optionally including hash. */\nexport const getCurrentUrl = ({ hash }: { hash?: boolean } = {}): string => {\n\treturn window.location.pathname + window.location.search + (hash ? window.location.hash : '');\n};\n","import { getCurrentUrl } from './getCurrentUrl.js';\n\nexport interface HistoryState {\n\turl: string;\n\tsource: 'swup';\n\trandom: number;\n\tindex?: number;\n\t[key: string]: unknown;\n}\n\ntype HistoryData = Record<string, unknown>;\n\n/** Create a new history record with a custom swup identifier. */\nexport const createHistoryRecord = (url: string, data: HistoryData = {}): void => {\n\turl = url || getCurrentUrl({ hash: true });\n\tconst state: HistoryState = {\n\t\turl,\n\t\trandom: Math.random(),\n\t\tsource: 'swup',\n\t\t...data\n\t};\n\twindow.history.pushState(state, '', url);\n};\n\n/** Update the current history record with a custom swup identifier. */\nexport const updateHistoryRecord = (url: string | null = null, data: HistoryData = {}): void => {\n\turl = url || getCurrentUrl({ hash: true });\n\tconst currentState = (window.history.state as HistoryState) || {};\n\tconst state: HistoryState = {\n\t\t...currentState,\n\t\turl,\n\t\trandom: Math.random(),\n\t\tsource: 'swup',\n\t\t...data\n\t};\n\twindow.history.replaceState(state, '', url);\n};\n","import delegate, {\n\ttype DelegateEventHandler,\n\ttype DelegateOptions,\n\ttype EventType\n} from 'delegate-it';\nimport type { ParseSelector } from 'typed-query-selector/parser.js';\n\nexport type DelegateEventUnsubscribe = {\n\tdestroy: () => void;\n};\n\n/** Register a delegated event listener. */\nexport const delegateEvent = <\n\tSelector extends string,\n\tTElement extends Element = ParseSelector<Selector, HTMLElement>,\n\tTEvent extends EventType = EventType\n>(\n\tselector: Selector,\n\ttype: TEvent,\n\tcallback: DelegateEventHandler<GlobalEventHandlersEventMap[TEvent], TElement>,\n\toptions?: DelegateOptions\n): DelegateEventUnsubscribe => {\n\tconst controller = new AbortController();\n\toptions = { ...options, signal: controller.signal };\n\tdelegate<Selector, TElement, TEvent>(selector, type, callback, options);\n\treturn { destroy: () => controller.abort() };\n};\n","/**\n * A helper for creating a Location from either an element\n * or a URL object/string\n *\n */\nexport class Location extends URL {\n\tconstructor(url: URL | string, base: string = document.baseURI) {\n\t\tsuper(url.toString(), base);\n\t\t// Fix Safari bug with extending native classes\n\t\tObject.setPrototypeOf(this, Location.prototype);\n\t}\n\n\t/**\n\t * The full local path including query params.\n\t */\n\tget url(): string {\n\t\treturn this.pathname + this.search;\n\t}\n\n\t/**\n\t * Instantiate a Location from an element's href attribute\n\t * @param el\n\t * @returns new Location instance\n\t */\n\tstatic fromElement(el: Element): Location {\n\t\tconst href = el.getAttribute('href') || el.getAttribute('xlink:href') || '';\n\t\treturn new Location(href);\n\t}\n\n\t/**\n\t * Instantiate a Location from a URL object or string\n\t * @param url\n\t * @returns new Location instance\n\t */\n\tstatic fromUrl(url: URL | string): Location {\n\t\treturn new Location(url);\n\t}\n}\n","import { match } from 'path-to-regexp';\n\nimport type {\n\tPath,\n\tParseOptions,\n\tTokensToRegexpOptions,\n\tRegexpToFunctionOptions,\n\tMatchFunction\n} from 'path-to-regexp';\n\nexport { type Path };\n\n/** Create a match function from a path pattern that checks if a URLs matches it. */\nexport const matchPath = <P extends object = object>(\n\tpath: Path,\n\toptions?: ParseOptions & TokensToRegexpOptions & RegexpToFunctionOptions\n): MatchFunction<P> => {\n\ttry {\n\t\treturn match<P>(path, options);\n\t} catch (error) {\n\t\tthrow new Error(`[swup] Error parsing path \"${String(path)}\":\\n${String(error)}`);\n\t}\n};\n","import type Swup from '../Swup.js';\nimport { Location } from '../helpers.js';\nimport type { Visit } from './Visit.js';\n\n/** A page object as used by swup and its cache. */\nexport interface PageData {\n\t/** The URL of the page */\n\turl: string;\n\t/** The complete HTML response received from the server */\n\thtml: string;\n}\n\n/** Define how a page is fetched. */\nexport interface FetchOptions extends Omit<RequestInit, 'cache'> {\n\t/** The request method. */\n\tmethod?: 'GET' | 'POST';\n\t/** The body of the request: raw string, form data object or URL params. */\n\tbody?: string | FormData | URLSearchParams;\n\t/** The request timeout in milliseconds. */\n\ttimeout?: number;\n\t/** Optional visit object with additional context. @internal */\n\tvisit?: Visit;\n}\n\nexport class FetchError extends Error {\n\turl: string;\n\tstatus?: number;\n\taborted: boolean;\n\ttimedOut: boolean;\n\tconstructor(\n\t\tmessage: string,\n\t\tdetails: { url: string; status?: number; aborted?: boolean; timedOut?: boolean }\n\t) {\n\t\tsuper(message);\n\t\tthis.name = 'FetchError';\n\t\tthis.url = details.url;\n\t\tthis.status = details.status;\n\t\tthis.aborted = details.aborted || false;\n\t\tthis.timedOut = details.timedOut || false;\n\t}\n}\n\n/**\n * Fetch a page from the server, return it and cache it.\n */\nexport async function fetchPage(\n\tthis: Swup,\n\turl: URL | string,\n\toptions: FetchOptions = {}\n): Promise<PageData> {\n\turl = Location.fromUrl(url).url;\n\n\tconst { visit = this.visit } = options;\n\tconst headers = { ...this.options.requestHeaders, ...options.headers };\n\tconst timeout = options.timeout ?? this.options.timeout;\n\tconst controller = new AbortController();\n\tconst { signal } = controller;\n\toptions = { ...options, headers, signal };\n\n\tlet timedOut = false;\n\tlet timeoutId: ReturnType<typeof setTimeout> | null = null;\n\tif (timeout && timeout > 0) {\n\t\ttimeoutId = setTimeout(() => {\n\t\t\ttimedOut = true;\n\t\t\tcontroller.abort('timeout');\n\t\t}, timeout);\n\t}\n\n\t// Allow hooking before this and returning a custom response-like object (e.g. custom fetch implementation)\n\tlet response: Response;\n\ttry {\n\t\tresponse = await this.hooks.call(\n\t\t\t'fetch:request',\n\t\t\tvisit,\n\t\t\t{ url, options },\n\t\t\t(visit, { url, options }) => fetch(url, options)\n\t\t);\n\t\tif (timeoutId) {\n\t\t\tclearTimeout(timeoutId);\n\t\t}\n\t} catch (error) {\n\t\tif (timedOut) {\n\t\t\tthis.hooks.call('fetch:timeout', visit, { url });\n\t\t\tthrow new FetchError(`Request timed out: ${url}`, { url, timedOut });\n\t\t}\n\t\tif ((error as Error)?.name === 'AbortError' || signal.aborted) {\n\t\t\tthrow new FetchError(`Request aborted: ${url}`, { url, aborted: true });\n\t\t}\n\t\tthrow error;\n\t}\n\n\tconst { status, url: responseUrl } = response;\n\tconst html = await response.text();\n\n\tif (status === 500) {\n\t\tthis.hooks.call('fetch:error', visit, { status, response, url: responseUrl });\n\t\tthrow new FetchError(`Server error: ${responseUrl}`, { status, url: responseUrl });\n\t}\n\n\tif (!html) {\n\t\tthrow new FetchError(`Empty response: ${responseUrl}`, { status, url: responseUrl });\n\t}\n\n\t// Resolve real url after potential redirect\n\tconst { url: finalUrl } = Location.fromUrl(responseUrl);\n\tconst page = { url: finalUrl, html };\n\n\t// Write to cache for safe methods and non-redirects\n\tif (visit.cache.write && (!options.method || options.method === 'GET') && url === finalUrl) {\n\t\tthis.cache.set(page.url, page);\n\t}\n\n\treturn page;\n}\n","import type Swup from '../Swup.js';\nimport { Location } from '../helpers.js';\nimport { type PageData } from './fetchPage.js';\n\nexport interface CacheData extends PageData {}\n\n/**\n * In-memory page cache.\n */\nexport class Cache {\n\t/** Swup instance this cache belongs to */\n\tprotected swup: Swup;\n\n\t/** Cached pages, indexed by URL */\n\tprotected pages: Map<string, CacheData> = new Map();\n\n\tconstructor(swup: Swup) {\n\t\tthis.swup = swup;\n\t}\n\n\t/** Number of cached pages in memory. */\n\tget size(): number {\n\t\treturn this.pages.size;\n\t}\n\n\t/** All cached pages. */\n\tget all() {\n\t\tconst copy = new Map();\n\t\tthis.pages.forEach((page, key) => {\n\t\t\tcopy.set(key, { ...page });\n\t\t});\n\t\treturn copy;\n\t}\n\n\t/** Check if the given URL has been cached. */\n\thas(url: string): boolean {\n\t\treturn this.pages.has(this.resolve(url));\n\t}\n\n\t/** Return a shallow copy of the cached page object if available. */\n\tget(url: string): CacheData | undefined {\n\t\tconst result = this.pages.get(this.resolve(url));\n\t\tif (!result) return result;\n\t\treturn { ...result };\n\t}\n\n\t/** Create a cache record for the specified URL. */\n\tset(url: string, page: CacheData) {\n\t\turl = this.resolve(url);\n\t\tpage = { ...page, url };\n\t\tthis.pages.set(url, page);\n\t\tthis.swup.hooks.callSync('cache:set', undefined, { page });\n\t}\n\n\t/** Update a cache record, overwriting or adding custom data. */\n\tupdate(url: string, payload: object) {\n\t\turl = this.resolve(url);\n\t\tconst page = { ...this.get(url), ...payload, url } as CacheData;\n\t\tthis.pages.set(url, page);\n\t}\n\n\t/** Delete a cache record. */\n\tdelete(url: string): void {\n\t\tthis.pages.delete(this.resolve(url));\n\t}\n\n\t/** Empty the cache. */\n\tclear(): void {\n\t\tthis.pages.clear();\n\t\tthis.swup.hooks.callSync('cache:clear', undefined, undefined);\n\t}\n\n\t/** Remove all cache entries that return true for a given predicate function.  */\n\tprune(predicate: (url: string, page: CacheData) => boolean): void {\n\t\tthis.pages.forEach((page, url) => {\n\t\t\tif (predicate(url, page)) {\n\t\t\t\tthis.delete(url);\n\t\t\t}\n\t\t});\n\t}\n\n\t/** Resolve URLs by making them local and letting swup resolve them. */\n\tprotected resolve(urlToResolve: string): string {\n\t\tconst { url } = Location.fromUrl(urlToResolve);\n\t\treturn this.swup.resolveUrl(url);\n\t}\n}\n","/** Find an element by selector. */\nexport const query = (selector: string, context: Document | Element = document) => {\n\treturn context.querySelector<HTMLElement>(selector);\n};\n\n/** Find a set of elements by selector. */\nexport const queryAll = (\n\tselector: string,\n\tcontext: Document | Element = document\n): HTMLElement[] => {\n\treturn Array.from(context.querySelectorAll(selector));\n};\n\n/** Return a Promise that resolves after the next event loop. */\nexport const nextTick = (): Promise<void> => {\n\treturn new Promise((resolve) => {\n\t\trequestAnimationFrame(() => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tresolve();\n\t\t\t});\n\t\t});\n\t});\n};\n\n/** Check if an object is a Promise or a Thenable */\nexport function isPromise<T>(obj: unknown): obj is PromiseLike<T> {\n\treturn (\n\t\t!!obj &&\n\t\t(typeof obj === 'object' || typeof obj === 'function') &&\n\t\ttypeof (obj as Record<string, unknown>).then === 'function'\n\t);\n}\n\n/** Call a function as a Promise. Resolves with the returned Promsise or immediately. */\n// eslint-disable-next-line @typescript-eslint/ban-types, @typescript-eslint/no-explicit-any\nexport function runAsPromise(func: Function, args: unknown[] = []): Promise<unknown> {\n\treturn new Promise((resolve, reject) => {\n\t\tconst result: unknown = func(...args);\n\t\tif (isPromise(result)) {\n\t\t\tresult.then(resolve, reject);\n\t\t} else {\n\t\t\tresolve(result);\n\t\t}\n\t});\n}\n\n/**\n * Force a layout reflow, e.g. after adding classnames\n * @see https://stackoverflow.com/a/21665117/3759615\n */\nexport function forceReflow(element?: HTMLElement): void {\n\telement = element || document.body;\n\telement?.getBoundingClientRect();\n}\n","import type Swup from '../Swup.js';\nimport { queryAll } from '../utils.js';\n\nexport class Classes {\n\tprotected swup: Swup;\n\tprotected swupClasses = [\n\t\t'to-',\n\t\t'is-changing',\n\t\t'is-rendering',\n\t\t'is-popstate',\n\t\t'is-animating',\n\t\t'is-leaving'\n\t];\n\n\tconstructor(swup: Swup) {\n\t\tthis.swup = swup;\n\t}\n\n\tprotected get selectors(): string[] {\n\t\tconst { scope } = this.swup.visit.animation;\n\t\tif (scope === 'containers') return this.swup.visit.containers;\n\t\tif (scope === 'html') return ['html'];\n\t\tif (Array.isArray(scope)) return scope;\n\t\treturn [];\n\t}\n\n\tprotected get selector(): string {\n\t\treturn this.selectors.join(',');\n\t}\n\n\tprotected get targets(): HTMLElement[] {\n\t\tif (!this.selector.trim()) return [];\n\t\treturn queryAll(this.selector);\n\t}\n\n\tadd(...classes: string[]): void {\n\t\tthis.targets.forEach((target) => target.classList.add(...classes));\n\t}\n\n\tremove(...classes: string[]): void {\n\t\tthis.targets.forEach((target) => target.classList.remove(...classes));\n\t}\n\n\tclear(): void {\n\t\tthis.targets.forEach((target) => {\n\t\t\tconst remove = target.className.split(' ').filter((c) => this.isSwupClass(c));\n\t\t\ttarget.classList.remove(...remove);\n\t\t});\n\t}\n\n\tprotected isSwupClass(className: string): boolean {\n\t\treturn this.swupClasses.some((c) => className.startsWith(c));\n\t}\n}\n","import type Swup from '../Swup.js';\nimport type { Options } from '../Swup.js';\nimport type { HistoryAction, HistoryDirection } from './navigate.js';\n\n/** See below for the class Visit {} definition */\n// export interface Visit {}\n\nexport interface VisitFrom {\n\t/** The URL of the previous page */\n\turl: string;\n}\n\nexport interface VisitTo {\n\t/** The URL of the next page */\n\turl: string;\n\t/** The hash of the next page */\n\thash?: string;\n\t/** The HTML content of the next page */\n\thtml?: string;\n\t/** The parsed document of the next page, available during visit */\n\tdocument?: Document;\n}\n\nexport interface VisitAnimation {\n\t/** Whether this visit is animated. Default: `true` */\n\tanimate: boolean;\n\t/** Whether to wait for the next page to load before starting the animation. Default: `false` */\n\twait: boolean;\n\t/** Name of a custom animation to run. */\n\tname?: string;\n\t/** Whether this animation uses the native browser ViewTransition API. Default: `false` */\n\tnative: boolean;\n\t/** Elements on which to add animation classes. Default: `html` element */\n\tscope: 'html' | 'containers' | string[];\n\t/** Selector for detecting animation timing. Default: `[class*=\"transition-\"]` */\n\tselector: Options['animationSelector'];\n}\n\nexport interface VisitScroll {\n\t/** Whether to reset the scroll position after the visit. Default: `true` */\n\treset: boolean;\n\t/** Anchor element to scroll to on the next page. */\n\ttarget?: string | false;\n}\n\nexport interface VisitTrigger {\n\t/** DOM element that triggered this visit. */\n\tel?: Element;\n\t/** DOM event that triggered this visit. */\n\tevent?: Event;\n}\n\nexport interface VisitCache {\n\t/** Whether this visit will try to load the requested page from cache. */\n\tread: boolean;\n\t/** Whether this visit will save the loaded page in cache. */\n\twrite: boolean;\n}\n\nexport interface VisitHistory {\n\t/** History action to perform: `push` for creating a new history entry, `replace` for replacing the current entry. Default: `push` */\n\taction: HistoryAction;\n\t/** Whether this visit was triggered by a browser history navigation. */\n\tpopstate: boolean;\n\t/** The direction of travel in case of a browser history navigation: backward or forward. */\n\tdirection: HistoryDirection | undefined;\n}\n\nexport interface VisitInitOptions {\n\tto: string;\n\tfrom?: string;\n\thash?: string;\n\tel?: Element;\n\tevent?: Event;\n}\n\n/** @internal */\nexport const VisitState = {\n\tCREATED: 1,\n\tQUEUED: 2,\n\tSTARTED: 3,\n\tLEAVING: 4,\n\tLOADED: 5,\n\tENTERING: 6,\n\tCOMPLETED: 7,\n\tABORTED: 8,\n\tFAILED: 9\n} as const;\n\n/** @internal */\nexport type VisitState = (typeof VisitState)[keyof typeof VisitState];\n\n/** An object holding details about the current visit. */\nexport class Visit {\n\t/** A unique ID to identify this visit */\n\tid: number;\n\t/** The current state of this visit @internal */\n\tstate: VisitState;\n\t/** The previous page, about to leave */\n\tfrom: VisitFrom;\n\t/** The next page, about to enter */\n\tto: VisitTo;\n\t/** The content containers, about to be replaced */\n\tcontainers: Options['containers'];\n\t/** Information about animated page transitions */\n\tanimation: VisitAnimation;\n\t/** What triggered this visit */\n\ttrigger: VisitTrigger;\n\t/** Cache behavior for this visit */\n\tcache: VisitCache;\n\t/** Browser history behavior on this visit */\n\thistory: VisitHistory;\n\t/** Scroll behavior on this visit */\n\tscroll: VisitScroll;\n\n\tconstructor(swup: Swup, options: VisitInitOptions) {\n\t\tconst { to, from = swup.currentPageUrl, hash, el, event } = options;\n\n\t\tthis.id = Math.random();\n\t\tthis.state = VisitState.CREATED;\n\t\tthis.from = { url: from };\n\t\tthis.to = { url: to, hash };\n\t\tthis.containers = swup.options.containers;\n\t\tthis.animation = {\n\t\t\tanimate: true,\n\t\t\twait: false,\n\t\t\tname: undefined,\n\t\t\tnative: swup.options.native,\n\t\t\tscope: swup.options.animationScope,\n\t\t\tselector: swup.options.animationSelector\n\t\t};\n\t\tthis.trigger = { el, event };\n\t\tthis.cache = {\n\t\t\tread: swup.options.cache,\n\t\t\twrite: swup.options.cache\n\t\t};\n\t\tthis.history = {\n\t\t\taction: 'push',\n\t\t\tpopstate: false,\n\t\t\tdirection: undefined\n\t\t};\n\t\tthis.scroll = {\n\t\t\treset: true,\n\t\t\ttarget: undefined\n\t\t};\n\t}\n\t/** @internal */\n\tadvance(state: VisitState) {\n\t\tif (this.state < state) {\n\t\t\tthis.state = state;\n\t\t}\n\t}\n\n\t/** @internal */\n\tabort() {\n\t\tthis.state = VisitState.ABORTED;\n\t}\n\n\t/** Is this visit done, i.e. completed, failed, or aborted? */\n\tget done(): boolean {\n\t\treturn this.state >= VisitState.COMPLETED;\n\t}\n}\n\n/** Create a new visit object. */\nexport function createVisit(this: Swup, options: VisitInitOptions): Visit {\n\treturn new Visit(this, options);\n}\n","import type { DelegateEvent } from 'delegate-it';\n\nimport type Swup from '../Swup.js';\nimport { isPromise, runAsPromise } from '../utils.js';\nimport { Visit } from './Visit.js';\nimport type { FetchOptions, PageData } from './fetchPage.js';\n\nexport interface HookDefinitions {\n\t'animation:out:start': undefined;\n\t'animation:out:await': { skip: boolean };\n\t'animation:out:end': undefined;\n\t'animation:in:start': undefined;\n\t'animation:in:await': { skip: boolean };\n\t'animation:in:end': undefined;\n\t'animation:skip': undefined;\n\t'cache:clear': undefined;\n\t'cache:set': { page: PageData };\n\t'content:replace': { page: PageData };\n\t'content:scroll': undefined;\n\t'enable': undefined;\n\t'disable': undefined;\n\t'fetch:request': { url: string; options: FetchOptions };\n\t'fetch:error': { url: string; status: number; response: Response };\n\t'fetch:timeout': { url: string };\n\t'history:popstate': { event: PopStateEvent };\n\t'link:click': { el: HTMLAnchorElement; event: DelegateEvent<MouseEvent> };\n\t'link:self': undefined;\n\t'link:anchor': { hash: string };\n\t'link:newtab': { href: string };\n\t'page:load': { page?: PageData; cache?: boolean; options: FetchOptions };\n\t'page:view': { url: string; title: string };\n\t'scroll:top': { options: ScrollIntoViewOptions };\n\t'scroll:anchor': { hash: string; options: ScrollIntoViewOptions };\n\t'visit:start': undefined;\n\t'visit:transition': undefined;\n\t'visit:abort': undefined;\n\t'visit:end': undefined;\n}\n\nexport interface HookReturnValues {\n\t'content:scroll': Promise<boolean> | boolean;\n\t'fetch:request': Promise<Response>;\n\t'page:load': Promise<PageData>;\n\t'scroll:top': boolean;\n\t'scroll:anchor': boolean;\n}\n\nexport type HookArguments<T extends HookName> = HookDefinitions[T];\n\nexport type HookName = keyof HookDefinitions;\n\n/** A generic hook handler. */\nexport type HookHandler<T extends HookName> = (\n\t/** Context about the current visit. */\n\tvisit: Visit,\n\t/** Local arguments passed into the handler. */\n\targs: HookArguments<T>\n) => Promise<unknown> | unknown;\n\n/** A default hook handler with an expected return type. */\nexport type HookDefaultHandler<T extends HookName> = (\n\t/** Context about the current visit. */\n\tvisit: Visit,\n\t/** Local arguments passed into the handler. */\n\targs: HookArguments<T>,\n\t/** Default handler to be executed. Available if replacing an internal hook handler. */\n\tdefaultHandler?: HookDefaultHandler<T>\n) => T extends keyof HookReturnValues ? HookReturnValues[T] : Promise<unknown> | unknown;\n\nexport type Handlers = {\n\t[K in HookName]: HookHandler<K>[];\n};\n\n/** Unregister a previously registered hook handler. */\nexport type HookUnregister = () => void;\n\n/** Define when and how a hook handler is executed. */\nexport type HookOptions = {\n\t/** Execute the hook once, then remove the handler */\n\tonce?: boolean;\n\t/** Execute the hook before the internal default handler */\n\tbefore?: boolean;\n\t/** Set a priority for when to execute this hook. Lower numbers execute first. Default: `0` */\n\tpriority?: number;\n\t/** Replace the internal default handler with this hook handler */\n\treplace?: boolean;\n};\n\nexport type HookRegistration<\n\tT extends HookName,\n\tH extends HookHandler<T> | HookDefaultHandler<T> = HookHandler<T>\n> = {\n\tid: number;\n\thook: T;\n\thandler: H;\n\tdefaultHandler?: HookDefaultHandler<T>;\n} & HookOptions;\n\ntype HookEventDetail = {\n\thook: HookName;\n\targs: unknown;\n\tvisit: Visit;\n};\n\nexport type HookEvent = CustomEvent<HookEventDetail>;\n\ntype HookLedger<T extends HookName> = Map<HookHandler<T>, HookRegistration<T>>;\n\ninterface HookRegistry extends Map<HookName, HookLedger<HookName>> {\n\tget<K extends HookName>(key: K): HookLedger<K> | undefined;\n\tset<K extends HookName>(key: K, value: HookLedger<K>): this;\n}\n\n/**\n * Hook registry.\n *\n * Create, trigger and handle hooks.\n *\n */\nexport class Hooks {\n\t/** Swup instance this registry belongs to */\n\tprotected swup: Swup;\n\n\t/** Map of all registered hook handlers. */\n\tprotected registry: HookRegistry = new Map();\n\n\t// Can we deduplicate this somehow? Or make it error when not in sync with HookDefinitions?\n\t// https://stackoverflow.com/questions/53387838/how-to-ensure-an-arrays-values-the-keys-of-a-typescript-interface/53395649\n\tprotected readonly hooks: HookName[] = [\n\t\t'animation:out:start',\n\t\t'animation:out:await',\n\t\t'animation:out:end',\n\t\t'animation:in:start',\n\t\t'animation:in:await',\n\t\t'animation:in:end',\n\t\t'animation:skip',\n\t\t'cache:clear',\n\t\t'cache:set',\n\t\t'content:replace',\n\t\t'content:scroll',\n\t\t'enable',\n\t\t'disable',\n\t\t'fetch:request',\n\t\t'fetch:error',\n\t\t'fetch:timeout',\n\t\t'history:popstate',\n\t\t'link:click',\n\t\t'link:self',\n\t\t'link:anchor',\n\t\t'link:newtab',\n\t\t'page:load',\n\t\t'page:view',\n\t\t'scroll:top',\n\t\t'scroll:anchor',\n\t\t'visit:start',\n\t\t'visit:transition',\n\t\t'visit:abort',\n\t\t'visit:end'\n\t];\n\n\tconstructor(swup: Swup) {\n\t\tthis.swup = swup;\n\t\tthis.init();\n\t}\n\n\t/**\n\t * Create ledgers for all core hooks.\n\t */\n\tprotected init() {\n\t\tthis.hooks.forEach((hook) => this.create(hook));\n\t}\n\n\t/**\n\t * Create a new hook type.\n\t */\n\tcreate(hook: string) {\n\t\tif (!this.registry.has(hook as HookName)) {\n\t\t\tthis.registry.set(hook as HookName, new Map());\n\t\t}\n\t}\n\n\t/**\n\t * Check if a hook type exists.\n\t */\n\texists(hook: HookName): boolean {\n\t\treturn this.registry.has(hook);\n\t}\n\n\t/**\n\t * Get the ledger with all registrations for a hook.\n\t */\n\tprotected get<T extends HookName>(hook: T): HookLedger<T> | undefined {\n\t\tconst ledger = this.registry.get(hook);\n\t\tif (ledger) {\n\t\t\treturn ledger;\n\t\t}\n\t\tconsole.error(`Unknown hook '${hook}'`);\n\t}\n\n\t/**\n\t * Remove all handlers of all hooks.\n\t */\n\tclear() {\n\t\tthis.registry.forEach((ledger) => ledger.clear());\n\t}\n\n\t/**\n\t * Register a new hook handler.\n\t * @param hook Name of the hook to listen for\n\t * @param handler The handler function to execute\n\t * @param options Object to specify how and when the handler is executed\n\t *                Available options:\n\t *                - `once`: Only execute the handler once\n\t *                - `before`: Execute the handler before the default handler\n\t *                - `priority`: Specify the order in which the handlers are executed\n\t *                - `replace`: Replace the default handler with this handler\n\t * @returns A function to unregister the handler\n\t */\n\n\t// Overload: replacing default handler\n\ton<T extends HookName, O extends HookOptions>(hook: T, handler: HookDefaultHandler<T>, options: O & { replace: true }): HookUnregister; // prettier-ignore\n\t// Overload: passed in handler options\n\ton<T extends HookName, O extends HookOptions>(hook: T, handler: HookHandler<T>, options: O): HookUnregister; // prettier-ignore\n\t// Overload: no handler options\n\ton<T extends HookName>(hook: T, handler: HookHandler<T>): HookUnregister; // prettier-ignore\n\t// Implementation\n\ton<T extends HookName, O extends HookOptions>(\n\t\thook: T,\n\t\thandler: O['replace'] extends true ? HookDefaultHandler<T> : HookHandler<T>,\n\t\toptions: Partial<O> = {}\n\t): HookUnregister {\n\t\tconst ledger = this.get(hook);\n\t\tif (!ledger) {\n\t\t\tconsole.warn(`Hook '${hook}' not found.`);\n\t\t\treturn () => {};\n\t\t}\n\n\t\tconst id = ledger.size + 1;\n\t\tconst registration: HookRegistration<T> = { ...options, id, hook, handler };\n\t\tledger.set(handler, registration);\n\n\t\treturn () => this.off(hook, handler);\n\t}\n\n\t/**\n\t * Register a new hook handler to run before the default handler.\n\t * Shortcut for `hooks.on(hook, handler, { before: true })`.\n\t * @param hook Name of the hook to listen for\n\t * @param handler The handler function to execute\n\t * @param options Any other event options (see `hooks.on()` for details)\n\t * @returns A function to unregister the handler\n\t * @see on\n\t */\n\t// Overload: passed in handler options\n\tbefore<T extends HookName>(hook: T, handler: HookHandler<T>, options: HookOptions): HookUnregister; // prettier-ignore\n\t// Overload: no handler options\n\tbefore<T extends HookName>(hook: T, handler: HookHandler<T>): HookUnregister;\n\t// Implementation\n\tbefore<T extends HookName>(\n\t\thook: T,\n\t\thandler: HookHandler<T>,\n\t\toptions: HookOptions = {}\n\t): HookUnregister {\n\t\treturn this.on(hook, handler, { ...options, before: true });\n\t}\n\n\t/**\n\t * Register a new hook handler to replace the default handler.\n\t * Shortcut for `hooks.on(hook, handler, { replace: true })`.\n\t * @param hook Name of the hook to listen for\n\t * @param handler The handler function to execute instead of the default handler\n\t * @param options Any other event options (see `hooks.on()` for details)\n\t * @returns A function to unregister the handler\n\t * @see on\n\t */\n\t// Overload: passed in handler options\n\treplace<T extends HookName>(hook: T, handler: HookDefaultHandler<T>, options: HookOptions): HookUnregister; // prettier-ignore\n\t// Overload: no handler options\n\treplace<T extends HookName>(hook: T, handler: HookDefaultHandler<T>): HookUnregister; // prettier-ignore\n\t// Implementation\n\treplace<T extends HookName>(\n\t\thook: T,\n\t\thandler: HookDefaultHandler<T>,\n\t\toptions: HookOptions = {}\n\t): HookUnregister {\n\t\treturn this.on(hook, handler, { ...options, replace: true });\n\t}\n\n\t/**\n\t * Register a new hook handler to run once.\n\t * Shortcut for `hooks.on(hook, handler, { once: true })`.\n\t * @param hook Name of the hook to listen for\n\t * @param handler The handler function to execute\n\t * @param options Any other event options (see `hooks.on()` for details)\n\t * @see on\n\t */\n\t// Overload: passed in handler options\n\tonce<T extends HookName>(hook: T, handler: HookHandler<T>, options: HookOptions): HookUnregister; // prettier-ignore\n\t// Overload: no handler options\n\tonce<T extends HookName>(hook: T, handler: HookHandler<T>): HookUnregister;\n\t// Implementation\n\tonce<T extends HookName>(\n\t\thook: T,\n\t\thandler: HookHandler<T>,\n\t\toptions: HookOptions = {}\n\t): HookUnregister {\n\t\treturn this.on(hook, handler, { ...options, once: true });\n\t}\n\n\t/**\n\t * Unregister a hook handler.\n\t * @param hook Name of the hook the handler is registered for\n\t * @param handler The handler function that was registered.\n\t *                If omitted, all handlers for the hook will be removed.\n\t */\n\t// Overload: unregister a specific handler\n\toff<T extends HookName>(hook: T, handler: HookHandler<T> | HookDefaultHandler<T>): void;\n\t// Overload: unregister all handlers\n\toff<T extends HookName>(hook: T): void;\n\t// Implementation\n\toff<T extends HookName>(hook: T, handler?: HookHandler<T> | HookDefaultHandler<T>): void {\n\t\tconst ledger = this.get(hook);\n\t\tif (ledger && handler) {\n\t\t\tconst deleted = ledger.delete(handler);\n\t\t\tif (!deleted) {\n\t\t\t\tconsole.warn(`Handler for hook '${hook}' not found.`);\n\t\t\t}\n\t\t} else if (ledger) {\n\t\t\tledger.clear();\n\t\t}\n\t}\n\n\t/**\n\t * Trigger a hook asynchronously, executing its default handler and all registered handlers.\n\t * Will execute all handlers in order and `await` any `Promise`s they return.\n\t * @param hook Name of the hook to trigger\n\t * @param visit The visit object this hook belongs to\n\t * @param args Arguments to pass to the handler\n\t * @param defaultHandler A default implementation of this hook to execute\n\t * @returns The resolved return value of the executed default handler\n\t */\n\t// Overload: default order of arguments\n\tasync call<T extends HookName>(hook: T, visit: Visit | undefined, args: HookArguments<T>, defaultHandler?: HookDefaultHandler<T>): Promise<Awaited<ReturnType<HookDefaultHandler<T>>>>; // prettier-ignore\n\t// Overload: legacy order of arguments, with visit missing\n\tasync call<T extends HookName>(hook: T, args: HookArguments<T>, defaultHandler?: HookDefaultHandler<T>): Promise<Awaited<ReturnType<HookDefaultHandler<T>>>>; // prettier-ignore\n\t// Implementation\n\tasync call<T extends HookName>(\n\t\thook: T,\n\t\targ1: Visit | HookArguments<T>,\n\t\targ2: HookArguments<T> | HookDefaultHandler<T>,\n\t\targ3?: HookDefaultHandler<T>\n\t): Promise<Awaited<ReturnType<HookDefaultHandler<T>>>> {\n\t\tconst [visit, args, defaultHandler] = this.parseCallArgs(hook, arg1, arg2, arg3);\n\n\t\tconst { before, handler, after } = this.getHandlers(hook, defaultHandler);\n\t\tawait this.run(before, visit, args);\n\t\tconst [result] = await this.run(handler, visit, args, true);\n\t\tawait this.run(after, visit, args);\n\t\tthis.dispatchDomEvent(hook, visit, args);\n\t\treturn result;\n\t}\n\n\t/**\n\t * Trigger a hook synchronously, executing its default handler and all registered handlers.\n\t * Will execute all handlers in order, but will **not** `await` any `Promise`s they return.\n\t * @param hook Name of the hook to trigger\n\t * @param visit The visit object this hook belongs to\n\t * @param args Arguments to pass to the handler\n\t * @param defaultHandler A default implementation of this hook to execute\n\t * @returns The (possibly unresolved) return value of the executed default handler\n\t */\n\t// Overload: default order of arguments\n\tcallSync<T extends HookName>(hook: T, visit: Visit | undefined, args: HookArguments<T>, defaultHandler?: HookDefaultHandler<T>): ReturnType<HookDefaultHandler<T>>; // prettier-ignore\n\t// Overload: legacy order of arguments, with visit missing\n\tcallSync<T extends HookName>(hook: T, args: HookArguments<T>, defaultHandler?: HookDefaultHandler<T>): ReturnType<HookDefaultHandler<T>>; // prettier-ignore\n\t// Implementation\n\tcallSync<T extends HookName>(\n\t\thook: T,\n\t\targ1: Visit | HookArguments<T>,\n\t\targ2: HookArguments<T> | HookDefaultHandler<T>,\n\t\targ3?: HookDefaultHandler<T>\n\t): ReturnType<HookDefaultHandler<T>> {\n\t\tconst [visit, args, defaultHandler] = this.parseCallArgs(hook, arg1, arg2, arg3);\n\t\tconst { before, handler, after } = this.getHandlers(hook, defaultHandler);\n\t\tthis.runSync(before, visit, args);\n\t\tconst [result] = this.runSync(handler, visit, args, true);\n\t\tthis.runSync(after, visit, args);\n\t\tthis.dispatchDomEvent(hook, visit, args);\n\t\treturn result;\n\t}\n\n\t/**\n\t * Parse the call arguments for call() and callSync() to allow legacy argument order.\n\t */\n\tprotected parseCallArgs<T extends HookName>(\n\t\thook: T,\n\t\targ1: Visit | HookArguments<T> | undefined,\n\t\targ2: HookArguments<T> | HookDefaultHandler<T>,\n\t\targ3?: HookDefaultHandler<T>\n\t): [Visit | undefined, HookArguments<T>, HookDefaultHandler<T> | undefined] {\n\t\tconst isLegacyOrder =\n\t\t\t!(arg1 instanceof Visit) && (typeof arg1 === 'object' || typeof arg2 === 'function');\n\t\tif (isLegacyOrder) {\n\t\t\t// Legacy positioning: arguments in second or handler passed in third place\n\t\t\treturn [undefined, arg1 as HookArguments<T>, arg2 as HookDefaultHandler<T>];\n\t\t} else {\n\t\t\t// Default positioning: visit passed in as first argument\n\t\t\treturn [arg1, arg2 as HookArguments<T>, arg3];\n\t\t}\n\t}\n\n\t/**\n\t * Execute the handlers for a hook, in order, as `Promise`s that will be `await`ed.\n\t * @param registrations The registrations (handler + options) to execute\n\t * @param args Arguments to pass to the handler\n\t */\n\n\t// Overload: running HookDefaultHandler: expect HookDefaultHandler return type\n\tprotected async run<T extends HookName>(registrations: HookRegistration<T, HookDefaultHandler<T>>[], visit: Visit | undefined, args: HookArguments<T>, rethrow: true): Promise<Awaited<ReturnType<HookDefaultHandler<T>>>[]>; // prettier-ignore\n\t// Overload:  running user handler: expect no specific type\n\tprotected async run<T extends HookName>(registrations: HookRegistration<T>[], visit: Visit | undefined, args: HookArguments<T>): Promise<unknown[]>; // prettier-ignore\n\t// Implementation\n\tprotected async run<T extends HookName, R extends HookRegistration<T>[]>(\n\t\tregistrations: R,\n\t\tvisit: Visit | undefined = this.swup.visit,\n\t\targs: HookArguments<T>,\n\t\trethrow: boolean = false\n\t): Promise<Awaited<ReturnType<HookDefaultHandler<T>>> | unknown[]> {\n\t\tconst results = [];\n\t\tfor (const { hook, handler, defaultHandler, once } of registrations) {\n\t\t\tif (visit?.done) continue;\n\t\t\tif (once) this.off(hook, handler);\n\t\t\ttry {\n\t\t\t\tconst result = await runAsPromise(handler, [visit, args, defaultHandler]);\n\t\t\t\tresults.push(result);\n\t\t\t} catch (error) {\n\t\t\t\tif (rethrow) {\n\t\t\t\t\tthrow error;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(`Error in hook '${hook}':`, error);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn results;\n\t}\n\n\t/**\n\t * Execute the handlers for a hook, in order, without `await`ing any returned `Promise`s.\n\t * @param registrations The registrations (handler + options) to execute\n\t * @param args Arguments to pass to the handler\n\t */\n\n\t// Overload: running HookDefaultHandler: expect HookDefaultHandler return type\n\tprotected runSync<T extends HookName>(registrations: HookRegistration<T, HookDefaultHandler<T>>[], visit: Visit | undefined, args: HookArguments<T>, rethrow: true): ReturnType<HookDefaultHandler<T>>[]; // prettier-ignore\n\t// Overload: running user handler: expect no specific type\n\tprotected runSync<T extends HookName>(registrations: HookRegistration<T>[], visit: Visit | undefined, args: HookArguments<T>): unknown[]; // prettier-ignore\n\t// Implementation\n\tprotected runSync<T extends HookName, R extends HookRegistration<T>[]>(\n\t\tregistrations: R,\n\t\tvisit: Visit | undefined = this.swup.visit,\n\t\targs: HookArguments<T>,\n\t\trethrow: boolean = false\n\t): (ReturnType<HookDefaultHandler<T>> | unknown)[] {\n\t\tconst results = [];\n\t\tfor (const { hook, handler, defaultHandler, once } of registrations) {\n\t\t\tif (visit?.done) continue;\n\t\t\tif (once) this.off(hook, handler);\n\t\t\ttry {\n\t\t\t\tconst result = (handler as HookDefaultHandler<T>)(visit, args, defaultHandler);\n\t\t\t\tresults.push(result);\n\t\t\t\tif (isPromise(result)) {\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t`Swup will not await Promises in handler for synchronous hook '${hook}'.`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tif (rethrow) {\n\t\t\t\t\tthrow error;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(`Error in hook '${hook}':`, error);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn results;\n\t}\n\n\t/**\n\t * Get all registered handlers for a hook, sorted by priority and registration order.\n\t * @param hook Name of the hook\n\t * @param defaultHandler The optional default handler of this hook\n\t * @returns An object with the handlers sorted into `before` and `after` arrays,\n\t *          as well as a flag indicating if the original handler was replaced\n\t */\n\tprotected getHandlers<T extends HookName>(hook: T, defaultHandler?: HookDefaultHandler<T>) {\n\t\tconst ledger = this.get(hook);\n\t\tif (!ledger) {\n\t\t\treturn { found: false, before: [], handler: [], after: [], replaced: false };\n\t\t}\n\n\t\tconst registrations = Array.from(ledger.values());\n\n\t\t// Let TypeScript know that replaced handlers are default handlers by filtering to true\n\t\tconst def = (T: HookRegistration<T>): T is HookRegistration<T, HookDefaultHandler<T>> => true; // prettier-ignore\n\t\tconst sort = this.sortRegistrations;\n\n\t\t// Filter into before, after, and replace handlers\n\t\tconst before = registrations.filter(({ before, replace }) => before && !replace).sort(sort);\n\t\tconst replace = registrations.filter(({ replace }) => replace).filter(def).sort(sort); // prettier-ignore\n\t\tconst after = registrations.filter(({ before, replace }) => !before && !replace).sort(sort);\n\t\tconst replaced = replace.length > 0;\n\n\t\t// Define main handler registration\n\t\t// Created as HookRegistration[] array to allow passing it into hooks.run() directly\n\t\tlet handler: HookRegistration<T, HookDefaultHandler<T>>[] = [];\n\t\tif (defaultHandler) {\n\t\t\thandler = [{ id: 0, hook, handler: defaultHandler }];\n\t\t\tif (replaced) {\n\t\t\t\tconst index = replace.length - 1;\n\t\t\t\tconst replacingHandler = replace[index].handler;\n\t\t\t\tconst createDefaultHandler = (index: number): HookDefaultHandler<T> | undefined => {\n\t\t\t\t\tconst next = replace[index - 1];\n\t\t\t\t\tif (next) {\n\t\t\t\t\t\treturn (visit, args) =>\n\t\t\t\t\t\t\tnext.handler(visit, args, createDefaultHandler(index - 1));\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn defaultHandler;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst nestedDefaultHandler = createDefaultHandler(index);\n\t\t\t\thandler = [\n\t\t\t\t\t{ id: 0, hook, handler: replacingHandler, defaultHandler: nestedDefaultHandler }\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\n\t\treturn { found: true, before, handler, after, replaced };\n\t}\n\n\t/**\n\t * Sort two hook registrations by priority and registration order.\n\t * @param a The registration object to compare\n\t * @param b The other registration object to compare with\n\t * @returns The sort direction\n\t */\n\tprotected sortRegistrations<T extends HookName>(\n\t\ta: HookRegistration<T>,\n\t\tb: HookRegistration<T>\n\t): number {\n\t\tconst priority = (a.priority ?? 0) - (b.priority ?? 0);\n\t\tconst id = a.id - b.id;\n\t\treturn priority || id || 0;\n\t}\n\n\t/**\n\t * Dispatch a custom event on the `document` for a hook. Prefixed with `swup:`\n\t * @param hook Name of the hook.\n\t */\n\tprotected dispatchDomEvent<T extends HookName>(\n\t\thook: T,\n\t\tvisit: Visit | undefined,\n\t\targs?: HookArguments<T>\n\t): void {\n\t\tif (visit?.done) return;\n\n\t\tconst detail: HookEventDetail = { hook, args, visit: visit || this.swup.visit };\n\t\tdocument.dispatchEvent(\n\t\t\tnew CustomEvent<HookEventDetail>(`swup:any`, { detail, bubbles: true })\n\t\t);\n\t\tdocument.dispatchEvent(\n\t\t\tnew CustomEvent<HookEventDetail>(`swup:${hook}`, { detail, bubbles: true })\n\t\t);\n\t}\n}\n","import { query } from '../utils.js';\n\n/**\n * Find the anchor element for a given hash.\n *\n * @param hash Hash with or without leading '#'\n * @returns The element, if found, or null.\n *\n * @see https://html.spec.whatwg.org/#find-a-potential-indicated-element\n */\nexport const getAnchorElement = (hash?: string): Element | null => {\n\tif (hash && hash.charAt(0) === '#') {\n\t\thash = hash.substring(1);\n\t}\n\n\tif (!hash) {\n\t\treturn null;\n\t}\n\n\tconst decoded = decodeURIComponent(hash);\n\tlet element =\n\t\tdocument.getElementById(hash) ||\n\t\tdocument.getElementById(decoded) ||\n\t\tquery(`a[name='${CSS.escape(hash)}']`) ||\n\t\tquery(`a[name='${CSS.escape(decoded)}']`);\n\n\tif (!element && hash === 'top') {\n\t\telement = document.body;\n\t}\n\n\treturn element;\n};\n","import { queryAll } from '../utils.js';\nimport type Swup from '../Swup.js';\nimport type { Options } from '../Swup.js';\n\nconst TRANSITION = 'transition';\nconst ANIMATION = 'animation';\n\ntype AnimationTypes = typeof TRANSITION | typeof ANIMATION;\ntype AnimationProperties = 'Delay' | 'Duration';\ntype AnimationStyleKeys = `${AnimationTypes}${AnimationProperties}` | 'transitionProperty';\ntype AnimationStyleDeclarations = Pick<CSSStyleDeclaration, AnimationStyleKeys>;\n\nexport type AnimationDirection = 'in' | 'out';\n\n/**\n * Return a Promise that resolves when all CSS animations and transitions\n * are done on the page. Filters by selector or takes elements directly.\n */\nexport async function awaitAnimations(\n\tthis: Swup,\n\t{\n\t\telements,\n\t\tselector\n\t}: {\n\t\tselector: Options['animationSelector'];\n\t\telements?: NodeListOf<HTMLElement> | HTMLElement[];\n\t}\n): Promise<void> {\n\t// Allow usage of swup without animations: { animationSelector: false }\n\tif (selector === false && !elements) {\n\t\treturn;\n\t}\n\n\t// Allow passing in elements\n\tlet animatedElements: HTMLElement[] = [];\n\tif (elements) {\n\t\tanimatedElements = Array.from(elements);\n\t} else if (selector) {\n\t\tanimatedElements = queryAll(selector, document.body);\n\t\t// Warn if no elements match the selector, but keep things going\n\t\tif (!animatedElements.length) {\n\t\t\tconsole.warn(`[swup] No elements found matching animationSelector \\`${selector}\\``);\n\t\t\treturn;\n\t\t}\n\t}\n\n\tconst awaitedAnimations = animatedElements.map((el) => awaitAnimationsOnElement(el));\n\tconst hasAnimations = awaitedAnimations.filter(Boolean).length > 0;\n\tif (!hasAnimations) {\n\t\tif (selector) {\n\t\t\tconsole.warn(\n\t\t\t\t`[swup] No CSS animation duration defined on elements matching \\`${selector}\\``\n\t\t\t);\n\t\t}\n\t\treturn;\n\t}\n\n\tawait Promise.all(awaitedAnimations);\n}\n\nfunction awaitAnimationsOnElement(element: Element): Promise<void> | false {\n\tconst { type, timeout, propCount } = getTransitionInfo(element);\n\n\t// Resolve immediately if no transition defined\n\tif (!type || !timeout) {\n\t\treturn false;\n\t}\n\n\treturn new Promise((resolve) => {\n\t\tconst endEvent = `${type}end`;\n\t\tconst startTime = performance.now();\n\t\tlet propsTransitioned = 0;\n\n\t\tconst end = () => {\n\t\t\telement.removeEventListener(endEvent, onEnd);\n\t\t\tresolve();\n\t\t};\n\n\t\tconst onEnd: EventListener = (event) => {\n\t\t\t// Skip transitions on child elements\n\t\t\tif (event.target !== element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!isTransitionOrAnimationEvent(event)) {\n\t\t\t\tthrow new Error('Not a transition or animation event.');\n\t\t\t}\n\n\t\t\t// Skip transitions that happened before we started listening\n\t\t\tconst elapsedTime = (performance.now() - startTime) / 1000;\n\t\t\tif (elapsedTime < event.elapsedTime) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// End if all properties have transitioned\n\t\t\tif (++propsTransitioned >= propCount) {\n\t\t\t\tend();\n\t\t\t}\n\t\t};\n\n\t\tsetTimeout(() => {\n\t\t\tif (propsTransitioned < propCount) {\n\t\t\t\tend();\n\t\t\t}\n\t\t}, timeout + 1);\n\n\t\telement.addEventListener(endEvent, onEnd);\n\t});\n}\n\nfunction getTransitionInfo(element: Element) {\n\tconst styles = window.getComputedStyle(element) as AnimationStyleDeclarations;\n\n\tconst transitionDelays = getStyleProperties(styles, `${TRANSITION}Delay`);\n\tconst transitionDurations = getStyleProperties(styles, `${TRANSITION}Duration`);\n\tconst transitionTimeout = calculateTimeout(transitionDelays, transitionDurations);\n\tconst animationDelays = getStyleProperties(styles, `${ANIMATION}Delay`);\n\tconst animationDurations = getStyleProperties(styles, `${ANIMATION}Duration`);\n\tconst animationTimeout = calculateTimeout(animationDelays, animationDurations);\n\n\tconst timeout = Math.max(transitionTimeout, animationTimeout);\n\tconst type =\n\t\ttimeout > 0 ? (transitionTimeout > animationTimeout ? TRANSITION : ANIMATION) : null;\n\tconst propCount = type\n\t\t? type === TRANSITION\n\t\t\t? transitionDurations.length\n\t\t\t: animationDurations.length\n\t\t: 0;\n\n\treturn {\n\t\ttype,\n\t\ttimeout,\n\t\tpropCount\n\t};\n}\n\nfunction isTransitionOrAnimationEvent(event: Event): event is TransitionEvent | AnimationEvent {\n\treturn [`${TRANSITION}end`, `${ANIMATION}end`].includes(event.type);\n}\n\nfunction getStyleProperties(styles: AnimationStyleDeclarations, key: AnimationStyleKeys): string[] {\n\treturn (styles[key] || '').split(', ');\n}\n\nfunction calculateTimeout(delays: string[], durations: string[]): number {\n\twhile (delays.length < durations.length) {\n\t\tdelays = delays.concat(delays);\n\t}\n\n\treturn Math.max(...durations.map((duration, i) => toMs(duration) + toMs(delays[i])));\n}\n\nfunction toMs(time: string): number {\n\treturn parseFloat(time) * 1000;\n}\n","import type Swup from '../Swup.js';\nimport { FetchError, type FetchOptions, type PageData } from './fetchPage.js';\nimport { type VisitInitOptions, type Visit, VisitState } from './Visit.js';\nimport {\n\tcreateHistoryRecord,\n\tupdateHistoryRecord,\n\tgetCurrentUrl,\n\tLocation,\n\tclassify\n} from '../helpers.js';\n\nexport type HistoryAction = 'push' | 'replace';\nexport type HistoryDirection = 'forwards' | 'backwards';\nexport type NavigationToSelfAction = 'scroll' | 'navigate';\nexport type CacheControl = Partial<{ read: boolean; write: boolean }>;\n\n/** Define how to navigate to a page. */\ntype NavigationOptions = {\n\t/** Whether this visit is animated. Default: `true` */\n\tanimate?: boolean;\n\t/** Name of a custom animation to run. */\n\tanimation?: string;\n\t/** History action to perform: `push` for creating a new history entry, `replace` for replacing the current entry. Default: `push` */\n\thistory?: HistoryAction;\n\t/** Whether this visit should read from or write to the cache. */\n\tcache?: CacheControl;\n};\n\n/**\n * Navigate to a new URL.\n * @param url The URL to navigate to.\n * @param options Options for how to perform this visit.\n * @returns Promise<void>\n */\nexport function navigate(\n\tthis: Swup,\n\turl: string,\n\toptions: NavigationOptions & FetchOptions = {},\n\tinit: Omit<VisitInitOptions, 'to'> = {}\n) {\n\tif (typeof url !== 'string') {\n\t\tthrow new Error(`swup.navigate() requires a URL parameter`);\n\t}\n\n\t// Check if the visit should be ignored\n\tif (this.shouldIgnoreVisit(url, { el: init.el, event: init.event })) {\n\t\twindow.location.assign(url);\n\t\treturn;\n\t}\n\n\tconst { url: to, hash } = Location.fromUrl(url);\n\n\tconst visit = this.createVisit({ ...init, to, hash });\n\tthis.performNavigation(visit, options);\n}\n\n/**\n * Start a visit to a new URL.\n *\n * Internal method that assumes the visit context has already been created.\n *\n * As a user, you should call `swup.navigate(url)` instead.\n *\n * @param url The URL to navigate to.\n * @param options Options for how to perform this visit.\n * @returns Promise<void>\n */\nexport async function performNavigation(\n\tthis: Swup,\n\tvisit: Visit,\n\toptions: NavigationOptions & FetchOptions = {}\n): Promise<void> {\n\tif (this.navigating) {\n\t\tif (this.visit.state >= VisitState.ENTERING) {\n\t\t\t// Currently navigating and content already loaded? Finish and queue\n\t\t\tvisit.state = VisitState.QUEUED;\n\t\t\tthis.onVisitEnd = () => this.performNavigation(visit, options);\n\t\t\treturn;\n\t\t} else {\n\t\t\t// Currently navigating and content not loaded? Abort running visit\n\t\t\tawait this.hooks.call('visit:abort', this.visit, undefined);\n\t\t\tdelete this.visit.to.document;\n\t\t\tthis.visit.state = VisitState.ABORTED;\n\t\t}\n\t}\n\n\tthis.navigating = true;\n\tthis.visit = visit;\n\n\tconst { el } = visit.trigger;\n\toptions.referrer = options.referrer || this.currentPageUrl;\n\n\tif (options.animate === false) {\n\t\tvisit.animation.animate = false;\n\t}\n\n\t// Clean up old animation classes\n\tif (!visit.animation.animate) {\n\t\tthis.classes.clear();\n\t}\n\n\t// Get history action from option or attribute on trigger element\n\tconst history = options.history || el?.getAttribute('data-swup-history') || undefined;\n\tif (history && ['push', 'replace'].includes(history)) {\n\t\tvisit.history.action = history as HistoryAction;\n\t}\n\n\t// Get custom animation name from option or attribute on trigger element\n\tconst animation = options.animation || el?.getAttribute('data-swup-animation') || undefined;\n\tif (animation) {\n\t\tvisit.animation.name = animation;\n\t}\n\n\t// Sanitize cache option\n\tif (typeof options.cache === 'object') {\n\t\tvisit.cache.read = options.cache.read ?? visit.cache.read;\n\t\tvisit.cache.write = options.cache.write ?? visit.cache.write;\n\t} else if (options.cache !== undefined) {\n\t\tvisit.cache = { read: !!options.cache, write: !!options.cache };\n\t}\n\t// Delete this so that window.fetch doesn't mis-interpret it\n\tdelete options.cache;\n\n\ttry {\n\t\tawait this.hooks.call('visit:start', visit, undefined);\n\t\tvisit.state = VisitState.STARTED;\n\n\t\t// Begin loading page\n\t\tconst page = this.hooks.call('page:load', visit, { options }, async (visit, args) => {\n\t\t\t// Read from cache\n\t\t\tlet cachedPage: PageData | undefined;\n\t\t\tif (visit.cache.read) {\n\t\t\t\tcachedPage = this.cache.get(visit.to.url);\n\t\t\t}\n\n\t\t\targs.page = cachedPage || (await this.fetchPage(visit.to.url, args.options));\n\t\t\targs.cache = !!cachedPage;\n\n\t\t\treturn args.page;\n\t\t});\n\n\t\t/**\n\t\t * When the page is loaded: mark the visit as loaded and save\n\t\t * the raw html and a parsed document of the received page in the visit object\n\t\t */\n\t\tpage.then(({ html }) => {\n\t\t\tvisit.advance(VisitState.LOADED);\n\t\t\tvisit.to.html = html;\n\t\t\tvisit.to.document = new DOMParser().parseFromString(html, 'text/html');\n\t\t});\n\n\t\t// Create/update history record if this is not a popstate call or leads to the same URL\n\t\tif (!visit.history.popstate) {\n\t\t\t// Add the hash directly from the trigger element\n\t\t\tconst newUrl = visit.to.url + visit.to.hash;\n\t\t\tif (visit.history.action === 'replace' || visit.to.url === this.currentPageUrl) {\n\t\t\t\tupdateHistoryRecord(newUrl);\n\t\t\t} else {\n\t\t\t\tthis.currentHistoryIndex++;\n\t\t\t\tcreateHistoryRecord(newUrl, { index: this.currentHistoryIndex });\n\t\t\t}\n\t\t}\n\n\t\tthis.currentPageUrl = getCurrentUrl();\n\n\t\t// Mark visit type with classes\n\t\tif (visit.history.popstate) {\n\t\t\tthis.classes.add('is-popstate');\n\t\t}\n\t\tif (visit.animation.name) {\n\t\t\tthis.classes.add(`to-${classify(visit.animation.name)}`);\n\t\t}\n\n\t\t// Wait for page before starting to animate out?\n\t\tif (visit.animation.wait) {\n\t\t\tawait page;\n\t\t}\n\n\t\t// Check if failed/aborted in the meantime\n\t\tif (visit.done) return;\n\n\t\t// Perform the actual transition: animate and replace content\n\t\tawait this.hooks.call('visit:transition', visit, undefined, async () => {\n\t\t\t// No animation? Just await page and render\n\t\t\tif (!visit.animation.animate) {\n\t\t\t\tawait this.hooks.call('animation:skip', undefined);\n\t\t\t\tawait this.renderPage(visit, await page);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Animate page out, render page, animate page in\n\t\t\tvisit.advance(VisitState.LEAVING);\n\t\t\tawait this.animatePageOut(visit);\n\t\t\tif (visit.animation.native && document.startViewTransition) {\n\t\t\t\tawait document.startViewTransition(\n\t\t\t\t\tasync () => await this.renderPage(visit, await page)\n\t\t\t\t).finished;\n\t\t\t} else {\n\t\t\t\tawait this.renderPage(visit, await page);\n\t\t\t}\n\t\t\tawait this.animatePageIn(visit);\n\t\t});\n\n\t\t// Check if failed/aborted in the meantime\n\t\tif (visit.done) return;\n\n\t\t// Finalize visit\n\t\tawait this.hooks.call('visit:end', visit, undefined, () => this.classes.clear());\n\t\tvisit.state = VisitState.COMPLETED;\n\t\tthis.navigating = false;\n\n\t\t/** Run eventually queued function */\n\t\tif (this.onVisitEnd) {\n\t\t\tthis.onVisitEnd();\n\t\t\tthis.onVisitEnd = undefined;\n\t\t}\n\t} catch (error) {\n\t\t// Return early if error is undefined or signals an aborted request\n\t\tif (!error || (error as FetchError)?.aborted) {\n\t\t\tvisit.state = VisitState.ABORTED;\n\t\t\treturn;\n\t\t}\n\n\t\tvisit.state = VisitState.FAILED;\n\n\t\t// Log to console\n\t\tconsole.error(error);\n\n\t\t// Remove current history entry, then load requested url in browser\n\t\tthis.options.skipPopStateHandling = () => {\n\t\t\twindow.location.assign(visit.to.url + visit.to.hash);\n\t\t\treturn true;\n\t\t};\n\n\t\t// Go back to the actual page we're still at\n\t\twindow.history.back();\n\t} finally {\n\t\tdelete visit.to.document;\n\t}\n}\n","import type Swup from '../Swup.js';\nimport type { Visit } from './Visit.js';\n\n/**\n * Perform the out/leave animation of the current page.\n * @returns Promise<void>\n */\nexport const animatePageOut = async function (this: Swup, visit: Visit) {\n\tawait this.hooks.call('animation:out:start', visit, undefined, () => {\n\t\tthis.classes.add('is-changing', 'is-animating', 'is-leaving');\n\t});\n\n\tawait this.hooks.call('animation:out:await', visit, { skip: false }, (visit, { skip }) => {\n\t\tif (skip) return;\n\t\treturn this.awaitAnimations({ selector: visit.animation.selector });\n\t});\n\n\tawait this.hooks.call('animation:out:end', visit, undefined);\n};\n","import type Swup from '../Swup.js';\nimport { query, queryAll } from '../utils.js';\nimport type { Visit } from './Visit.js';\n\n/**\n * Perform the replacement of content after loading a page.\n *\n * @returns Whether all containers were replaced.\n */\nexport const replaceContent = function (this: Swup, visit: Visit): boolean {\n\tconst incomingDocument = visit.to.document;\n\tif (!incomingDocument) return false;\n\n\t// Update browser title\n\tconst title = incomingDocument.querySelector('title')?.innerText || '';\n\tdocument.title = title;\n\n\t// Save persisted elements\n\tconst persistedElements = queryAll('[data-swup-persist]:not([data-swup-persist=\"\"])');\n\n\t// Update content containers\n\tconst replaced = visit.containers\n\t\t.map((selector) => {\n\t\t\tconst currentEl = document.querySelector(selector);\n\t\t\tconst incomingEl = incomingDocument.querySelector(selector);\n\t\t\tif (currentEl && incomingEl) {\n\t\t\t\tcurrentEl.replaceWith(incomingEl.cloneNode(true));\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (!currentEl) {\n\t\t\t\tconsole.warn(`[swup] Container missing in current document: ${selector}`);\n\t\t\t}\n\t\t\tif (!incomingEl) {\n\t\t\t\tconsole.warn(`[swup] Container missing in incoming document: ${selector}`);\n\t\t\t}\n\t\t\treturn false;\n\t\t})\n\t\t.filter(Boolean);\n\n\t// Restore persisted elements\n\tpersistedElements.forEach((existing) => {\n\t\tconst key = existing.getAttribute('data-swup-persist');\n\t\tconst replacement = query(`[data-swup-persist=\"${key}\"]`);\n\t\tif (replacement && replacement !== existing) {\n\t\t\treplacement.replaceWith(existing);\n\t\t}\n\t});\n\n\t// Return true if all containers were replaced\n\treturn replaced.length === visit.containers.length;\n};\n","import type Swup from '../Swup.js';\nimport type { Visit } from './Visit.js';\n\n/**\n * Update the scroll position after page render.\n * @returns Promise<boolean>\n */\nexport const scrollToContent = function (this: Swup, visit: Visit): boolean {\n\tconst options: ScrollIntoViewOptions = { behavior: 'auto' };\n\tconst { target, reset } = visit.scroll;\n\tconst scrollTarget = target ?? visit.to.hash;\n\n\tlet scrolled = false;\n\n\tif (scrollTarget) {\n\t\tscrolled = this.hooks.callSync(\n\t\t\t'scroll:anchor',\n\t\t\tvisit,\n\t\t\t{ hash: scrollTarget, options },\n\t\t\t(visit, { hash, options }) => {\n\t\t\t\tconst anchor = this.getAnchorElement(hash);\n\t\t\t\tif (anchor) {\n\t\t\t\t\tanchor.scrollIntoView(options);\n\t\t\t\t}\n\t\t\t\treturn !!anchor;\n\t\t\t}\n\t\t);\n\t}\n\n\tif (reset && !scrolled) {\n\t\tscrolled = this.hooks.callSync('scroll:top', visit, { options }, (visit, { options }) => {\n\t\t\twindow.scrollTo({ top: 0, left: 0, ...options });\n\t\t\treturn true;\n\t\t});\n\t}\n\n\treturn scrolled;\n};\n","import type Swup from '../Swup.js';\nimport { nextTick } from '../utils.js';\nimport type { Visit } from './Visit.js';\n\n/**\n * Perform the in/enter animation of the next page.\n * @returns Promise<void>\n */\nexport const animatePageIn = async function (this: Swup, visit: Visit) {\n\t// Check if failed/aborted in the meantime\n\tif (visit.done) return;\n\n\tconst animation = this.hooks.call(\n\t\t'animation:in:await',\n\t\tvisit,\n\t\t{ skip: false },\n\t\t(visit, { skip }) => {\n\t\t\tif (skip) return;\n\t\t\treturn this.awaitAnimations({ selector: visit.animation.selector });\n\t\t}\n\t);\n\n\tawait nextTick();\n\n\tawait this.hooks.call('animation:in:start', visit, undefined, () => {\n\t\tthis.classes.remove('is-animating');\n\t});\n\n\tawait animation;\n\n\tawait this.hooks.call('animation:in:end', visit, undefined);\n};\n","import { updateHistoryRecord, getCurrentUrl, classify } from '../helpers.js';\nimport type Swup from '../Swup.js';\nimport type { PageData } from './fetchPage.js';\nimport { VisitState, type Visit } from './Visit.js';\n\n/**\n * Render the next page: replace the content and update scroll position.\n */\nexport const renderPage = async function (this: Swup, visit: Visit, page: PageData): Promise<void> {\n\t// Check if failed/aborted in the meantime\n\tif (visit.done) return;\n\n\tvisit.advance(VisitState.ENTERING);\n\n\tconst { url } = page;\n\n\t// update state if the url was redirected\n\tif (!this.isSameResolvedUrl(getCurrentUrl(), url)) {\n\t\tupdateHistoryRecord(url);\n\t\tthis.currentPageUrl = getCurrentUrl();\n\t\tvisit.to.url = this.currentPageUrl;\n\t}\n\n\t// replace content: allow handlers and plugins to overwrite paga data and containers\n\tawait this.hooks.call('content:replace', visit, { page }, (visit, { page }) => {\n\t\tthis.classes.remove('is-leaving');\n\t\t// only add for animated page loads\n\t\tif (visit.animation.animate) {\n\t\t\tthis.classes.add('is-rendering');\n\t\t}\n\t\tconst success = this.replaceContent(visit);\n\t\tif (!success) {\n\t\t\tthrow new Error('[swup] Container mismatch, aborting');\n\t\t}\n\t\tif (visit.animation.animate) {\n\t\t\t// Make sure to add these classes to new containers as well\n\t\t\tthis.classes.add('is-changing', 'is-animating', 'is-rendering');\n\t\t\tif (visit.animation.name) {\n\t\t\t\tthis.classes.add(`to-${classify(visit.animation.name)}`);\n\t\t\t}\n\t\t}\n\t});\n\n\t// scroll into view: either anchor or top of page\n\tawait this.hooks.call('content:scroll', visit, undefined, () => {\n\t\treturn this.scrollToContent(visit);\n\t});\n\n\tawait this.hooks.call('page:view', visit, { url: this.currentPageUrl, title: document.title });\n};\n","import type Swup from '../Swup.js';\n\nexport type Plugin = {\n\t/** Identify as a swup plugin */\n\tisSwupPlugin: true;\n\t/** Name of this plugin */\n\tname: string;\n\t/** Version of this plugin. Currently not in use, defined here for backward compatiblity. */\n\tversion?: string;\n\t/** The swup instance that mounted this plugin */\n\tswup?: Swup;\n\t/** Version requirements of this plugin. Example: `{ swup: '>=4' }` */\n\trequires?: Record<string, string | string[]>;\n\t/** Run on mount */\n\tmount: () => void;\n\t/** Run on unmount */\n\tunmount: () => void;\n\t_beforeMount?: () => void;\n\t_afterUnmount?: () => void;\n\t_checkRequirements?: () => boolean;\n};\n\nconst isSwupPlugin = (maybeInvalidPlugin: unknown): maybeInvalidPlugin is Plugin => {\n\t// @ts-ignore: this might be anything, object or no\n\treturn Boolean(maybeInvalidPlugin?.isSwupPlugin);\n};\n\n/** Install a plugin. */\nexport const use = function (this: Swup, plugin: unknown) {\n\tif (!isSwupPlugin(plugin)) {\n\t\tconsole.error('Not a swup plugin instance', plugin);\n\t\treturn;\n\t}\n\n\tplugin.swup = this;\n\tif (plugin._checkRequirements) {\n\t\tif (!plugin._checkRequirements()) {\n\t\t\treturn;\n\t\t}\n\t}\n\tif (plugin._beforeMount) {\n\t\tplugin._beforeMount();\n\t}\n\tplugin.mount();\n\n\tthis.plugins.push(plugin);\n\n\treturn this.plugins;\n};\n\n/** Uninstall a plugin. */\nexport function unuse(this: Swup, pluginOrName: Plugin | string) {\n\tconst plugin = this.findPlugin(pluginOrName);\n\tif (!plugin) {\n\t\tconsole.error('No such plugin', plugin);\n\t\treturn;\n\t}\n\n\tplugin.unmount();\n\tif (plugin._afterUnmount) {\n\t\tplugin._afterUnmount();\n\t}\n\n\tthis.plugins = this.plugins.filter((p) => p !== plugin);\n\n\treturn this.plugins;\n}\n\n/** Find a plugin by name or reference. */\nexport function findPlugin(this: Swup, pluginOrName: Plugin | string) {\n\treturn this.plugins.find(\n\t\t(plugin) =>\n\t\t\tplugin === pluginOrName ||\n\t\t\tplugin.name === pluginOrName ||\n\t\t\tplugin.name === `Swup${String(pluginOrName)}`\n\t);\n}\n","import type Swup from '../Swup.js';\n\n/**\n * Utility function to validate and run the global option 'resolveUrl'\n * @param {string} url\n * @returns {string} the resolved url\n */\nexport function resolveUrl(this: Swup, url: string): string {\n\tif (typeof this.options.resolveUrl !== 'function') {\n\t\tconsole.warn(`[swup] options.resolveUrl expects a callback function.`);\n\t\treturn url;\n\t}\n\tconst result = this.options.resolveUrl(url);\n\tif (!result || typeof result !== 'string') {\n\t\tconsole.warn(`[swup] options.resolveUrl needs to return a url`);\n\t\treturn url;\n\t}\n\tif (result.startsWith('//') || result.startsWith('http')) {\n\t\tconsole.warn(`[swup] options.resolveUrl needs to return a relative url`);\n\t\treturn url;\n\t}\n\treturn result;\n}\n\n/**\n * Compares the resolved version of two paths and returns true if they are the same\n * @param {string} url1\n * @param {string} url2\n * @returns {boolean}\n */\nexport function isSameResolvedUrl(this: Swup, url1: string, url2: string): boolean {\n\treturn this.resolveUrl(url1) === this.resolveUrl(url2);\n}\n","import { type DelegateEvent } from 'delegate-it';\n\nimport version from './config/version.js';\n\nimport { delegateEvent, getCurrentUrl, Location, updateHistoryRecord } from './helpers.js';\nimport { type DelegateEventUnsubscribe } from './helpers/delegateEvent.js';\n\nimport { Cache } from './modules/Cache.js';\nimport { Classes } from './modules/Classes.js';\nimport { type Visit, createVisit } from './modules/Visit.js';\nimport { Hooks } from './modules/Hooks.js';\nimport { getAnchorElement } from './modules/getAnchorElement.js';\nimport { awaitAnimations } from './modules/awaitAnimations.js';\nimport { navigate, performNavigation, type NavigationToSelfAction } from './modules/navigate.js';\nimport { fetchPage } from './modules/fetchPage.js';\nimport { animatePageOut } from './modules/animatePageOut.js';\nimport { replaceContent } from './modules/replaceContent.js';\nimport { scrollToContent } from './modules/scrollToContent.js';\nimport { animatePageIn } from './modules/animatePageIn.js';\nimport { renderPage } from './modules/renderPage.js';\nimport { use, unuse, findPlugin, type Plugin } from './modules/plugins.js';\nimport { isSameResolvedUrl, resolveUrl } from './modules/resolveUrl.js';\nimport { nextTick } from './utils.js';\nimport { type HistoryState } from './helpers/history.js';\n\n/** Options for customizing swup's behavior. */\nexport type Options = {\n\t/** Whether history visits are animated. Default: `false` */\n\tanimateHistoryBrowsing: boolean;\n\t/** Selector for detecting animation timing. Default: `[class*=\"transition-\"]` */\n\tanimationSelector: string | false;\n\t/** Elements on which to add animation classes. Default: `html` element */\n\tanimationScope: 'html' | 'containers';\n\t/** Enable in-memory page cache. Default: `true` */\n\tcache: boolean;\n\t/** Content containers to be replaced on page visits. Default: `['#swup']` */\n\tcontainers: string[];\n\t/** Callback for ignoring visits. Receives the element and event that triggered the visit. */\n\tignoreVisit: (url: string, { el, event }: { el?: Element; event?: Event }) => boolean;\n\t/** Selector for links that trigger visits. Default: `'a[href]'` */\n\tlinkSelector: string;\n\t/** How swup handles links to the same page. Default: `scroll` */\n\tlinkToSelf: NavigationToSelfAction;\n\t/** Enable native animations using the View Transitions API. */\n\tnative: boolean;\n\t/** Plugins to register on startup. */\n\tplugins: Plugin[];\n\t/** Custom headers sent along with fetch requests. */\n\trequestHeaders: Record<string, string>;\n\t/** Rewrite URLs before loading them. */\n\tresolveUrl: (url: string) => string;\n\t/** Callback for telling swup to ignore certain popstate events.  */\n\tskipPopStateHandling: (event: PopStateEvent) => boolean;\n\t/** Request timeout in milliseconds. */\n\ttimeout: number;\n};\n\nconst defaults: Options = {\n\tanimateHistoryBrowsing: false,\n\tanimationSelector: '[class*=\"transition-\"]',\n\tanimationScope: 'html',\n\tcache: true,\n\tcontainers: ['#swup'],\n\tignoreVisit: (url, { el } = {}) => !!el?.closest('[data-no-swup]'),\n\tlinkSelector: 'a[href]',\n\tlinkToSelf: 'scroll',\n\tnative: false,\n\tplugins: [],\n\tresolveUrl: (url) => url,\n\trequestHeaders: {\n\t\t'X-Requested-With': 'swup',\n\t\t'Accept': 'text/html, application/xhtml+xml'\n\t},\n\tskipPopStateHandling: (event) => (event.state as HistoryState)?.source !== 'swup',\n\ttimeout: 0\n};\n\n/** Swup page transition library. */\nexport default class Swup {\n\t/** Library version */\n\treadonly version: string = version;\n\t/** Options passed into the instance */\n\toptions: Options;\n\t/** Default options before merging user options */\n\treadonly defaults: Options = defaults;\n\t/** Registered plugin instances */\n\tplugins: Plugin[] = [];\n\t/** Data about the current visit */\n\tvisit: Visit;\n\t/** Cache instance */\n\treadonly cache: Cache;\n\t/** Hook registry */\n\treadonly hooks: Hooks;\n\t/** Animation class manager */\n\treadonly classes: Classes;\n\t/** URL of the currently visible page */\n\tcurrentPageUrl: string = getCurrentUrl();\n\t/** Index of the current history entry */\n\tprotected currentHistoryIndex: number;\n\t/** Delegated event subscription handle */\n\tprotected clickDelegate?: DelegateEventUnsubscribe;\n\t/** Navigation status */\n\tprotected navigating: boolean = false;\n\t/** Run anytime a visit ends */\n\tprotected onVisitEnd?: () => Promise<unknown>;\n\n\t/** Install a plugin */\n\tuse = use;\n\t/** Uninstall a plugin */\n\tunuse = unuse;\n\t/** Find a plugin by name or instance */\n\tfindPlugin = findPlugin;\n\n\t/** Log a message. Has no effect unless debug plugin is installed */\n\tlog: (message: string, context?: unknown) => void = () => {};\n\n\t/** Navigate to a new URL */\n\tnavigate = navigate;\n\t/** Actually perform a navigation */\n\tprotected performNavigation = performNavigation;\n\t/** Create a new context for this visit */\n\tprotected createVisit = createVisit;\n\t/** Register a delegated event listener */\n\tdelegateEvent = delegateEvent;\n\t/** Fetch a page from the server */\n\tfetchPage = fetchPage;\n\t/** Resolve when animations on the page finish */\n\tawaitAnimations = awaitAnimations;\n\tprotected renderPage = renderPage;\n\t/** Replace the content after page load */\n\treplaceContent = replaceContent;\n\tprotected animatePageIn = animatePageIn;\n\tprotected animatePageOut = animatePageOut;\n\tprotected scrollToContent = scrollToContent;\n\t/** Find the anchor element for a given hash */\n\tgetAnchorElement = getAnchorElement;\n\n\t/** Get the current page URL */\n\tgetCurrentUrl = getCurrentUrl;\n\t/** Resolve a URL to its final location */\n\tresolveUrl = resolveUrl;\n\t/** Check if two URLs resolve to the same location */\n\tprotected isSameResolvedUrl = isSameResolvedUrl;\n\n\tconstructor(options: Partial<Options> = {}) {\n\t\t// Merge defaults and options\n\t\tthis.options = { ...this.defaults, ...options };\n\n\t\tthis.handleLinkClick = this.handleLinkClick.bind(this);\n\t\tthis.handlePopState = this.handlePopState.bind(this);\n\n\t\tthis.cache = new Cache(this);\n\t\tthis.classes = new Classes(this);\n\t\tthis.hooks = new Hooks(this);\n\t\tthis.visit = this.createVisit({ to: '' });\n\n\t\tthis.currentHistoryIndex = (window.history.state as HistoryState)?.index ?? 1;\n\n\t\tthis.enable();\n\t}\n\n\t/** Enable this instance, adding listeners and classnames. */\n\tasync enable() {\n\t\t// Add event listener\n\t\tconst { linkSelector } = this.options;\n\t\tthis.clickDelegate = this.delegateEvent(linkSelector, 'click', this.handleLinkClick);\n\n\t\twindow.addEventListener('popstate', this.handlePopState);\n\n\t\t// Set scroll restoration to manual if animating history visits\n\t\tif (this.options.animateHistoryBrowsing) {\n\t\t\twindow.history.scrollRestoration = 'manual';\n\t\t}\n\n\t\t// Initial save to cache\n\t\tif (this.options.cache) {\n\t\t\t// Disabled to avoid caching modified dom state: logic moved to preload plugin\n\t\t\t// https://github.com/swup/swup/issues/475\n\t\t}\n\n\t\t// Sanitize/check native option\n\t\tthis.options.native = this.options.native && !!document.startViewTransition;\n\n\t\t// Mount plugins\n\t\tthis.options.plugins.forEach((plugin) => this.use(plugin));\n\n\t\t// Create initial history record\n\t\tif ((window.history.state as HistoryState)?.source !== 'swup') {\n\t\t\tupdateHistoryRecord(null, { index: this.currentHistoryIndex });\n\t\t}\n\n\t\t// Give consumers a chance to hook into enable\n\t\tawait nextTick();\n\n\t\t// Trigger enable hook\n\t\tawait this.hooks.call('enable', undefined, undefined, () => {\n\t\t\tconst html = document.documentElement;\n\t\t\thtml.classList.add('swup-enabled');\n\t\t\thtml.classList.toggle('swup-native', this.options.native);\n\t\t});\n\t}\n\n\t/** Disable this instance, removing listeners and classnames. */\n\tasync destroy() {\n\t\t// remove delegated listener\n\t\tthis.clickDelegate!.destroy();\n\n\t\t// remove popstate listener\n\t\twindow.removeEventListener('popstate', this.handlePopState);\n\n\t\t// empty cache\n\t\tthis.cache.clear();\n\n\t\t// unmount plugins\n\t\tthis.options.plugins.forEach((plugin) => this.unuse(plugin));\n\n\t\t// trigger disable hook\n\t\tawait this.hooks.call('disable', undefined, undefined, () => {\n\t\t\tconst html = document.documentElement;\n\t\t\thtml.classList.remove('swup-enabled');\n\t\t\thtml.classList.remove('swup-native');\n\t\t});\n\n\t\t// remove handlers\n\t\tthis.hooks.clear();\n\t}\n\n\t/** Determine if a visit should be ignored by swup, based on URL or trigger element. */\n\tshouldIgnoreVisit(href: string, { el, event }: { el?: Element; event?: Event } = {}) {\n\t\tconst { origin, url, hash } = Location.fromUrl(href);\n\n\t\t// Ignore if the new origin doesn't match the current one\n\t\tif (origin !== window.location.origin) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Ignore if the link/form would open a new window (or none at all)\n\t\tif (el && this.triggerWillOpenNewWindow(el)) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Ignore if the visit should be ignored as per user options\n\t\tif (this.options.ignoreVisit(url + hash, { el, event })) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Finally, allow the visit\n\t\treturn false;\n\t}\n\n\tprotected handleLinkClick(event: DelegateEvent<MouseEvent>) {\n\t\tconst el = event.delegateTarget as HTMLAnchorElement;\n\t\tconst { href, url, hash } = Location.fromElement(el);\n\n\t\t// Exit early if the link should be ignored\n\t\tif (this.shouldIgnoreVisit(href, { el, event })) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore if swup is currently navigating towards the link's URL\n\t\tif (this.navigating && url === this.visit.to.url) {\n\t\t\tevent.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tconst visit = this.createVisit({ to: url, hash, el, event });\n\n\t\t// Exit early if control key pressed\n\t\tif (event.metaKey || event.ctrlKey || event.shiftKey || event.altKey) {\n\t\t\tthis.hooks.callSync('link:newtab', visit, { href });\n\t\t\treturn;\n\t\t}\n\n\t\t// Exit early if other than left mouse button\n\t\tif (event.button !== 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.hooks.callSync('link:click', visit, { el, event }, () => {\n\t\t\tconst from = visit.from.url ?? '';\n\n\t\t\tevent.preventDefault();\n\n\t\t\t// Handle links to the same page\n\t\t\tif (!url || url === from) {\n\t\t\t\tif (hash) {\n\t\t\t\t\t// With hash: scroll to anchor\n\t\t\t\t\tthis.hooks.callSync('link:anchor', visit, { hash }, () => {\n\t\t\t\t\t\tupdateHistoryRecord(url + hash);\n\t\t\t\t\t\tthis.scrollToContent(visit);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// Without hash: scroll to top or load/reload page\n\t\t\t\t\tthis.hooks.callSync('link:self', visit, undefined, () => {\n\t\t\t\t\t\tif (this.options.linkToSelf === 'navigate') {\n\t\t\t\t\t\t\tthis.performNavigation(visit);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tupdateHistoryRecord(url);\n\t\t\t\t\t\t\tthis.scrollToContent(visit);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Exit early if the resolved path hasn't changed\n\t\t\tif (this.isSameResolvedUrl(url, from)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Finally, proceed with loading the page\n\t\t\tthis.performNavigation(visit);\n\t\t});\n\t}\n\n\tprotected handlePopState(event: PopStateEvent) {\n\t\tconst href: string = (event.state as HistoryState)?.url ?? window.location.href;\n\n\t\t// Exit early if this event should be ignored\n\t\tif (this.options.skipPopStateHandling(event)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Exit early if the resolved path hasn't changed\n\t\tif (this.isSameResolvedUrl(getCurrentUrl(), this.currentPageUrl)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { url, hash } = Location.fromUrl(href);\n\n\t\tconst visit = this.createVisit({ to: url, hash, event });\n\n\t\t// Mark as history visit\n\t\tvisit.history.popstate = true;\n\n\t\t// Determine direction of history visit\n\t\tconst index = (event.state as HistoryState)?.index ?? 0;\n\t\tif (index && index !== this.currentHistoryIndex) {\n\t\t\tconst direction = index - this.currentHistoryIndex > 0 ? 'forwards' : 'backwards';\n\t\t\tvisit.history.direction = direction;\n\t\t\tthis.currentHistoryIndex = index;\n\t\t}\n\n\t\t// Disable animation & scrolling for history visits\n\t\tvisit.animation.animate = false;\n\t\tvisit.scroll.reset = false;\n\t\tvisit.scroll.target = false;\n\n\t\t// Animated history visit: re-enable animation & scroll reset\n\t\tif (this.options.animateHistoryBrowsing) {\n\t\t\tvisit.animation.animate = true;\n\t\t\tvisit.scroll.reset = true;\n\t\t}\n\n\t\tthis.hooks.callSync('history:popstate', visit, { event }, () => {\n\t\t\tthis.performNavigation(visit);\n\t\t});\n\t}\n\n\t/** Determine whether an element will open a new tab when clicking/activating. */\n\tprotected triggerWillOpenNewWindow(triggerEl: Element) {\n\t\tif (triggerEl.matches('[download], [target=\"_blank\"]')) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n}\n","export * from './delegate.js';\nexport { default } from './delegate.js';\nexport { default as oneEvent } from './one-event.js';\n","/** Keeps track of raw listeners added to the base elements to avoid duplication */\nconst ledger = new WeakMap();\nfunction editLedger(wanted, baseElement, callback, setup) {\n    if (!wanted && !ledger.has(baseElement)) {\n        return false;\n    }\n    const elementMap = ledger.get(baseElement)\n        ?? new WeakMap();\n    ledger.set(baseElement, elementMap);\n    const setups = elementMap.get(callback) ?? new Set();\n    elementMap.set(callback, setups);\n    const existed = setups.has(setup);\n    if (wanted) {\n        setups.add(setup);\n    }\n    else {\n        setups.delete(setup);\n    }\n    return existed && wanted;\n}\nfunction safeClosest(event, selector) {\n    let target = event.target;\n    if (target instanceof Text) {\n        target = target.parentElement;\n    }\n    if (target instanceof Element && event.currentTarget instanceof Element) {\n        // `.closest()` may match ancestors of `currentTarget` but we only need its children\n        const closest = target.closest(selector);\n        if (closest && event.currentTarget.contains(closest)) {\n            return closest;\n        }\n    }\n}\n// This type isn't exported as a declaration, so it needs to be duplicated above\nfunction delegate(selector, type, callback, options = {}) {\n    const { signal, base = document } = options;\n    if (signal?.aborted) {\n        return;\n    }\n    // Don't pass `once` to `addEventListener` because it needs to be handled in `delegate-it`\n    const { once, ...nativeListenerOptions } = options;\n    // `document` should never be the base, it's just an easy way to define \"global event listeners\"\n    const baseElement = base instanceof Document ? base.documentElement : base;\n    // Handle the regular Element usage\n    const capture = Boolean(typeof options === 'object' ? options.capture : options);\n    const listenerFunction = (event) => {\n        const delegateTarget = safeClosest(event, selector);\n        if (delegateTarget) {\n            const delegateEvent = Object.assign(event, { delegateTarget });\n            callback.call(baseElement, delegateEvent);\n            if (once) {\n                baseElement.removeEventListener(type, listenerFunction, nativeListenerOptions);\n                editLedger(false, baseElement, callback, setup);\n            }\n        }\n    };\n    const setup = JSON.stringify({ selector, type, capture });\n    const isAlreadyListening = editLedger(true, baseElement, callback, setup);\n    if (!isAlreadyListening) {\n        baseElement.addEventListener(type, listenerFunction, nativeListenerOptions);\n    }\n    signal?.addEventListener('abort', () => {\n        editLedger(false, baseElement, callback, setup);\n    });\n}\nexport default delegate;\n","import delegate from './delegate.js';\n// This type isn't exported as a declaration, so it needs to be duplicated above\nasync function oneEvent(selector, type, options = {}) {\n    return new Promise(resolve => {\n        options.once = true;\n        if (options.signal?.aborted) {\n            resolve(undefined);\n        }\n        options.signal?.addEventListener('abort', () => {\n            resolve(undefined);\n        });\n        delegate(selector, type, resolve, options);\n    });\n}\nexport default oneEvent;\n","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \".concat(i));\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \".concat(j));\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \".concat(j));\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \".concat(i));\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \".concat(i));\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\".concat(escapeString(options.delimiter || \"/#?\"), \"]+?\");\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \".concat(nextType, \" at \").concat(index, \", expected \").concat(type));\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\".concat(token.pattern, \")$\"), reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not repeat, but got an array\"));\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not be empty\"));\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to be \").concat(typeOfMessage));\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    var groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n    var index = 0;\n    var execResult = groupsRegex.exec(path.source);\n    while (execResult) {\n        keys.push({\n            // Use parenthesized substring match if available, index otherwise\n            name: execResult[1] || index++,\n            prefix: \"\",\n            suffix: \"\",\n            modifier: \"\",\n            pattern: \"\",\n        });\n        execResult = groupsRegex.exec(path.source);\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\".concat(parts.join(\"|\"), \")\"), flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d, _e = options.delimiter, delimiter = _e === void 0 ? \"/#?\" : _e, _f = options.endsWith, endsWith = _f === void 0 ? \"\" : _f;\n    var endsWithRe = \"[\".concat(escapeString(endsWith), \"]|$\");\n    var delimiterRe = \"[\".concat(escapeString(delimiter), \"]\");\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\".concat(prefix, \"((?:\").concat(token.pattern, \")(?:\").concat(suffix).concat(prefix, \"(?:\").concat(token.pattern, \"))*)\").concat(suffix, \")\").concat(mod);\n                    }\n                    else {\n                        route += \"(?:\".concat(prefix, \"(\").concat(token.pattern, \")\").concat(suffix, \")\").concat(token.modifier);\n                    }\n                }\n                else {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        route += \"((?:\".concat(token.pattern, \")\").concat(token.modifier, \")\");\n                    }\n                    else {\n                        route += \"(\".concat(token.pattern, \")\").concat(token.modifier);\n                    }\n                }\n            }\n            else {\n                route += \"(?:\".concat(prefix).concat(suffix, \")\").concat(token.modifier);\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += \"\".concat(delimiterRe, \"?\");\n        route += !options.endsWith ? \"$\" : \"(?=\".concat(endsWithRe, \")\");\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n            : endToken === undefined;\n        if (!strict) {\n            route += \"(?:\".concat(delimiterRe, \"(?=\").concat(endsWithRe, \"))?\");\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\".concat(delimiterRe, \"|\").concat(endsWithRe, \")\");\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","/**\n * Tokenizer results.\n */\ninterface LexToken {\n  type:\n    | \"OPEN\"\n    | \"CLOSE\"\n    | \"PATTERN\"\n    | \"NAME\"\n    | \"CHAR\"\n    | \"ESCAPED_CHAR\"\n    | \"MODIFIER\"\n    | \"END\";\n  index: number;\n  value: string;\n}\n\n/**\n * Tokenize input string.\n */\nfunction lexer(str: string): LexToken[] {\n  const tokens: LexToken[] = [];\n  let i = 0;\n\n  while (i < str.length) {\n    const char = str[i];\n\n    if (char === \"*\" || char === \"+\" || char === \"?\") {\n      tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"\\\\\") {\n      tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"{\") {\n      tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"}\") {\n      tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \":\") {\n      let name = \"\";\n      let j = i + 1;\n\n      while (j < str.length) {\n        const code = str.charCodeAt(j);\n\n        if (\n          // `0-9`\n          (code >= 48 && code <= 57) ||\n          // `A-Z`\n          (code >= 65 && code <= 90) ||\n          // `a-z`\n          (code >= 97 && code <= 122) ||\n          // `_`\n          code === 95\n        ) {\n          name += str[j++];\n          continue;\n        }\n\n        break;\n      }\n\n      if (!name) throw new TypeError(`Missing parameter name at ${i}`);\n\n      tokens.push({ type: \"NAME\", index: i, value: name });\n      i = j;\n      continue;\n    }\n\n    if (char === \"(\") {\n      let count = 1;\n      let pattern = \"\";\n      let j = i + 1;\n\n      if (str[j] === \"?\") {\n        throw new TypeError(`Pattern cannot start with \"?\" at ${j}`);\n      }\n\n      while (j < str.length) {\n        if (str[j] === \"\\\\\") {\n          pattern += str[j++] + str[j++];\n          continue;\n        }\n\n        if (str[j] === \")\") {\n          count--;\n          if (count === 0) {\n            j++;\n            break;\n          }\n        } else if (str[j] === \"(\") {\n          count++;\n          if (str[j + 1] !== \"?\") {\n            throw new TypeError(`Capturing groups are not allowed at ${j}`);\n          }\n        }\n\n        pattern += str[j++];\n      }\n\n      if (count) throw new TypeError(`Unbalanced pattern at ${i}`);\n      if (!pattern) throw new TypeError(`Missing pattern at ${i}`);\n\n      tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n      i = j;\n      continue;\n    }\n\n    tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n  }\n\n  tokens.push({ type: \"END\", index: i, value: \"\" });\n\n  return tokens;\n}\n\nexport interface ParseOptions {\n  /**\n   * Set the default delimiter for repeat parameters. (default: `'/'`)\n   */\n  delimiter?: string;\n  /**\n   * List of characters to automatically consider prefixes when parsing.\n   */\n  prefixes?: string;\n}\n\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str: string, options: ParseOptions = {}): Token[] {\n  const tokens = lexer(str);\n  const { prefixes = \"./\" } = options;\n  const defaultPattern = `[^${escapeString(options.delimiter || \"/#?\")}]+?`;\n  const result: Token[] = [];\n  let key = 0;\n  let i = 0;\n  let path = \"\";\n\n  const tryConsume = (type: LexToken[\"type\"]): string | undefined => {\n    if (i < tokens.length && tokens[i].type === type) return tokens[i++].value;\n  };\n\n  const mustConsume = (type: LexToken[\"type\"]): string => {\n    const value = tryConsume(type);\n    if (value !== undefined) return value;\n    const { type: nextType, index } = tokens[i];\n    throw new TypeError(`Unexpected ${nextType} at ${index}, expected ${type}`);\n  };\n\n  const consumeText = (): string => {\n    let result = \"\";\n    let value: string | undefined;\n    while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n      result += value;\n    }\n    return result;\n  };\n\n  while (i < tokens.length) {\n    const char = tryConsume(\"CHAR\");\n    const name = tryConsume(\"NAME\");\n    const pattern = tryConsume(\"PATTERN\");\n\n    if (name || pattern) {\n      let prefix = char || \"\";\n\n      if (prefixes.indexOf(prefix) === -1) {\n        path += prefix;\n        prefix = \"\";\n      }\n\n      if (path) {\n        result.push(path);\n        path = \"\";\n      }\n\n      result.push({\n        name: name || key++,\n        prefix,\n        suffix: \"\",\n        pattern: pattern || defaultPattern,\n        modifier: tryConsume(\"MODIFIER\") || \"\",\n      });\n      continue;\n    }\n\n    const value = char || tryConsume(\"ESCAPED_CHAR\");\n    if (value) {\n      path += value;\n      continue;\n    }\n\n    if (path) {\n      result.push(path);\n      path = \"\";\n    }\n\n    const open = tryConsume(\"OPEN\");\n    if (open) {\n      const prefix = consumeText();\n      const name = tryConsume(\"NAME\") || \"\";\n      const pattern = tryConsume(\"PATTERN\") || \"\";\n      const suffix = consumeText();\n\n      mustConsume(\"CLOSE\");\n\n      result.push({\n        name: name || (pattern ? key++ : \"\"),\n        pattern: name && !pattern ? defaultPattern : pattern,\n        prefix,\n        suffix,\n        modifier: tryConsume(\"MODIFIER\") || \"\",\n      });\n      continue;\n    }\n\n    mustConsume(\"END\");\n  }\n\n  return result;\n}\n\nexport interface TokensToFunctionOptions {\n  /**\n   * When `true` the regexp will be case sensitive. (default: `false`)\n   */\n  sensitive?: boolean;\n  /**\n   * Function for encoding input strings for output.\n   */\n  encode?: (value: string, token: Key) => string;\n  /**\n   * When `false` the function can produce an invalid (unmatched) path. (default: `true`)\n   */\n  validate?: boolean;\n}\n\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile<P extends object = object>(\n  str: string,\n  options?: ParseOptions & TokensToFunctionOptions\n) {\n  return tokensToFunction<P>(parse(str, options), options);\n}\n\nexport type PathFunction<P extends object = object> = (data?: P) => string;\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction<P extends object = object>(\n  tokens: Token[],\n  options: TokensToFunctionOptions = {}\n): PathFunction<P> {\n  const reFlags = flags(options);\n  const { encode = (x: string) => x, validate = true } = options;\n\n  // Compile all the tokens into regexps.\n  const matches = tokens.map((token) => {\n    if (typeof token === \"object\") {\n      return new RegExp(`^(?:${token.pattern})$`, reFlags);\n    }\n  });\n\n  return (data: Record<string, any> | null | undefined) => {\n    let path = \"\";\n\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n\n      if (typeof token === \"string\") {\n        path += token;\n        continue;\n      }\n\n      const value = data ? data[token.name] : undefined;\n      const optional = token.modifier === \"?\" || token.modifier === \"*\";\n      const repeat = token.modifier === \"*\" || token.modifier === \"+\";\n\n      if (Array.isArray(value)) {\n        if (!repeat) {\n          throw new TypeError(\n            `Expected \"${token.name}\" to not repeat, but got an array`\n          );\n        }\n\n        if (value.length === 0) {\n          if (optional) continue;\n\n          throw new TypeError(`Expected \"${token.name}\" to not be empty`);\n        }\n\n        for (let j = 0; j < value.length; j++) {\n          const segment = encode(value[j], token);\n\n          if (validate && !(matches[i] as RegExp).test(segment)) {\n            throw new TypeError(\n              `Expected all \"${token.name}\" to match \"${token.pattern}\", but got \"${segment}\"`\n            );\n          }\n\n          path += token.prefix + segment + token.suffix;\n        }\n\n        continue;\n      }\n\n      if (typeof value === \"string\" || typeof value === \"number\") {\n        const segment = encode(String(value), token);\n\n        if (validate && !(matches[i] as RegExp).test(segment)) {\n          throw new TypeError(\n            `Expected \"${token.name}\" to match \"${token.pattern}\", but got \"${segment}\"`\n          );\n        }\n\n        path += token.prefix + segment + token.suffix;\n        continue;\n      }\n\n      if (optional) continue;\n\n      const typeOfMessage = repeat ? \"an array\" : \"a string\";\n      throw new TypeError(`Expected \"${token.name}\" to be ${typeOfMessage}`);\n    }\n\n    return path;\n  };\n}\n\nexport interface RegexpToFunctionOptions {\n  /**\n   * Function for decoding strings for params.\n   */\n  decode?: (value: string, token: Key) => string;\n}\n\n/**\n * A match result contains data about the path match.\n */\nexport interface MatchResult<P extends object = object> {\n  path: string;\n  index: number;\n  params: P;\n}\n\n/**\n * A match is either `false` (no match) or a match result.\n */\nexport type Match<P extends object = object> = false | MatchResult<P>;\n\n/**\n * The match function takes a string and returns whether it matched the path.\n */\nexport type MatchFunction<P extends object = object> = (\n  path: string\n) => Match<P>;\n\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match<P extends object = object>(\n  str: Path,\n  options?: ParseOptions & TokensToRegexpOptions & RegexpToFunctionOptions\n) {\n  const keys: Key[] = [];\n  const re = pathToRegexp(str, keys, options);\n  return regexpToFunction<P>(re, keys, options);\n}\n\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction<P extends object = object>(\n  re: RegExp,\n  keys: Key[],\n  options: RegexpToFunctionOptions = {}\n): MatchFunction<P> {\n  const { decode = (x: string) => x } = options;\n\n  return function (pathname: string) {\n    const m = re.exec(pathname);\n    if (!m) return false;\n\n    const { 0: path, index } = m;\n    const params = Object.create(null);\n\n    for (let i = 1; i < m.length; i++) {\n      if (m[i] === undefined) continue;\n\n      const key = keys[i - 1];\n\n      if (key.modifier === \"*\" || key.modifier === \"+\") {\n        params[key.name] = m[i].split(key.prefix + key.suffix).map((value) => {\n          return decode(value, key);\n        });\n      } else {\n        params[key.name] = decode(m[i], key);\n      }\n    }\n\n    return { path, index, params };\n  };\n}\n\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str: string) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options?: { sensitive?: boolean }) {\n  return options && options.sensitive ? \"\" : \"i\";\n}\n\n/**\n * Metadata about a key.\n */\nexport interface Key {\n  name: string | number;\n  prefix: string;\n  suffix: string;\n  pattern: string;\n  modifier: string;\n}\n\n/**\n * A token is a string (nothing special) or key metadata (capture group).\n */\nexport type Token = string | Key;\n\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path: RegExp, keys?: Key[]): RegExp {\n  if (!keys) return path;\n\n  const groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n\n  let index = 0;\n  let execResult = groupsRegex.exec(path.source);\n  while (execResult) {\n    keys.push({\n      // Use parenthesized substring match if available, index otherwise\n      name: execResult[1] || index++,\n      prefix: \"\",\n      suffix: \"\",\n      modifier: \"\",\n      pattern: \"\",\n    });\n    execResult = groupsRegex.exec(path.source);\n  }\n\n  return path;\n}\n\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(\n  paths: Array<string | RegExp>,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions\n): RegExp {\n  const parts = paths.map((path) => pathToRegexp(path, keys, options).source);\n  return new RegExp(`(?:${parts.join(\"|\")})`, flags(options));\n}\n\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(\n  path: string,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions\n) {\n  return tokensToRegexp(parse(path, options), keys, options);\n}\n\nexport interface TokensToRegexpOptions {\n  /**\n   * When `true` the regexp will be case sensitive. (default: `false`)\n   */\n  sensitive?: boolean;\n  /**\n   * When `true` the regexp won't allow an optional trailing delimiter to match. (default: `false`)\n   */\n  strict?: boolean;\n  /**\n   * When `true` the regexp will match to the end of the string. (default: `true`)\n   */\n  end?: boolean;\n  /**\n   * When `true` the regexp will match from the beginning of the string. (default: `true`)\n   */\n  start?: boolean;\n  /**\n   * Sets the final character for non-ending optimistic matches. (default: `/`)\n   */\n  delimiter?: string;\n  /**\n   * List of characters that can also be \"end\" characters.\n   */\n  endsWith?: string;\n  /**\n   * Encode path tokens for use in the `RegExp`.\n   */\n  encode?: (value: string) => string;\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(\n  tokens: Token[],\n  keys?: Key[],\n  options: TokensToRegexpOptions = {}\n) {\n  const {\n    strict = false,\n    start = true,\n    end = true,\n    encode = (x: string) => x,\n    delimiter = \"/#?\",\n    endsWith = \"\",\n  } = options;\n  const endsWithRe = `[${escapeString(endsWith)}]|$`;\n  const delimiterRe = `[${escapeString(delimiter)}]`;\n  let route = start ? \"^\" : \"\";\n\n  // Iterate over the tokens and create our regexp string.\n  for (const token of tokens) {\n    if (typeof token === \"string\") {\n      route += escapeString(encode(token));\n    } else {\n      const prefix = escapeString(encode(token.prefix));\n      const suffix = escapeString(encode(token.suffix));\n\n      if (token.pattern) {\n        if (keys) keys.push(token);\n\n        if (prefix || suffix) {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            const mod = token.modifier === \"*\" ? \"?\" : \"\";\n            route += `(?:${prefix}((?:${token.pattern})(?:${suffix}${prefix}(?:${token.pattern}))*)${suffix})${mod}`;\n          } else {\n            route += `(?:${prefix}(${token.pattern})${suffix})${token.modifier}`;\n          }\n        } else {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            route += `((?:${token.pattern})${token.modifier})`;\n          } else {\n            route += `(${token.pattern})${token.modifier}`;\n          }\n        }\n      } else {\n        route += `(?:${prefix}${suffix})${token.modifier}`;\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += `${delimiterRe}?`;\n\n    route += !options.endsWith ? \"$\" : `(?=${endsWithRe})`;\n  } else {\n    const endToken = tokens[tokens.length - 1];\n    const isEndDelimited =\n      typeof endToken === \"string\"\n        ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n        : endToken === undefined;\n\n    if (!strict) {\n      route += `(?:${delimiterRe}(?=${endsWithRe}))?`;\n    }\n\n    if (!isEndDelimited) {\n      route += `(?=${delimiterRe}|${endsWithRe})`;\n    }\n  }\n\n  return new RegExp(route, flags(options));\n}\n\n/**\n * Supported `path-to-regexp` input types.\n */\nexport type Path = string | RegExp | Array<string | RegExp>;\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(\n  path: Path,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions\n) {\n  if (path instanceof RegExp) return regexpToRegexp(path, keys);\n  if (Array.isArray(path)) return arrayToRegexp(path, keys, options);\n  return stringToRegexp(path, keys, options);\n}\n","import e from\"@swup/plugin\";function t(e){return\"title\"!==e.localName&&!e.matches(\"[data-swup-theme]\")}function s(e,t){return e.outerHTML===t.outerHTML}function n(e){return e.matches(\"link[rel=stylesheet][href]\")}class o extends e{constructor(e={}){super();const o=this;this.name=\"SwupHeadPlugin\",this.requires={swup:\">=4.6\"},this.defaults={persistTags:!1,persistAssets:!1,awaitAssets:!1,timeout:3e3},this.options=void 0,this.updateHead=function(e,{page:{}}){try{const u=e.to.document,{removed:l,added:a}=function(e,n,{shouldPersist:o=(()=>!1)}={}){const r=Array.from(e.children),i=Array.from(n.children),u=(l=r,i.reduce((e,t,n)=>(l.some(e=>s(t,e))||e.push({el:t,index:n}),e),[]));var l;const a=function(e,t){return e.reduce((e,n)=>(t.some(e=>s(n,e))||e.push({el:n}),e),[])}(r,i);return a.reverse().filter(({el:e})=>t(e)).filter(({el:e})=>!o(e)).forEach(({el:t})=>e.removeChild(t)),u.filter(({el:e})=>t(e)).forEach(({el:t,index:s=0})=>{e.insertBefore(t.cloneNode(!0),e.children[s+1]||null)}),{removed:a.map(({el:e})=>e),added:u.map(({el:e})=>e)}}(document.head,u.head,{shouldPersist:e=>o.isPersistentTag(e)});o.swup.log(`Removed ${l.length} / added ${a.length} tags in head`);const c=(r=document.documentElement).lang!==(i=u.documentElement).lang?(r.lang=i.lang,r.lang):null;c&&o.swup.log(`Updated lang attribute: ${c}`);const d=function(){if(o.options.awaitAssets){const e=function(e,t=0){return e.filter(n).map(e=>function(e,t=0){const s=t=>{(({href:e})=>Array.from(document.styleSheets).map(({href:e})=>e).includes(e))(e)?t():setTimeout(()=>s(t),10)};return new Promise(e=>{s(e),t>0&&setTimeout(e,t)})}(e,t))}(a,o.options.timeout),t=function(){if(e.length)return o.swup.log(`Waiting for ${e.length} assets to load`),Promise.resolve(Promise.all(e)).then(function(){})}();if(t&&t.then)return t.then(function(){})}}();return Promise.resolve(d&&d.then?d.then(function(){}):void 0)}catch(e){return Promise.reject(e)}var r,i},this.options={...this.defaults,...e},this.options.persistAssets&&!this.options.persistTags&&(this.options.persistTags=\"link[rel=stylesheet], script[src], style\")}mount(){this.before(\"content:replace\",this.updateHead)}isPersistentTag(e){const{persistTags:t}=this.options;return\"function\"==typeof t?t(e):\"string\"==typeof t?e.matches(t):Boolean(t)}}export{o as default};\n//# sourceMappingURL=index.module.js.map\n","type ElementCollection = { el: Element; index?: number }[];\n\nexport default function mergeHeadContents(\n\tcurrentHead: HTMLHeadElement,\n\tnewHead: HTMLHeadElement,\n\t{ shouldPersist = () => false }: { shouldPersist?: (el: Element) => boolean } = {}\n) {\n\tconst currentTags = Array.from(currentHead.children);\n\tconst newChildren = Array.from(newHead.children);\n\n\tconst addTags = getTagsToAdd(currentTags, newChildren);\n\tconst removeTags = getTagsToRemove(currentTags, newChildren);\n\n\t// Remove tags in reverse to keep indexes, keep persistant elements\n\tremoveTags\n\t\t.reverse()\n\t\t.filter(({ el }) => shouldManageTag(el))\n\t\t.filter(({ el }) => !shouldPersist(el))\n\t\t.forEach(({ el }) => currentHead.removeChild(el));\n\n\t// Insert tag *after* previous version of itself to preserve JS variable scope and CSS cascade\n\taddTags\n\t\t.filter(({ el }) => shouldManageTag(el))\n\t\t.forEach(({ el, index = 0 }) => {\n\t\t\tcurrentHead.insertBefore(el.cloneNode(true), currentHead.children[index + 1] || null);\n\t\t});\n\n\treturn {\n\t\tremoved: removeTags.map(({ el }) => el),\n\t\tadded: addTags.map(({ el }) => el)\n\t};\n}\n\nfunction getTagsToRemove(currentEls: Element[], newEls: Element[]): ElementCollection {\n\treturn currentEls.reduce((tags, el) => {\n\t\tconst isAmongNew = newEls.some((newEl) => compareTags(el, newEl));\n\t\tif (!isAmongNew) {\n\t\t\ttags.push({ el });\n\t\t}\n\t\treturn tags;\n\t}, [] as ElementCollection);\n}\n\nfunction getTagsToAdd(currentEls: Element[], newEls: Element[]): ElementCollection {\n\treturn newEls.reduce((tags, el, index) => {\n\t\tconst isAmongCurrent = currentEls.some((currentEl) => compareTags(el, currentEl));\n\t\tif (!isAmongCurrent) {\n\t\t\ttags.push({ el, index });\n\t\t}\n\t\treturn tags;\n\t}, [] as ElementCollection);\n}\n\nfunction shouldManageTag(el: Element) {\n\t// Let swup manage the title tag\n\tif (el.localName === 'title') {\n\t\treturn false;\n\t}\n\t// Leave swup theme styles untouched\n\tif (el.matches('[data-swup-theme]')) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\nfunction compareTags(oldTag: Element, newTag: Element) {\n\treturn oldTag.outerHTML === newTag.outerHTML;\n}\n","import waitForStylesheet from './waitForStylesheet.js';\n\nfunction isStylesheet(el: Element): el is HTMLLinkElement {\n\treturn el.matches('link[rel=stylesheet][href]');\n}\n\nexport default function waitForAssets(elements: Element[], timeoutMs: number = 0) {\n\treturn elements.filter(isStylesheet).map((el) => waitForStylesheet(el, timeoutMs));\n}\n","import { Handler } from 'swup';\nimport Plugin from '@swup/plugin';\n\nimport mergeHeadContents from './mergeHeadContents.js';\nimport updateLangAttribute from './updateLangAttribute.js';\nimport waitForAssets from './waitForAssets.js';\n\ntype Options = {\n\t/** Whether to keep orphaned `link`, `style` and `script` tags from the old page. Default: `false` */\n\tpersistAssets: boolean;\n\t/** Tags that will be persisted when a new page is loaded. Boolean, selector or predicate function. Default: `false` */\n\tpersistTags: boolean | string | ((el: Element) => boolean);\n\t/** Delay the transition to the new page until all newly added assets have finished loading. Default: `false` */\n\tawaitAssets: boolean;\n\t/** How long to wait for assets before continuing anyway. Only applies if `awaitAssets` is enabled. Default: `3000` */\n\ttimeout: number;\n};\n\nexport default class SwupHeadPlugin extends Plugin {\n\tname = 'SwupHeadPlugin';\n\n\trequires = { swup: '>=4.6' };\n\n\tdefaults: Options = {\n\t\tpersistTags: false,\n\t\tpersistAssets: false,\n\t\tawaitAssets: false,\n\t\ttimeout: 3000\n\t};\n\toptions: Options;\n\n\tconstructor(options: Partial<Options> = {}) {\n\t\tsuper();\n\n\t\tthis.options = { ...this.defaults, ...options };\n\n\t\t// persistAssets is a shortcut for: persistTags with a default asset selector for scripts & styles\n\t\tif (this.options.persistAssets && !this.options.persistTags) {\n\t\t\tthis.options.persistTags = 'link[rel=stylesheet], script[src], style';\n\t\t}\n\t}\n\n\tmount() {\n\t\tthis.before('content:replace', this.updateHead);\n\t}\n\n\tupdateHead: Handler<'content:replace'> = async (visit, { page: { html } }) => {\n\t\tconst newDocument = visit.to.document!;\n\n\t\tconst { removed, added } = mergeHeadContents(document.head, newDocument.head, {\n\t\t\tshouldPersist: (el) => this.isPersistentTag(el)\n\t\t});\n\t\tthis.swup.log(`Removed ${removed.length} / added ${added.length} tags in head`);\n\n\t\tconst lang = updateLangAttribute(document.documentElement, newDocument.documentElement);\n\t\tif (lang) {\n\t\t\tthis.swup.log(`Updated lang attribute: ${lang}`);\n\t\t}\n\n\t\tif (this.options.awaitAssets) {\n\t\t\tconst assetLoadPromises = waitForAssets(added, this.options.timeout);\n\t\t\tif (assetLoadPromises.length) {\n\t\t\t\tthis.swup.log(`Waiting for ${assetLoadPromises.length} assets to load`);\n\t\t\t\tawait Promise.all(assetLoadPromises);\n\t\t\t}\n\t\t}\n\t};\n\n\tisPersistentTag(el: Element) {\n\t\tconst { persistTags } = this.options;\n\t\tif (typeof persistTags === 'function') {\n\t\t\treturn persistTags(el);\n\t\t}\n\t\tif (typeof persistTags === 'string') {\n\t\t\treturn el.matches(persistTags);\n\t\t}\n\t\treturn Boolean(persistTags);\n\t}\n}\n","export default function updateLangAttribute(\n\tcurrentHtml: HTMLElement,\n\tnewHtml: HTMLElement\n): string | null {\n\tif (currentHtml.lang !== newHtml.lang) {\n\t\tcurrentHtml.lang = newHtml.lang;\n\t\treturn currentHtml.lang;\n\t} else {\n\t\treturn null;\n\t}\n}\n","export default function waitForStylesheet(element: HTMLLinkElement, timeoutMs: number = 0) {\n\tconst isLoaded = ({ href }: HTMLLinkElement) => {\n\t\treturn Array.from(document.styleSheets)\n\t\t\t.map(({ href }) => href)\n\t\t\t.includes(href);\n\t};\n\n\tconst whenLoaded = (cb: (value?: unknown) => void) => {\n\t\tif (isLoaded(element)) {\n\t\t\tcb();\n\t\t} else {\n\t\t\tsetTimeout(() => whenLoaded(cb), 10);\n\t\t}\n\t};\n\n\treturn new Promise((resolve) => {\n\t\twhenLoaded(resolve);\n\t\tif (timeoutMs > 0) {\n\t\t\tsetTimeout(resolve, timeoutMs);\n\t\t}\n\t});\n}\n","const r=r=>String(r).split(\".\").map(r=>String(parseInt(r||\"0\",10))).concat([\"0\",\"0\"]).slice(0,3).join(\".\");class e{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(r=>r()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error(\"You must define a name of plugin when creating a class.\")}_afterUnmount(){}_checkRequirements(){return\"object\"!=typeof this.requires||Object.entries(this.requires).forEach(e=>{let[t,n]=e;if(n=Array.isArray(n)?n:[n],!function(e,t,n){const s=function(r,e){if(\"swup\"===r)return e.version??\"\";{const t=e.findPlugin(r);return t?.version??\"\"}}(e,n);return!!s&&((e,t)=>t.every(t=>{const[,n,s]=t.match(/^([\\D]+)?(.*)$/)||[];var o,i;return((r,e)=>{const t={\"\":r=>0===r,\">\":r=>r>0,\">=\":r=>r>=0,\"<\":r=>r<0,\"<=\":r=>r<=0};return(t[e]||t[\"\"])(r)})((i=s,o=r(o=e),i=r(i),o.localeCompare(i,void 0,{numeric:!0})),n||\">=\")}))(s,t)}(t,n,this.swup)){const r=`${t} ${n.join(\", \")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${r}`)}}),!0}on(r,e,t){var n;void 0===t&&(t={}),e=!(n=e).name.startsWith(\"bound \")||n.hasOwnProperty(\"prototype\")?e.bind(this):e;const s=this.swup.hooks.on(r,e,t);return this.handlersToUnregister.push(s),s}once(r,e,t){return void 0===t&&(t={}),this.on(r,e,{...t,once:!0})}before(r,e,t){return void 0===t&&(t={}),this.on(r,e,{...t,before:!0})}replace(r,e,t){return void 0===t&&(t={}),this.on(r,e,{...t,replace:!0})}off(r,e){return this.swup.hooks.off(r,e)}}export{e as default};\n//# sourceMappingURL=index.module.js.map\n","type Comparator = '>' | '>=' | '<' | '<=';\n\n// Fill versions to exactly 3 decimals\nexport const normalizeVersion = (version: string): string => {\n\treturn String(version)\n\t\t.split('.')\n\t\t.map(segment => String(parseInt(segment || '0', 10)))\n\t\t.concat(['0', '0'])\n\t\t.slice(0, 3)\n\t\t.join('.');\n};\n\n// Numerically compare version strings after normalizing them\nexport const compareVersion = (a: string, b: string): number => {\n\ta = normalizeVersion(a);\n\tb = normalizeVersion(b);\n\treturn a.localeCompare(b, undefined, { numeric: true });\n};\n\n// Apply a comparator (equals, greater-than, etc) by its symbol to a sort comparison\nconst applyComparator = (comparisonResult: number, comparator: Comparator) => {\n\tconst comparators = {\n\t\t'': (r: number) => r === 0,\n\t\t'>': (r: number) => r > 0,\n\t\t'>=': (r: number) => r >= 0,\n\t\t'<': (r: number) => r < 0,\n\t\t'<=': (r: number) => r <= 0\n\t};\n\tconst comparatorFn = comparators[comparator] || comparators[''];\n\treturn comparatorFn(comparisonResult);\n};\n\n/**\n * Check if a version satisfies all given version requirements\n *\n * versionSatisfies('2.1.0', ['>=2', '<4']) // true\n * versionSatisfies('2.1.0', ['5']) // false\n *\n * @param {string} installed Installed version\n * @param {Array.<string>} requirements Array of requirements that must be satisfied\n * @returns boolean\n */\nexport const versionSatisfies = (installed: string, requirements: string[]) => {\n\treturn requirements.every((required) => {\n\t\tconst [, comparator, version] = required.match(/^([\\D]+)?(.*)$/) || [];\n\t\tconst comparisonResult = compareVersion(installed, version);\n\t\treturn applyComparator(comparisonResult, (comparator as Comparator) || '>=');\n\t});\n};\n","import type Swup from 'swup';\nimport type { Plugin, HookName, HookOptions, HookUnregister, Handler } from 'swup';\nimport { checkDependencyVersion } from './pluginRequirements.js';\n\nfunction isBound(func: Function) {\n\treturn func.name.startsWith('bound ') && !func.hasOwnProperty('prototype');\n}\n\nexport default abstract class SwupPlugin implements Plugin {\n\t/** Name of the plugin */\n\tabstract name: string;\n\n\t/** Identify as a swup plugin */\n\tisSwupPlugin: true = true;\n\n\t// Swup instance, assigned by swup itself\n\tswup!: Swup;\n\n\t/** Version of this plugin. Currently not in use, defined here for backward compatiblity. */\n\tversion?: string;\n\n\t/** Version requirements of this plugin. Example: `{ swup: '>=4' }` */\n\trequires?: Record<string, string | string[]> = {};\n\n\t// List of hook handlers to unregister on unmount\n\tprivate handlersToUnregister: HookUnregister[] = [];\n\n\t/** Run on mount */\n\tmount() {\n\t\t// this is mount method rewritten by class extending\n\t\t// and is executed when swup is enabled with plugin\n\t}\n\n\t/** Run on unmount */\n\tunmount() {\n\t\t// this is unmount method rewritten by class extending\n\t\t// and is executed when swup with plugin is disabled\n\n\t\t// Unsubscribe all registered hook handlers\n\t\tthis.handlersToUnregister.forEach((unregister) => unregister());\n\t\tthis.handlersToUnregister = [];\n\t}\n\n\t_beforeMount(): void {\n\t\tif (!this.name) {\n\t\t\tthrow new Error('You must define a name of plugin when creating a class.');\n\t\t}\n\t}\n\n\t_afterUnmount(): void {\n\t\t// here for any future hidden auto-cleanup\n\t}\n\n\t_checkRequirements(): boolean {\n\t\tif (typeof this.requires !== 'object') {\n\t\t\treturn true;\n\t\t}\n\n\t\tObject.entries(this.requires).forEach(([dependency, versions]) => {\n\t\t\tversions = Array.isArray(versions) ? versions : [versions];\n\t\t\tif (!checkDependencyVersion(dependency, versions, this.swup)) {\n\t\t\t\tconst requirement = `${dependency} ${versions.join(', ')}`;\n\t\t\t\tthrow new Error(`Plugin version mismatch: ${this.name} requires ${requirement}`);\n\t\t\t}\n\t\t});\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Register a new hook handler.\n\t *\n\t * On plugin unmount, the handler will automatically be unregistered.\n\t * The handler function is lexically bound to the plugin instance for convenience.\n\t * @see swup.hooks.on\n\t */\n\tprotected on<T extends HookName>(hook: T, handler: Handler<T>, options: HookOptions = {}): HookUnregister {\n\t\thandler = !isBound(handler) ? handler.bind(this) : handler;\n\t\tconst unregister = this.swup.hooks.on(hook, handler, options);\n\t\tthis.handlersToUnregister.push(unregister);\n\t\treturn unregister;\n\t}\n\n\tprotected once<T extends HookName>(hook: T, handler: Handler<T>, options: HookOptions = {}): HookUnregister {\n\t\treturn this.on(hook, handler, { ...options, once: true });\n\t}\n\n\tprotected before<T extends HookName>(hook: T, handler: Handler<T>, options: HookOptions = {}): HookUnregister {\n\t\treturn this.on(hook, handler, { ...options, before: true });\n\t}\n\n\tprotected replace<T extends HookName>(hook: T, handler: Handler<T>, options: HookOptions = {}): HookUnregister {\n\t\treturn this.on(hook, handler, { ...options, replace: true });\n\t}\n\n\tprotected off<T extends HookName>(hook: T, handler?: Handler<T>): void {\n\t\treturn this.swup.hooks.off(hook, handler!);\n\t}\n}\n","import type Swup from 'swup';\n\nimport { versionSatisfies } from './versionSatisfies.js';\n\nfunction getInstalledDependencyVersion(dependency: string, swup: Swup): string {\n\tif (dependency === 'swup') {\n\t\treturn swup.version ?? '';\n\t} else {\n\t\t// Circular type dependency?\n\t\t// findPlugin returns swup's Plugin type which is not up-to-date\n\t\t// with the actual Plugin type from index.ts\n\t\tconst plugin = swup.findPlugin(dependency);\n\t\treturn plugin?.version ?? '';\n\t}\n}\n\nexport function checkDependencyVersion(\n\tdependency: string,\n\trequirements: string[],\n\tswup: Swup\n): boolean {\n\tconst version = getInstalledDependencyVersion(dependency, swup);\n\tif (version) {\n\t\treturn versionSatisfies(version, requirements);\n\t} else {\n\t\treturn false;\n\t}\n}\n","import t from\"@swup/plugin\";class e extends t{constructor(t){void 0===t&&(t={}),super(),this.name=\"SwupScriptsPlugin\",this.requires={swup:\">=4\"},this.defaults={head:!0,body:!0,optin:!1},this.options=void 0,this.options={...this.defaults,...t}}mount(){this.on(\"content:replace\",this.runScripts)}runScripts(){const{head:t,body:e,optin:s}=this.options,o=this.getScope({head:t,body:e});if(!o)return;const r=Array.from(o.querySelectorAll(s?\"script[data-swup-reload-script]\":\"script:not([data-swup-ignore-script])\"));r.forEach(t=>this.runScript(t)),this.swup.log(`Executed ${r.length} scripts.`)}runScript(t){const e=document.createElement(\"script\");for(const{name:s,value:o}of t.attributes)e.setAttribute(s,o);return e.textContent=t.textContent,t.replaceWith(e),e}getScope(t){let{head:e,body:s}=t;return e&&s?document:e?document.head:s?document.body:null}}export{e as default};\n//# sourceMappingURL=index.module.js.map\n","import Plugin from '@swup/plugin';\n\nexport type Options = {\n\thead: boolean;\n\tbody: boolean;\n\toptin: boolean;\n};\n\nexport default class SwupScriptsPlugin extends Plugin {\n\tname = 'SwupScriptsPlugin';\n\n\trequires = {\n\t\tswup: '>=4'\n\t};\n\n\tdefaults: Options = {\n\t\thead: true,\n\t\tbody: true,\n\t\toptin: false\n\t};\n\n\toptions: Options;\n\n\tconstructor(options: Partial<Options> = {}) {\n\t\tsuper();\n\t\tthis.options = { ...this.defaults, ...options };\n\t}\n\n\tmount() {\n\t\tthis.on('content:replace', this.runScripts);\n\t}\n\n\trunScripts() {\n\t\tconst { head, body, optin } = this.options;\n\t\tconst scope = this.getScope({ head, body });\n\t\tif (!scope) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selector = optin\n\t\t\t? 'script[data-swup-reload-script]'\n\t\t\t: 'script:not([data-swup-ignore-script])';\n\n\t\tconst scripts = Array.from(scope.querySelectorAll<HTMLScriptElement>(selector));\n\t\tscripts.forEach((script) => this.runScript(script));\n\n\t\tthis.swup.log(`Executed ${scripts.length} scripts.`);\n\t}\n\n\trunScript(script: HTMLScriptElement) {\n\t\tconst element = document.createElement('script');\n\t\tfor (const { name, value } of script.attributes) {\n\t\t\telement.setAttribute(name, value);\n\t\t}\n\t\telement.textContent = script.textContent;\n\t\tscript.replaceWith(element);\n\n\t\treturn element;\n\t}\n\n\tgetScope({ head, body }: Pick<Options, 'head' | 'body'>) {\n\t\tif (head && body) return document;\n\n\t\tif (head) return document.head;\n\n\t\tif (body) return document.body;\n\n\t\treturn null;\n\t}\n}\n","import t from\"@swup/plugin\";import\"focus-options-polyfill\";import{Location as e}from\"swup\";function n(t,e){return Object.keys(e).reduce((t,n)=>t.replace(`{${n}}`,e[n]||\"\"),t||\"\")}class o{constructor(){this.id=\"swup-announcer\",this.style=\"position:absolute;top:0;left:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;word-wrap:normal;width:1px;height:1px;\",this.region=void 0,this.region=this.getRegion()??this.createRegion()}getRegion(){return document.getElementById(this.id)}createRegion(){const t=function(t){const e=document.createElement(\"template\");return e.innerHTML=t,e.content.children[0]}(`<p aria-live=\"assertive\" aria-atomic=\"true\" id=\"${this.id}\" style=\"${this.style}\"></p>`);return document.body.appendChild(t),t}announce(t,e=0){return new Promise(n=>{setTimeout(()=>{this.region.textContent===t&&(t=`${t}.`),this.region.textContent=\"\",this.region.textContent=t,n()},e)})}}function i(t){let e;if(e=\"string\"==typeof t?document.querySelector(t):t,!(e instanceof HTMLElement))return;const n=e.getAttribute(\"tabindex\");e.setAttribute(\"tabindex\",\"-1\"),e.focus({preventScroll:!0}),null!==n&&e.setAttribute(\"tabindex\",n)}class s extends t{constructor(t={}){super(),this.name=\"SwupA11yPlugin\",this.requires={swup:\">=4\"},this.defaults={headingSelector:\"h1\",respectReducedMotion:!0,autofocus:!1,announcements:{visit:\"Navigated to: {title}\",url:\"New page at {url}\"}},this.options=void 0,this.announcer=void 0,this.announcementDelay=100,this.rootSelector=\"body\",this.handleAnchorScroll=(t,{hash:e})=>{const n=this.swup.getAnchorElement(e);n instanceof HTMLElement&&i(n)},this.options={...this.defaults,...t},this.announcer=new o}mount(){this.swup.hooks.create(\"content:announce\"),this.swup.hooks.create(\"content:focus\"),this.before(\"visit:start\",this.prepareVisit),this.on(\"visit:start\",this.markAsBusy),this.on(\"visit:end\",this.unmarkAsBusy),this.on(\"visit:end\",this.focusContent),this.on(\"visit:end\",this.announceContent),this.on(\"scroll:anchor\",this.handleAnchorScroll),this.before(\"visit:start\",this.disableAnimations),this.before(\"link:self\",this.disableAnimations),this.before(\"link:anchor\",this.disableAnimations),this.swup.announce=this.announce.bind(this)}unmount(){this.swup.announce=void 0}announce(t){try{return Promise.resolve(this.announcer.announce(t)).then(function(){})}catch(t){return Promise.reject(t)}}markAsBusy(){document.documentElement.setAttribute(\"aria-busy\",\"true\")}unmarkAsBusy(){document.documentElement.removeAttribute(\"aria-busy\")}prepareVisit(t){t.a11y={announce:void 0,focus:this.rootSelector}}announceContent(t){this.swup.hooks.callSync(\"content:announce\",t,void 0,t=>{void 0===t.a11y.announce&&(t.a11y.announce=this.getPageAnnouncement()),t.a11y.announce&&this.announcer.announce(t.a11y.announce,this.announcementDelay)})}focusContent(t){this.swup.hooks.callSync(\"content:focus\",t,void 0,t=>{t.a11y.focus&&(this.options.autofocus&&!0===function(){const t=function(){const t=document.querySelector(\"body [autofocus]\");if(t&&!t.closest('[inert], [aria-disabled], [aria-hidden=\"true\"]'))return t}();return!!t&&(t!==document.activeElement&&t.focus(),!0)}()||i(t.a11y.focus))})}getPageAnnouncement(){const{headingSelector:t,announcements:o}=this.options;return function({headingSelector:t=\"h1\",announcements:o={}}){const i=document.documentElement.lang||\"*\",{href:s,url:r,pathname:u}=e.fromUrl(window.location.href),c=o[i]??o[\"*\"]??o;if(\"object\"!=typeof c)return;const a=document.querySelector(t);a||console.warn(`SwupA11yPlugin: No main heading (${t}) found on new page`);const h=a?.getAttribute(\"aria-label\")||a?.textContent||document.title||n(c.url,{href:s,url:r,path:u});return n(c.visit,{title:h,href:s,url:r,path:u})}({headingSelector:t,announcements:o})}disableAnimations(t){this.options.respectReducedMotion&&window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches&&(t.animation.animate=!1,t.scroll.animate=!1)}}export{s as default};\n//# sourceMappingURL=index.module.js.map\n","export function createElement(html: string): HTMLElement {\n\tconst template = document.createElement('template');\n\ttemplate.innerHTML = html;\n\treturn template.content.children[0] as HTMLElement;\n}\n\nexport function parseTemplate(str: string, replacements: Record<string, string>): string {\n\treturn Object.keys(replacements).reduce((str, key) => {\n\t\treturn str.replace(`{${key}}`, replacements[key] || '');\n\t}, str || '');\n}\n\nexport function prefersReducedMotion(): boolean {\n\treturn window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n}\n","import { Location } from 'swup';\nimport { AnnouncementTranslations, Options } from './index.js';\nimport { createElement, parseTemplate } from './util.js';\n\nexport class Announcer {\n\tid: string = 'swup-announcer';\n\tstyle: string = `position:absolute;top:0;left:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;word-wrap:normal;width:1px;height:1px;`;\n\tregion: HTMLElement;\n\n\tconstructor() {\n\t\tthis.region = this.getRegion() ?? this.createRegion();\n\t}\n\n\tgetRegion(): HTMLElement | null {\n\t\treturn document.getElementById(this.id);\n\t}\n\n\tcreateRegion(): HTMLElement {\n\t\tconst liveRegion = createElement(\n\t\t\t`<p aria-live=\"assertive\" aria-atomic=\"true\" id=\"${this.id}\" style=\"${this.style}\"></p>`\n\t\t);\n\t\tdocument.body.appendChild(liveRegion);\n\t\treturn liveRegion;\n\t}\n\n\tannounce(message: string, delay: number = 0): Promise<void> {\n\t\treturn new Promise((resolve) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\t// Make each message unique to allow reading identical page titles twice in a row\n\t\t\t\tif (this.region.textContent === message) {\n\t\t\t\t\tmessage = `${message}.`;\n\t\t\t\t}\n\t\t\t\t// Clear before announcing\n\t\t\t\tthis.region.textContent = '';\n\t\t\t\tthis.region.textContent = message;\n\n\t\t\t\tresolve();\n\t\t\t}, delay);\n\t\t});\n\t}\n}\n\nexport type PageAnnouncementOptions = Pick<Options, 'headingSelector' | 'announcements'>;\n\nexport function getPageAnnouncement({\n\theadingSelector = 'h1',\n\tannouncements = {}\n}: PageAnnouncementOptions): string | undefined {\n\tconst lang = document.documentElement.lang || '*';\n\tconst { href, url, pathname: path } = Location.fromUrl(window.location.href);\n\n\tconst templates =\n\t\t(announcements as AnnouncementTranslations)[lang] ??\n\t\t(announcements as AnnouncementTranslations)['*'] ??\n\t\tannouncements;\n\tif (typeof templates !== 'object') return;\n\n\t// Look for first heading on page\n\tconst headingEl = document.querySelector(headingSelector);\n\tif (!headingEl) {\n\t\tconsole.warn(`SwupA11yPlugin: No main heading (${headingSelector}) found on new page`);\n\t}\n\n\t// Get page heading from aria attribute or text content\n\tconst heading = headingEl?.getAttribute('aria-label') || headingEl?.textContent;\n\n\t// Fall back to document title, then url if no title was found\n\tconst title = heading || document.title || parseTemplate(templates.url, { href, url, path });\n\n\t// Replace {variables} in template\n\treturn parseTemplate(templates.visit, { title, href, url, path });\n}\n","export function focusElement(elementOrSelector: string | HTMLElement) {\n\tlet el: HTMLElement | null;\n\tif (typeof elementOrSelector === 'string') {\n\t\tel = document.querySelector<HTMLElement>(elementOrSelector);\n\t} else {\n\t\tel = elementOrSelector;\n\t}\n\n\tif (!(el instanceof HTMLElement)) return;\n\n\t// Apply a tabindex attribute to allow focusing non-focusable elements\n\tconst tabindex = el.getAttribute('tabindex');\n\tel.setAttribute('tabindex', '-1');\n\tel.focus({ preventScroll: true });\n\tif (tabindex !== null) {\n\t\tel.setAttribute('tabindex', tabindex);\n\t} else {\n\t\t// Removing the tabindex will reset screen reader position, so we'll keep it\n\t\t// el.removeAttribute('tabindex');\n\t}\n}\n\nexport function focusAutofocusElement(): boolean {\n\tconst autofocusEl = getAutofocusElement();\n\tif (!autofocusEl) return false;\n\n\tif (autofocusEl !== document.activeElement) {\n\t\t// Only focus if not already focused\n\t\t// No preventScroll flag here, as probably intended with autofocus\n\t\tautofocusEl.focus();\n\t}\n\treturn true;\n}\n\nexport function getAutofocusElement(): HTMLElement | undefined {\n\tconst focusEl = document.querySelector<HTMLElement>('body [autofocus]');\n\tif (focusEl && !focusEl.closest('[inert], [aria-disabled], [aria-hidden=\"true\"]')) {\n\t\treturn focusEl;\n\t}\n}\n","import { HookHandler, Visit } from 'swup';\nimport Plugin from '@swup/plugin';\n\nimport 'focus-options-polyfill';\n\nimport { Announcer, getPageAnnouncement } from './announcements.js';\nimport { focusAutofocusElement, focusElement } from './focus.js';\nimport { prefersReducedMotion } from './util.js';\n\nexport interface VisitA11y {\n\t/** How to announce the new content after it inserted */\n\tannounce: string | false | undefined;\n\t/** The element to focus after the content is replaced */\n\tfocus: string | false;\n}\n\ndeclare module 'swup' {\n\texport interface Visit {\n\t\t/** Accessibility settings for this visit */\n\t\ta11y: VisitA11y;\n\t}\n\texport interface HookDefinitions {\n\t\t'content:announce': undefined;\n\t\t'content:focus': undefined;\n\t}\n\texport interface Swup {\n\t\t/**\n\t\t * Announce something programmatically\n\t\t */\n\t\tannounce?: SwupA11yPlugin['announce'];\n\t}\n}\n\n/** Templates for announcements of the new page content. */\nexport type Announcements = {\n\t/** How to announce the new page. */\n\tvisit: string;\n\t/** How to read a page url. Used as fallback if no heading was found. */\n\turl: string;\n};\n\n/** Translations of announcements, keyed by language. */\nexport type AnnouncementTranslations = {\n\t[lang: string]: Announcements;\n};\n\nexport type Options = {\n\t/** The selector for finding headings inside the main content area. */\n\theadingSelector: string;\n\t/** Whether to skip animations for users that prefer reduced motion. */\n\trespectReducedMotion: boolean;\n\t/** How to announce the new page title and url. */\n\tannouncements: Announcements | AnnouncementTranslations;\n\t/** Whether to focus elements with an [autofocus] attribute after navigation. */\n\tautofocus: boolean;\n};\n\nexport default class SwupA11yPlugin extends Plugin {\n\tname = 'SwupA11yPlugin';\n\n\trequires = { swup: '>=4' };\n\n\tdefaults: Options = {\n\t\theadingSelector: 'h1',\n\t\trespectReducedMotion: true,\n\t\tautofocus: false,\n\t\tannouncements: {\n\t\t\tvisit: 'Navigated to: {title}',\n\t\t\turl: 'New page at {url}'\n\t\t}\n\t};\n\n\toptions: Options;\n\n\t/**\n\t * The announcer instance for reading new page content.\n\t */\n\tannouncer: Announcer;\n\n\t/**\n\t * The delay before announcing new page content.\n\t * Why 100ms? see research at https://github.com/swup/a11y-plugin/pull/50\n\t */\n\tannouncementDelay: number = 100;\n\n\t/**\n\t * The selector for the main content area of the page, to focus after navigation.\n\t */\n\trootSelector: string = 'body';\n\n\tconstructor(options: Partial<Options> = {}) {\n\t\tsuper();\n\n\t\t// Merge default options with user defined options\n\t\tthis.options = { ...this.defaults, ...options };\n\n\t\t// Create announcer instance for announcing new page content\n\t\tthis.announcer = new Announcer();\n\t}\n\n\tmount() {\n\t\t// Prepare new hooks\n\t\tthis.swup.hooks.create('content:announce');\n\t\tthis.swup.hooks.create('content:focus');\n\n\t\t// Prepare visit by adding a11y settings to visit object\n\t\tthis.before('visit:start', this.prepareVisit);\n\n\t\t// Mark page as busy during transitions\n\t\tthis.on('visit:start', this.markAsBusy);\n\t\tthis.on('visit:end', this.unmarkAsBusy);\n\n\t\t// Focus new page content after visit completes\n\t\tthis.on('visit:end', this.focusContent);\n\n\t\t// Announce new page title after visit completes\n\t\tthis.on('visit:end', this.announceContent);\n\n\t\t// Move focus start point when clicking on-page anchors\n\t\tthis.on('scroll:anchor', this.handleAnchorScroll);\n\n\t\t// Disable transition and scroll animations if user prefers reduced motion\n\t\tthis.before('visit:start', this.disableAnimations);\n\t\tthis.before('link:self', this.disableAnimations);\n\t\tthis.before('link:anchor', this.disableAnimations);\n\n\t\t// Announce something programmatically\n\t\tthis.swup.announce = this.announce.bind(this);\n\t}\n\n\tunmount() {\n\t\tthis.swup.announce = undefined;\n\t}\n\n\tasync announce(message: string): Promise<void> {\n\t\tawait this.announcer.announce(message);\n\t}\n\n\tmarkAsBusy() {\n\t\tdocument.documentElement.setAttribute('aria-busy', 'true');\n\t}\n\n\tunmarkAsBusy() {\n\t\tdocument.documentElement.removeAttribute('aria-busy');\n\t}\n\n\tprepareVisit(visit: Visit) {\n\t\tvisit.a11y = {\n\t\t\tannounce: undefined,\n\t\t\tfocus: this.rootSelector\n\t\t};\n\t}\n\n\tannounceContent(visit: Visit) {\n\t\tthis.swup.hooks.callSync('content:announce', visit, undefined, (visit) => {\n\t\t\t// Allow customizing announcement before this hook\n\t\t\tif (typeof visit.a11y.announce === 'undefined') {\n\t\t\t\tvisit.a11y.announce = this.getPageAnnouncement();\n\t\t\t}\n\n\t\t\tif (!visit.a11y.announce) return;\n\n\t\t\tthis.announcer.announce(visit.a11y.announce, this.announcementDelay);\n\t\t});\n\t}\n\n\tfocusContent(visit: Visit) {\n\t\tthis.swup.hooks.callSync('content:focus', visit, undefined, (visit) => {\n\t\t\tif (!visit.a11y.focus) return;\n\n\t\t\t// Found and focused [autofocus] element? Return early\n\t\t\tif (this.options.autofocus && focusAutofocusElement() === true) return;\n\n\t\t\t// Otherwise, find and focus actual content container\n\t\t\tfocusElement(visit.a11y.focus);\n\t\t});\n\t}\n\n\thandleAnchorScroll: HookHandler<'scroll:anchor'> = (visit, { hash }) => {\n\t\tconst anchor = this.swup.getAnchorElement(hash);\n\t\tif (anchor instanceof HTMLElement) {\n\t\t\tfocusElement(anchor);\n\t\t}\n\t};\n\n\tgetPageAnnouncement(): string | undefined {\n\t\tconst { headingSelector, announcements } = this.options;\n\t\treturn getPageAnnouncement({ headingSelector, announcements });\n\t}\n\n\tdisableAnimations(visit: Visit) {\n\t\tif (this.options.respectReducedMotion && prefersReducedMotion()) {\n\t\t\tvisit.animation.animate = false;\n\t\t\t// @ts-expect-error: animate is undefined unless Scroll Plugin installed\n\t\t\tvisit.scroll.animate = false;\n\t\t}\n\t}\n}\n","// focus - focusOptions - preventScroll polyfill\n(function() {\n  if (\n    typeof window === \"undefined\" ||\n    typeof document === \"undefined\" ||\n    typeof HTMLElement === \"undefined\"\n  ) {\n    return;\n  }\n\n  var supportsPreventScrollOption = false;\n  try {\n    var focusElem = document.createElement(\"div\");\n    focusElem.addEventListener(\n      \"focus\",\n      function(event) {\n        event.preventDefault();\n        event.stopPropagation();\n      },\n      true\n    );\n    focusElem.focus(\n      Object.defineProperty({}, \"preventScroll\", {\n        get: function() {\n          // Edge v18 gives a false positive for supporting inputs\n          if (\n            navigator &&\n            typeof navigator.userAgent !== 'undefined' &&\n            navigator.userAgent &&\n            navigator.userAgent.match(/Edge\\/1[7-8]/)) {\n              return supportsPreventScrollOption = false\n          }\n\n          supportsPreventScrollOption = true;\n        }\n      })\n    );\n  } catch (e) {}\n\n  if (\n    HTMLElement.prototype.nativeFocus === undefined &&\n    !supportsPreventScrollOption\n  ) {\n    HTMLElement.prototype.nativeFocus = HTMLElement.prototype.focus;\n\n    var calcScrollableElements = function(element) {\n      var parent = element.parentNode;\n      var scrollableElements = [];\n      var rootScrollingElement =\n        document.scrollingElement || document.documentElement;\n\n      while (parent && parent !== rootScrollingElement) {\n        if (\n          parent.offsetHeight < parent.scrollHeight ||\n          parent.offsetWidth < parent.scrollWidth\n        ) {\n          scrollableElements.push([\n            parent,\n            parent.scrollTop,\n            parent.scrollLeft\n          ]);\n        }\n        parent = parent.parentNode;\n      }\n      parent = rootScrollingElement;\n      scrollableElements.push([parent, parent.scrollTop, parent.scrollLeft]);\n\n      return scrollableElements;\n    };\n\n    var restoreScrollPosition = function(scrollableElements) {\n      for (var i = 0; i < scrollableElements.length; i++) {\n        scrollableElements[i][0].scrollTop = scrollableElements[i][1];\n        scrollableElements[i][0].scrollLeft = scrollableElements[i][2];\n      }\n      scrollableElements = [];\n    };\n\n    var patchedFocus = function(args) {\n      if (args && args.preventScroll) {\n        var evScrollableElements = calcScrollableElements(this);\n        if (typeof setTimeout === 'function') {\n          var thisElem = this;\n          setTimeout(function () {\n            thisElem.nativeFocus();\n            restoreScrollPosition(evScrollableElements);\n          }, 0);\n        } else {\n          this.nativeFocus();\n          restoreScrollPosition(evScrollableElements);\n        }\n      }\n      else {\n        this.nativeFocus();\n      }\n    };\n\n    HTMLElement.prototype.focus = patchedFocus;\n  }\n})();\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$f13ecebb1f16f955$export$6503ec6e8aabbaf","$f13ecebb1f16f955$export$f7ad0328861e2f03","$f13ecebb1f16f955$var$mapping","Map","baseUrl","manifest","i","length","path","resolved","URL","toString","$ce4ea6902f7a0721$export$bdfd709ae4826697","$ce4ea6902f7a0721$var$bundleURL","value","$ce4ea6902f7a0721$var$getBundleURL","matches","stack","match","replace","resolve","then","$7lV8K","bundle","Promise","reject","concat","document","getElementsByTagName","some","script","src","preloadLink","createElement","href","rel","as","head","appendChild","async","type","onerror","error","TypeError","message","onload","remove","$55a6d16921f8ab25$var$cachedBundles","$55a6d16921f8ab25$var$cachedPreloads","$55a6d16921f8ab25$var$cachedPrefetches","loader","cache","$55a6d16921f8ab25$var$getCache","apply","arguments","catch","getBundleURL","JSON","parse","$f227c2d5fc31e4aa$var$ledger","WeakMap","$f227c2d5fc31e4aa$var$editLedger","wanted","baseElement","callback","setup","has","elementMap","setups","Set","existed","add","delete","$f227c2d5fc31e4aa$export$2e2bcd8739ae039","selector","options","signal","base","aborted","once","nativeListenerOptions","Document","documentElement","capture","Boolean","listenerFunction","event","delegateTarget","$f227c2d5fc31e4aa$var$safeClosest","target","Text","parentElement","Element","currentTarget","closest","contains","delegateEvent","assign","removeEventListener","stringify","addEventListener","$cda9d781c194f45f$export$b04d9b8d414ba5e8","t","String","toLowerCase","$cda9d781c194f45f$export$dc90482e4ef07afd","hash","window","location","pathname","search","$cda9d781c194f45f$export$c38a4311235454af","url","random","Math","source","history","pushState","$cda9d781c194f45f$export$9dd2847e0d2d8b0","state","replaceState","$cda9d781c194f45f$export$b93d41a1bb659592","o","r","AbortController","destroy","abort","$cda9d781c194f45f$export$18a2be9195644f38","constructor","baseURI","setPrototypeOf","prototype","fromElement","getAttribute","fromUrl","$cda9d781c194f45f$var$l","status","u","text","hooks","response","$cda9d781c194f45f$var$h","c","l","html","write","method","visit","requestHeaders","headers","timeout","d","m","setTimeout","f","fetch","clearTimeout","timedOut","name","p","$cda9d781c194f45f$var$u","swup","pages","size","all","forEach","callSync","page","update","clear","prune","resolveUrl","$cda9d781c194f45f$export$2fa187e846a241c4","querySelector","$cda9d781c194f45f$export$dcd0d083aa86c355","Array","from","querySelectorAll","$cda9d781c194f45f$export$bdd553fddd433dcb","requestAnimationFrame","$cda9d781c194f45f$export$4369c812aac99591","$cda9d781c194f45f$var$w","swupClasses","selectors","scope","animation","containers","isArray","join","targets","trim","classList","slice","className","split","filter","isSwupClass","startsWith","$cda9d781c194f45f$var$y","to","trigger","scroll","currentPageUrl","el","animate","wait","native","animationScope","animationSelector","read","action","popstate","direction","reset","advance","done","$cda9d781c194f45f$var$P","$cda9d781c194f45f$var$k","Symbol","iterator","$cda9d781c194f45f$var$b","$cda9d781c194f45f$var$S","bind","$cda9d781c194f45f$var$E","$cda9d781c194f45f$var$U","registry","create","exists","console","on","warn","hook","handler","off","before","a","parseCallArgs","after","h","getHandlers","run","dispatchDomEvent","runSync","next","return","push","defaultHandler","$cda9d781c194f45f$export$8586fbe018c72b76","found","replaced","values","sortRegistrations","sort","priority","args","dispatchEvent","CustomEvent","detail","bubbles","$cda9d781c194f45f$var$C","charAt","substring","decodeURIComponent","getElementById","CSS","escape","body","$cda9d781c194f45f$var$$","elements","map","propCount","getComputedStyle","$cda9d781c194f45f$var$H","$cda9d781c194f45f$var$x","$cda9d781c194f45f$var$j","$cda9d781c194f45f$var$A","max","performance","now","includes","elapsedTime","$cda9d781c194f45f$var$V","parseFloat","$cda9d781c194f45f$var$I","navigating","referrer","classes","animatePageOut","animatePageIn","startViewTransition","renderPage","finished","onVisitEnd","fetchPage","DOMParser","parseFromString","currentHistoryIndex","index","skipPopStateHandling","back","performNavigation","$cda9d781c194f45f$var$L","shouldIgnoreVisit","createVisit","$cda9d781c194f45f$var$T","skip","awaitAnimations","$cda9d781c194f45f$var$q","innerText","title","replaceWith","cloneNode","$cda9d781c194f45f$var$R","behavior","getAnchorElement","scrollIntoView","scrollTo","top","left","$cda9d781c194f45f$var$N","$cda9d781c194f45f$var$D","isSameResolvedUrl","replaceContent","scrollToContent","$cda9d781c194f45f$var$M","isSwupPlugin","_checkRequirements","_beforeMount","mount","plugins","$cda9d781c194f45f$var$O","findPlugin","unmount","_afterUnmount","$cda9d781c194f45f$var$W","find","$cda9d781c194f45f$var$B","$cda9d781c194f45f$var$_","$cda9d781c194f45f$var$F","animateHistoryBrowsing","ignoreVisit","linkSelector","linkToSelf","Accept","$c86030b686424f63$var$r","parseInt","$c86030b686424f63$export$2e2bcd8739ae039","version","requires","handlersToUnregister","entries","every","localeCompare","numeric","hasOwnProperty","$4339f26e29d20307$var$t","localName","$4339f26e29d20307$var$s","outerHTML","$4339f26e29d20307$var$n","$09ba77c7686403d5$var$n","keys","reduce","HTMLElement","supportsPreventScrollOption","focusElem","preventDefault","stopPropagation","focus","navigator","userAgent","undefined","nativeFocus","calcScrollableElements","element","parent","parentNode","scrollableElements","rootScrollingElement","scrollingElement","offsetHeight","scrollHeight","offsetWidth","scrollWidth","scrollTop","scrollLeft","restoreScrollPosition","preventScroll","evScrollableElements","thisElem","$09ba77c7686403d5$var$o","style","region","getRegion","createRegion","innerHTML","content","children","announce","textContent","$09ba77c7686403d5$var$i","setAttribute","$67bb51d0d4bb1052$var$swup","defaults","clickDelegate","use","unuse","log","navigate","getCurrentUrl","handleLinkClick","handlePopState","enable","scrollRestoration","toggle","origin","triggerWillOpenNewWindow","metaKey","ctrlKey","shiftKey","altKey","button","persistTags","persistAssets","awaitAssets","updateHead","removed","added","shouldPersist","reverse","removeChild","insertBefore","isPersistentTag","lang","styleSheets","optin","runScripts","getScope","runScript","attributes","headingSelector","respectReducedMotion","autofocus","announcements","announcer","announcementDelay","rootSelector","handleAnchorScroll","prepareVisit","markAsBusy","unmarkAsBusy","focusContent","announceContent","disableAnimations","removeAttribute","a11y","getPageAnnouncement","activeElement","matchMedia","default","Menu","Bookmarks","WindowManager","createDraggables","classify","fallback","createHistoryRecord","data","updateHistoryRecord","controller","delegate","Location","super","this","matchPath","_this","_temp2","_result","responseUrl","FetchError","finalUrl","timeoutId","_temp","_this$hooks$call","_catch","details","Cache","copy","key","result","payload","predicate","urlToResolve","query","context","queryAll","nextTick","isPromise","obj","runAsPromise","func","forceReflow","getBoundingClientRect","Classes","Visit","_iteratorSymbol","pact","_Pact","_settle","observer","onFulfilled","onRejected","thenable","Hooks","ledger","registration","arg1","arg2","arg3","registrations","rethrow","_exit","_this2","results","check","step","_cycle","_fixup","array","_isSettledPact","_forTo","_forOf","_result2","T","createDefaultHandler","b","decoded","animatedElements","awaitedAnimations","styles","transitionDelays","getStyleProperties","TRANSITION","transitionDurations","transitionTimeout","calculateTimeout","animationDelays","ANIMATION","animationDurations","animationTimeout","getTransitionInfo","endEvent","startTime","propsTransitioned","end","onEnd","isTransitionOrAnimationEvent","awaitAnimationsOnElement","delays","durations","duration","toMs","time","_temp4","_exit2","_temp8","_result4","_temp6","_temp5","_renderPage3","_page3","_renderPage2","_page2","_temp7","_renderPage","_page","_temp9","_this$fetchPage","cachedPage","newUrl","_finallyRethrows","_wasThrown","_result3","_temp3","incomingDocument","persistedElements","currentEl","incomingEl","existing","replacement","scrollTarget","scrolled","anchor","plugin","maybeInvalidPlugin","pluginOrName","url1","url2","Swup","triggerEl","shouldManageTag","compareTags","oldTag","newTag","isStylesheet","SwupHeadPlugin","Plugin","newDocument","currentHead","newHead","currentTags","newChildren","addTags","currentEls","tags","removeTags","newEls","newEl","getTagsToRemove","mergeHeadContents","currentHtml","newHtml","assetLoadPromises","timeoutMs","whenLoaded","cb","isLoaded","waitForStylesheet","waitForAssets","normalizeVersion","segment","SwupPlugin","unregister","_ref","dependency","versions","requirements","getInstalledDependencyVersion","versionSatisfies","installed","required","comparator","compareVersion","applyComparator","comparisonResult","comparators","checkDependencyVersion","requirement","SwupScriptsPlugin","scripts","parseTemplate","str","replacements","Announcer","liveRegion","template","delay","focusElement","elementOrSelector","tabindex","SwupA11yPlugin","autofocusEl","focusEl","getAutofocusElement","focusAutofocusElement","templates","headingEl"],"version":3,"file":"swup.js.map"}